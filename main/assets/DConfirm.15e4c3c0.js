import{c as ye,B as ke,o as be,i as ge,a as xe,b as pe,d as he,e as Te,f as Pe}from"./lib.75e6cd80.js";import{i as O,H as Q,d as U,I as we,a as l,Q as x,ab as Be,ac as Fe,e as W,_ as V,ad as q,k as i,ae as Oe,af as Se,ag as Ae,ah as p,ai as H,aj as Ne,ak as Ie,al as De,am as Re}from"./index.611b52b0.js";import{E as F}from"./messageLib.15acb5c4.js";import{M as C,d as h}from"./Modal.a2e097dd.js";var _e=function(){var e=O(!1);return Q(function(){e.value=!0}),e};const $e=_e;var je={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function G(n){return!!(n&&!!n.then)}const K=U({name:"ActionButton",props:je,setup:function(e,m){var c=m.slots,r=O(!1),g=O(),u=O(!1),y,f=$e();we(function(){e.autofocus&&(y=setTimeout(function(){var t;return(t=g.value.$el)===null||t===void 0?void 0:t.focus()}))}),Q(function(){clearTimeout(y)});var T=function(a){var o=e.close;!G(a)||(u.value=!0,a.then(function(){f.value||(u.value=!1),o.apply(void 0,arguments),r.value=!1},function(d){console.error(d),f.value||(u.value=!1),r.value=!1}))},s=function(a){var o=e.actionFn,d=e.close,k=d===void 0?function(){}:d;if(!r.value){if(r.value=!0,!o){k();return}var v;if(e.emitEvent){if(v=o(a),e.quitOnNullishReturnValue&&!G(v)){r.value=!1,k(a);return}}else if(o.length)v=o(k),r.value=!1;else if(v=o(),!v){k();return}T(v)}};return function(){var t=e.type,a=e.prefixCls,o=e.buttonProps;return l(ke,x(x(x({},ye(t)),{},{onClick:s,loading:u.value,prefixCls:a},o),{},{ref:g}),c)}}});function P(n){return typeof n=="function"?n():n}const Me=U({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,m){var c=m.attrs,r=Be("Modal"),g=Fe(r,1),u=g[0];return function(){var y=e.icon,f=e.onCancel,T=e.onOk,s=e.close,t=e.closable,a=t===void 0?!1:t,o=e.zIndex,d=e.afterClose,k=e.visible,v=e.keyboard,A=e.centered,E=e.getContainer,J=e.maskStyle,Y=e.okButtonProps,Z=e.cancelButtonProps,N=e.okCancel,I=N===void 0?!0:N,D=e.width,ee=D===void 0?416:D,R=e.mask,ne=R===void 0?!0:R,_=e.maskClosable,te=_===void 0?!1:_,$=e.type,j=e.title,oe=e.content,ae=e.direction,re=e.closeIcon,le=e.modalRender,ie=e.focusTriggerAfterClose,B=e.rootPrefixCls,ce=e.bodyStyle,se=e.wrapClassName,ue=e.okType||"primary",S=e.prefixCls||"ant-modal",b="".concat(S,"-confirm"),fe=c.style||{},de=P(e.okText)||(I?u.value.okText:u.value.justOkText),Ce=P(e.cancelText)||u.value.cancelText,M=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",me=W(b,"".concat(b,"-").concat($),"".concat(S,"-").concat($),V({},"".concat(b,"-rtl"),ae==="rtl"),c.class),ve=I&&l(K,{actionFn:f,close:s,autofocus:M==="cancel",buttonProps:Z,prefixCls:"".concat(B,"-btn")},{default:function(){return[Ce]}});return l(C,{prefixCls:S,class:me,wrapClassName:W(V({},"".concat(b,"-centered"),!!A),se),onCancel:function(L){return s({triggerCancel:!0},L)},visible:k,title:"",footer:"",transitionName:q(B,"zoom",e.transitionName),maskTransitionName:q(B,"fade",e.maskTransitionName),mask:ne,maskClosable:te,maskStyle:J,style:fe,bodyStyle:ce,width:ee,zIndex:o,afterClose:d,keyboard:v,centered:A,getContainer:E,closable:a,closeIcon:re,modalRender:le,focusTriggerAfterClose:ie},{default:function(){return[l("div",{class:"".concat(b,"-body-wrapper")},[l("div",{class:"".concat(b,"-body")},[P(y),j===void 0?null:l("span",{class:"".concat(b,"-title")},[P(j)]),l("div",{class:"".concat(b,"-content")},[P(oe)])]),l("div",{class:"".concat(b,"-btns")},[ve,l(K,{type:ue,actionFn:T,close:s,autofocus:M==="ok",buttonProps:Y,prefixCls:"".concat(B,"-btn")},{default:function(){return[de]}})])])]}})}}});var ze=function(e){var m=document.createDocumentFragment(),c=i(i({},be(e,["parentContext","appContext"])),{close:u,visible:!0}),r=null;function g(){r&&(H(null,m),r.component.update(),r=null);for(var s=arguments.length,t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];var o=t.some(function(v){return v&&v.triggerCancel});e.onCancel&&o&&e.onCancel.apply(e,t);for(var d=0;d<h.length;d++){var k=h[d];if(k===u){h.splice(d,1);break}}}function u(){for(var s=this,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];c=i(i({},c),{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),g.apply(s,a)}}),y(c)}function y(s){typeof s=="function"?c=s(c):c=i(i({},c),s),r&&(i(r.component.props,c),r.component.update())}var f=function(t){var a=Ie,o=a.prefixCls,d=t.prefixCls||"".concat(o,"-modal");return l(Ne,x(x({},a),{},{notUpdateGlobalConfig:!0,prefixCls:o}),{default:function(){return[l(Me,x(x({},t),{},{rootPrefixCls:o,prefixCls:d}),null)]}})};function T(s){var t=l(f,i({},s));return t.appContext=e.parentContext||e.appContext||t.appContext,H(t,m),t}return r=T(c),h.push(u),{destroy:u,update:y}};const w=ze;function Le(n){return i(i({icon:function(){return l(p,null,null)},okCancel:!1},n),{type:"warning"})}function We(n){return i(i({icon:function(){return l(Oe,null,null)},okCancel:!1},n),{type:"info"})}function Ve(n){return i(i({icon:function(){return l(Se,null,null)},okCancel:!1},n),{type:"success"})}function qe(n){return i(i({icon:function(){return l(Ae,null,null)},okCancel:!1},n),{type:"error"})}function He(n){return i(i({icon:function(){return l(p,null,null)},okCancel:!0},n),{type:"confirm"})}function X(n){return w(Le(n))}C.info=function(e){return w(We(e))};C.success=function(e){return w(Ve(e))};C.error=function(e){return w(qe(e))};C.warning=X;C.warn=X;C.confirm=function(e){return w(He(e))};C.destroyAll=function(){for(;h.length;){var e=h.pop();e&&e()}};C.install=function(n){return n.component(C.name,C),n};var Ge="[object Map]",Ke="[object Set]",Qe=Object.prototype,Ue=Qe.hasOwnProperty;function nn(n){if(n==null)return!0;if(De(n)&&(Re(n)||typeof n=="string"||typeof n.splice=="function"||ge(n)||xe(n)||pe(n)))return!n.length;var e=he(n);if(e==Ge||e==Ke)return!n.size;if(Te(n))return!Pe(n).length;for(var m in n)if(Ue.call(n,m))return!1;return!0}var Xe=(n=>(n.MD="md",n.TXT="txt",n.HTML="html",n.PDF="pdf",n.CUSTOM="custom",n))(Xe||{}),Ee=(n=>(n.Typing="typing",n.Poster="poster",n))(Ee||{});const tn="PDFStorage";function on(n,e,m){const{icon:c,title:r,content:g,okText:u,cancelText:y}=n;let f;switch(c){case F.Success:f=p;break;case F.Error:f=p;break;case F.Warning:f=p;break;case F.Info:f=p;break;default:f=c;break}C.confirm({icon:f?l(f):"",title:r,content:g,okText:u||"",cancelText:y||"",onOk(){e&&e()},onCancel(){m&&m()}})}export{tn as C,Ee as E,Xe as a,nn as i,on as s};
