import{an as se,d as M,P as k,i as P,G as Be,I as Ee,F as ne,ac as J,n as he,H as ke,a as v,ao as Ie,S as Re,K as Ae,k as T,b as Le,Q as h,ap as we,aq as Ne,ar as xe,M as Pe,N as Me,e as Te,ab as je,u as De,_ as ce,as as Fe,ad as ue,Z as We}from"./index.611b52b0.js";import{_ as $e,h as Ve,w as de,P as ze,j as te,o as Ue,p as Ke,k as He,K as fe,u as Xe,l as Ye,B as ve,c as qe}from"./lib.75e6cd80.js";import{c as Ge}from"./styleChecker.fdf7553f.js";var q;function _e(l){if(typeof document>"u")return 0;if(l||q===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var o=document.createElement("div"),t=o.style;t.position="absolute",t.top="0",t.left="0",t.pointerEvents="none",t.visibility="hidden",t.width="200px",t.height="150px",t.overflow="hidden",o.appendChild(e),document.body.appendChild(o);var n=e.offsetWidth;o.style.overflow="scroll";var a=e.offsetWidth;n===a&&(a=o.clientWidth),document.body.removeChild(o),q=n-a}return q}function L(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.element,t=o===void 0?document.body:o,n={},a=Object.keys(l);return a.forEach(function(f){n[f]=t.style[f]}),a.forEach(function(f){t.style[f]=l[f]}),n}function Qe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var G={};const me=function(l){if(!(!Qe()&&!l)){var e="ant-scrolling-effect",o=new RegExp("".concat(e),"g"),t=document.body.className;if(l){if(!o.test(t))return;L(G),G={},document.body.className=t.replace(o,"").trim();return}var n=_e();if(n&&(G=L({position:"relative",width:"calc(100% - ".concat(n,"px)")}),!o.test(t))){var a="".concat(t," ").concat(e);document.body.className=a.trim()}}};var O=[],Se="ant-scrolling-effect",Q=new RegExp("".concat(Se),"g"),Ze=0,Z=new Map,Je=$e(function l(e){var o=this;Ve(this,l),this.getContainer=function(){var t;return(t=o.options)===null||t===void 0?void 0:t.container},this.reLock=function(t){var n=O.find(function(a){var f=a.target;return f===o.lockTarget});n&&o.unLock(),o.options=t,n&&(n.options=t,o.lock())},this.lock=function(){var t;if(!O.some(function(c){var u=c.target;return u===o.lockTarget})){if(O.some(function(c){var u=c.options,y;return(u==null?void 0:u.container)===((y=o.options)===null||y===void 0?void 0:y.container)})){O=[].concat(se(O),[{target:o.lockTarget,options:o.options}]);return}var n=0,a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(n=_e());var f=a.className;if(O.filter(function(c){var u=c.options,y;return(u==null?void 0:u.container)===((y=o.options)===null||y===void 0?void 0:y.container)}).length===0&&Z.set(a,L({width:n!==0?"calc(100% - ".concat(n,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!Q.test(f)){var m="".concat(f," ").concat(Se);a.className=m.trim()}O=[].concat(se(O),[{target:o.lockTarget,options:o.options}])}},this.unLock=function(){var t,n=O.find(function(m){var c=m.target;return c===o.lockTarget});if(O=O.filter(function(m){var c=m.target;return c!==o.lockTarget}),!(!n||O.some(function(m){var c=m.options,u;return(c==null?void 0:c.container)===((u=n.options)===null||u===void 0?void 0:u.container)}))){var a=((t=o.options)===null||t===void 0?void 0:t.container)||document.body,f=a.className;!Q.test(f)||(L(Z.get(a),{element:a}),Z.delete(a),a.className=a.className.replace(Q,"").trim())}},this.lockTarget=Ze++,this.options=e}),B=0,W=Ie(),K={},A=function(e){if(!W)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(Re(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body};const en=M({name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:k.any,visible:{type:Boolean,default:void 0}},setup:function(e,o){var t=o.slots,n=P(),a=P(),f=P(),m=new Je({container:A(e.getContainer)}),c=function(){var d,b;(b=(d=n.value)===null||d===void 0?void 0:d.parentNode)===null||b===void 0||b.removeChild(n.value)},u=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(d||n.value&&!n.value.parentNode){var b=A(e.getContainer);return b?(b.appendChild(n.value),!0):!1}return!0},y=function(){return W?(n.value||(n.value=document.createElement("div"),u(!0)),N(),n.value):null},N=function(){var d=e.wrapperClassName;n.value&&d&&d!==n.value.className&&(n.value.className=d)};Be(function(){N(),u()});var w=function(){B===1&&!Object.keys(K).length?(me(),K=L({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):B||(L(K),K={},me(!0))},C=Ae();return Ee(function(){var r=!1;ne([function(){return e.visible},function(){return e.getContainer}],function(d,b){var g=J(d,2),i=g[0],s=g[1],p=J(b,2),x=p[0],_=p[1];if(W&&A(e.getContainer)===document.body&&(i&&!x?B+=1:r&&(B-=1)),r){var S=typeof s=="function"&&typeof _=="function";(S?s.toString()!==_.toString():s!==_)&&c(),i&&i!==x&&W&&A(s)!==m.getContainer()&&m.reLock({container:A(s)})}r=!0},{immediate:!0,flush:"post"}),he(function(){u()||(f.value=de(function(){C.update()}))})}),ke(function(){var r=e.visible,d=e.getContainer;W&&A(d)===document.body&&(B=r&&B?B-1:B),c(),de.cancel(f.value)}),function(){var r=e.forceRender,d=e.visible,b=null,g={getOpenCount:function(){return B},getContainer:y,switchScrollingEffect:w,scrollLocker:m};return(r||d||a.value)&&(b=v(ze,{getContainer:y,ref:a},{default:function(){var s;return(s=t.default)===null||s===void 0?void 0:s.call(t,g)}})),b}}});function oe(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:k.shape({x:Number,y:Number}).loose,title:k.any,footer:k.any,transitionName:String,maskTransitionName:String,animation:k.any,maskAnimation:k.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:k.any,maskProps:k.any,wrapProps:k.any,getContainer:k.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:k.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function ge(l,e,o){var t=e;return!t&&o&&(t="".concat(l,"-").concat(o)),t}var ye=-1;function nn(){return ye+=1,ye}function Ce(l,e){var o=l["page".concat(e?"Y":"X","Offset")],t="scroll".concat(e?"Top":"Left");if(typeof o!="number"){var n=l.document;o=n.documentElement[t],typeof o!="number"&&(o=n.body[t])}return o}function tn(l){var e=l.getBoundingClientRect(),o={left:e.left,top:e.top},t=l.ownerDocument,n=t.defaultView||t.parentWindow;return o.left+=Ce(n),o.top+=Ce(n,!0),o}var be={width:0,height:0,overflow:"hidden",outline:"none"};const on=M({name:"Content",inheritAttrs:!1,props:T(T({},oe()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,o){var t=o.expose,n=o.slots,a=o.attrs,f=P(),m=P(),c=P();t({focus:function(){var r;(r=f.value)===null||r===void 0||r.focus()},changeActive:function(r){var d=document,b=d.activeElement;r&&b===m.value?f.value.focus():!r&&b===f.value&&m.value.focus()}});var u=P(),y=Le(function(){var C=e.width,r=e.height,d={};return C!==void 0&&(d.width=typeof C=="number"?"".concat(C,"px"):C),r!==void 0&&(d.height=typeof r=="number"?"".concat(r,"px"):r),u.value&&(d.transformOrigin=u.value),d}),N=function(){he(function(){if(c.value){var r=tn(c.value);u.value=e.mousePosition?"".concat(e.mousePosition.x-r.left,"px ").concat(e.mousePosition.y-r.top,"px"):""}})},w=function(r){e.onVisibleChanged(r)};return function(){var C,r,d,b,g=e.prefixCls,i=e.footer,s=i===void 0?(C=n.footer)===null||C===void 0?void 0:C.call(n):i,p=e.title,x=p===void 0?(r=n.title)===null||r===void 0?void 0:r.call(n):p,_=e.ariaId,S=e.closable,E=e.closeIcon,I=E===void 0?(d=n.closeIcon)===null||d===void 0?void 0:d.call(n):E,R=e.onClose,j=e.bodyStyle,D=e.bodyProps,$=e.onMousedown,H=e.onMouseup,V=e.visible,z=e.modalRender,F=z===void 0?n.modalRender:z,X=e.destroyOnClose,Y=e.motionName,U;s&&(U=v("div",{class:"".concat(g,"-footer")},[s]));var ae;x&&(ae=v("div",{class:"".concat(g,"-header")},[v("div",{class:"".concat(g,"-title"),id:_},[x])]));var ie;S&&(ie=v("button",{type:"button",onClick:R,"aria-label":"Close",class:"".concat(g,"-close")},[I||v("span",{class:"".concat(g,"-close-x")},null)]));var re=v("div",{class:"".concat(g,"-content")},[ie,ae,v("div",h({class:"".concat(g,"-body"),style:j},D),[(b=n.default)===null||b===void 0?void 0:b.call(n)]),U]),Oe=we(Y);return v(Pe,h(h({},Oe),{},{onBeforeEnter:N,onAfterEnter:function(){return w(!0)},onAfterLeave:function(){return w(!1)}}),{default:function(){return[V||!X?Ne(v("div",h(h({},a),{},{ref:c,key:"dialog-element",role:"document",style:[y.value,a.style],class:[g,a.class],onMousedown:$,onMouseup:H}),[v("div",{tabindex:0,ref:f,style:be,"aria-hidden":"true"},null),F?F({originVNode:re}):re,v("div",{tabindex:0,ref:m,style:be,"aria-hidden":"true"},null)]),[[xe,V]]):null]}})}}});function an(l){if(l==null)throw new TypeError("Cannot destructure undefined")}const rn=M({name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,o){return an(o),function(){var t=e.prefixCls,n=e.visible,a=e.maskProps,f=e.motionName,m=we(f);return v(Pe,m,{default:function(){return[Ne(v("div",h({class:"".concat(t,"-mask")},a),null),[[xe,n]])]}})}}}),pe=M({name:"Dialog",inheritAttrs:!1,props:te(T(T({},oe()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,o){var t=o.attrs,n=o.slots,a=P(),f=P(),m=P(),c=P(e.visible),u=P("vcDialogTitle".concat(nn())),y=function(s){var p,x;if(s)He(f.value,document.activeElement)||(a.value=document.activeElement,(p=m.value)===null||p===void 0||p.focus());else{var _=c.value;if(c.value=!1,e.mask&&a.value&&e.focusTriggerAfterClose){try{a.value.focus({preventScroll:!0})}catch{}a.value=null}_&&((x=e.afterClose)===null||x===void 0||x.call(e))}},N=function(s){var p;(p=e.onClose)===null||p===void 0||p.call(e,s)},w=P(!1),C=P(),r=function(){clearTimeout(C.value),w.value=!0},d=function(){C.value=setTimeout(function(){w.value=!1})},b=function(s){if(!e.maskClosable)return null;w.value?w.value=!1:f.value===s.target&&N(s)},g=function(s){if(e.keyboard&&s.keyCode===fe.ESC){s.stopPropagation(),N(s);return}e.visible&&s.keyCode===fe.TAB&&m.value.changeActive(!s.shiftKey)};return ne(function(){return e.visible},function(){e.visible&&(c.value=!0)},{flush:"post"}),ke(function(){var i;clearTimeout(C.value),(i=e.scrollLocker)===null||i===void 0||i.unLock()}),Me(function(){var i,s;(i=e.scrollLocker)===null||i===void 0||i.unLock(),c.value&&((s=e.scrollLocker)===null||s===void 0||s.lock())}),function(){var i=e.prefixCls,s=e.mask,p=e.visible,x=e.maskTransitionName,_=e.maskAnimation,S=e.zIndex,E=e.wrapClassName,I=e.rootClassName,R=e.wrapStyle,j=e.closable,D=e.maskProps,$=e.maskStyle,H=e.transitionName,V=e.animation,z=e.wrapProps,F=e.title,X=F===void 0?n.title:F,Y=t.style,U=t.class;return v("div",h({class:["".concat(i,"-root"),I]},Ke(e,{data:!0})),[v(rn,{prefixCls:i,visible:s&&p,motionName:ge(i,x,_),style:T({zIndex:S},$),maskProps:D},null),v("div",h({tabIndex:-1,onKeydown:g,class:Te("".concat(i,"-wrap"),E),ref:f,onClick:b,role:"dialog","aria-labelledby":X?u.value:null,style:T(T({zIndex:S},R),{display:c.value?null:"none"})},z),[v(on,h(h({},Ue(e,["scrollLocker"])),{},{style:Y,class:U,onMousedown:r,onMouseup:d,ref:m,closable:j,ariaId:u.value,prefixCls:i,visible:p,onClose:N,onVisibleChanged:y,motionName:ge(i,H,V)}),n)])])}}});var ln=oe(),sn=M({name:"DialogWrap",inheritAttrs:!1,props:te(ln,{visible:!1}),setup:function(e,o){var t=o.attrs,n=o.slots,a=P(e.visible);return Xe({},{inTriggerContext:!1}),ne(function(){return e.visible},function(){e.visible&&(a.value=!0)},{flush:"post"}),function(){var f=e.visible,m=e.getContainer,c=e.forceRender,u=e.destroyOnClose,y=u===void 0?!1:u,N=e.afterClose,w=T(T(T({},e),t),{ref:"_component",key:"dialog"});return m===!1?v(pe,h(h({},w),{},{getOpenCount:function(){return 2}}),n):!c&&y&&!a.value?null:v(en,{visible:f,forceRender:c,getContainer:m},{default:function(r){return w=T(T(T({},w),r),{afterClose:function(){N==null||N(),a.value=!1}}),v(pe,w,n)}})}}});const cn=sn;var un=globalThis&&globalThis.__rest||function(l,e){var o={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&e.indexOf(t)<0&&(o[t]=l[t]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(l);n<t.length;n++)e.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(l,t[n])&&(o[t[n]]=l[t[n]]);return o},ee=null,dn=function(e){ee={x:e.pageX,y:e.pageY},setTimeout(function(){return ee=null},100)};Ge()&&Ye(document.documentElement,"click",dn,!0);var fn=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:k.any,closable:{type:Boolean,default:void 0},closeIcon:k.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:k.any,okText:k.any,okType:String,cancelText:k.any,icon:k.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},yn=[];const Cn=M({name:"AModal",inheritAttrs:!1,props:te(fn(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,o){var t=o.emit,n=o.slots,a=o.attrs,f=je("Modal"),m=J(f,1),c=m[0],u=De("modal",e),y=u.prefixCls,N=u.rootPrefixCls,w=u.direction,C=u.getPopupContainer,r=function(i){t("update:visible",!1),t("cancel",i),t("change",!1)},d=function(i){t("ok",i)},b=function(){var i,s,p=e.okText,x=p===void 0?(i=n.okText)===null||i===void 0?void 0:i.call(n):p,_=e.okType,S=e.cancelText,E=S===void 0?(s=n.cancelText)===null||s===void 0?void 0:s.call(n):S,I=e.confirmLoading;return v(We,null,[v(ve,h({onClick:r},e.cancelButtonProps),{default:function(){return[E||c.value.cancelText]}}),v(ve,h(h({},qe(_)),{},{loading:I,onClick:d},e.okButtonProps),{default:function(){return[x||c.value.okText]}})])};return function(){var g,i;e.prefixCls;var s=e.visible,p=e.wrapClassName,x=e.centered,_=e.getContainer,S=e.closeIcon,E=S===void 0?(i=n.closeIcon)===null||i===void 0?void 0:i.call(n):S,I=e.focusTriggerAfterClose,R=I===void 0?!0:I,j=un(e,["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),D=Te(p,(g={},ce(g,"".concat(y.value,"-centered"),!!x),ce(g,"".concat(y.value,"-wrap-rtl"),w.value==="rtl"),g));return v(cn,h(h(h({},j),a),{},{getContainer:_||C.value,prefixCls:y.value,wrapClassName:D,visible:s,mousePosition:ee,onClose:r,focusTriggerAfterClose:R,transitionName:ue(N.value,"zoom",e.transitionName),maskTransitionName:ue(N.value,"fade",e.maskTransitionName)}),T(T({},n),{footer:n.footer||b,closeIcon:function(){return v("span",{class:"".concat(y.value,"-close-x")},[E||v(Fe,{class:"".concat(y.value,"-close-icon")},null)])}}))}}});export{Cn as M,en as P,yn as d,_e as g};
