import{a as d,b as g,c as h,d as y,e as b}from"./identity.e17c3348.js";import{g as F}from"./Interface.8f0a6e0f.js";import{i as P,a as w,am as T,an as D}from"./index.3deece30.js";import{f as $}from"./forEach.79d0bc65.js";var A="[object Map]",C="[object Set]",S=Object.prototype,L=S.hasOwnProperty;function v(t){if(t==null)return!0;if(P(t)&&(w(t)||typeof t=="string"||typeof t.splice=="function"||d(t)||g(t)||h(t)))return!t.length;var e=F(t);if(e==A||e==C)return!t.size;if(y(t))return!b(t).length;for(var r in t)if(L.call(t,r))return!1;return!0}function p(t,e){return new Promise((r,i)=>{try{const n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.createEvent){const s=document.createEvent("MouseEvents");s.initEvent("click",!0,!0),n.dispatchEvent(s)}else n.click();r("")}catch(n){i(n)}})}function E(t,e,r=""){return p(t,`${e}${r}`)}function H(t,e,r=""){const i=`<!DOCTYPE html><head><meta charset="UTF-8"><title>${e}</title></head><body>${t}</body></html>`;return p(i,`${e}${r}`)}function R(t,e){window.open(`#/preview/${t}/${e}`)}function O(t){return new Promise((e,r)=>{const i=new FileReader;i.readAsText(t,"utf-8"),i.onload=()=>{e(i.result)},i.onerror=n=>{r(n)}})}function z(t){let e="";const r=T(t,".");return r.length>1&&(e=`.${D(r[r.length-1])}`),e}function B(t,e){return new Promise((r,i)=>{var n;if(!((n=t==null?void 0:t.clipboardData)!=null&&n.items))i("");else{const s=t.clipboardData.items.length;for(let a=0;a<s;a++){const f=t.clipboardData.items[a],{kind:u,type:l}=f;if(u==="file"){let m=!1;if($(e,c=>{if(!l||l.indexOf(c)>-1)return m=!0,!1}),m){const c=f.getAsFile();t.preventDefault(),O(c).then(o=>{r(o)}).catch(o=>{i(o),console.log("importFile-err",o)})}}}}})}var M=(t=>(t.MD="md",t.TXT="txt",t.HTML="html",t.PDF="pdf",t.CUSTOM="custom",t))(M||{});const I="PDFStorage";export{I as C,M as E,O as a,H as b,p as c,z as g,v as i,B as p,R as r,E as s};
