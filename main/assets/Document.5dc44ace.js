import{al as pe,q as Me,bf as q,d as U,s as P,M as Ue,ah as R,o as x,c as $,$ as i,Y as K,v as E,a as w,x as G,w as Y,a0 as ne,d2 as Le,d3 as he,g as l,K as N,b as B,S as v,y as H,ar as je,as as qe,t as Pe,p as He,a4 as A,at as Be,a1 as Ge}from"./index.ede6ea95.js";import{U as We}from"./UIWithTitle.04e532be.js";import{E as ze,g as Ze,b as Je,c as Ve,d as Ye,e as Ke,U as Xe}from"./UICreateImport.vue_vue_type_script_setup_true_lang.ee11e2f3.js";import{_ as Qe}from"./DButton.vue_vue_type_script_setup_true_lang.63edc007.js";import{d as et}from"./copyLib.0c49f6d6.js";import{d as tt,f as nt,u as rt}from"./PortImport.vue_vue_type_script_setup_true_lang.f52bc9b9.js";import{_ as ot}from"./DSteps.vue_vue_type_script_setup_true_lang.f25d8f5c.js";import{_ as oe,a as se,s as z,E as Z}from"./Interface.93eb287a.js";import{_ as st}from"./DResult.vue_vue_type_script_setup_true_lang.54d2be88.js";import{_ as Q}from"./_plugin-vue_export-helper.cdc0426e.js";import{n as at,a as J,E as ae,p as ut,e as ue}from"./posterLib.4c81bec8.js";import{a as ct}from"./_arrayReduce.5f344ba7.js";import{_ as it}from"./DMarkdown.vue_vue_type_script_setup_true_lang.d3a25653.js";import{u as lt}from"./ModuleAutoSaveLib.c6e66903.js";import{a as ce}from"./config.aa76b2c0.js";import"./DTooltip.a5b6a911.js";import"./_baseIsEqual.9a5624c8.js";import"./ModuleCollapsetLib.5f2d9d90.js";import"./routeLib.d691fd07.js";import"./findIndex.124ca927.js";import"./hasIn.87292fbe.js";import"./memoize.4ce40db6.js";import"./index.10357c91.js";import"./KeyCode.9e37adda.js";import"./pick.015df046.js";import"./_flatRest.4357f8e5.js";import"./DSelect.vue_vue_type_script_setup_true_lang.318941f9.js";import"./styleChecker.860098ae.js";import"./debounce.388cf186.js";import"./now.7cb493d7.js";import"./fileLib.20db5dfb.js";import"./DSpin.23e419cb.js";import"./randomLib.04c6c9cc.js";import"./stringify.15412eb9.js";import"./responsiveObserve.2d7402ee.js";import"./index.af9ac403.js";function dt(e){return function(n){return e==null?void 0:e[n]}}var ft={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},mt=dt(ft);const pt=mt;var ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_t="\\u0300-\\u036f",vt="\\ufe20-\\ufe2f",yt="\\u20d0-\\u20ff",gt=_t+vt+yt,xt="["+gt+"]",bt=RegExp(xt,"g");function Ct(e){return e=pe(e),e&&e.replace(ht,pt).replace(bt,"")}var Et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function wt(e){return e.match(Et)||[]}var Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function St(e){return Dt.test(e)}var _e="\\ud800-\\udfff",$t="\\u0300-\\u036f",It="\\ufe20-\\ufe2f",Rt="\\u20d0-\\u20ff",Nt=$t+It+Rt,ve="\\u2700-\\u27bf",ye="a-z\\xdf-\\xf6\\xf8-\\xff",kt="\\xac\\xb1\\xd7\\xf7",Tt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",At="\\u2000-\\u206f",Ot=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="A-Z\\xc0-\\xd6\\xd8-\\xde",Ft="\\ufe0e\\ufe0f",xe=kt+Tt+At+Ot,be="['\u2019]",ie="["+xe+"]",Mt="["+Nt+"]",Ce="\\d+",Ut="["+ve+"]",Ee="["+ye+"]",we="[^"+_e+xe+Ce+ve+ye+ge+"]",Lt="\\ud83c[\\udffb-\\udfff]",jt="(?:"+Mt+"|"+Lt+")",qt="[^"+_e+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",M="["+ge+"]",Pt="\\u200d",le="(?:"+Ee+"|"+we+")",Ht="(?:"+M+"|"+we+")",de="(?:"+be+"(?:d|ll|m|re|s|t|ve))?",fe="(?:"+be+"(?:D|LL|M|RE|S|T|VE))?",$e=jt+"?",Ie="["+Ft+"]?",Bt="(?:"+Pt+"(?:"+[qt,De,Se].join("|")+")"+Ie+$e+")*",Gt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zt=Ie+$e+Bt,Zt="(?:"+[Ut,De,Se].join("|")+")"+zt,Jt=RegExp([M+"?"+Ee+"+"+de+"(?="+[ie,M,"$"].join("|")+")",Ht+"+"+fe+"(?="+[ie,M+le,"$"].join("|")+")",M+"?"+le+"+"+de,M+"+"+fe,Wt,Gt,Ce,Zt].join("|"),"g");function Vt(e){return e.match(Jt)||[]}function Yt(e,n,r){return e=pe(e),n=r?void 0:n,n===void 0?St(e)?Vt(e):wt(e):e.match(n)||[]}var Kt="['\u2019]",Xt=RegExp(Kt,"g");function Qt(e){return function(n){return ct(Yt(Ct(n).replace(Xt,"")),e,"")}}var en=Qt(function(e,n,r){return e+(r?" ":"")+n.toUpperCase()});const tn=en,I=Me({folders:[],item:{}}),te=".md",nn={[q.Config]:"_document_config",[q.Folder]:"_document_folder",[q.Content]:"_document_content",[q.Env]:"_document_env"};function rn(){return{content:{step:0,selected:[],identity:"",name:"",content:""},isSaved:0}}const on={key:0},sn={class:"tw-mt-10"},an=["title"],un={class:"selected-move"},cn=["onClick"],ln={name:"DocumentSelected"},dn=U({...ln,props:{select:{}},emits:["change"],setup(e,{emit:n}){const r=e,t=P([]);Ue(()=>r.select,c=>{t.value=[],R(c,(p,m)=>{t.value.push({label:p.contentName||"unknown",value:p.contentIdentity})})},{immediate:!0,deep:!0});function o(){u()}function s(c){t.value.splice(c,1),u()}function u(){const c=[];R(t.value,p=>{c.push({contentName:p.label,contentIdentity:p.value})}),n("change",c)}return(c,p)=>(x(),$("div",null,[i(K)(t.value)?(x(),$("div",on,[E("div",sn,[w(st)])])):(x(),G(i(tt),{key:1,handle:".selected-move",list:t.value,"item-key":"value",sort:!0,onDragend:o},{item:Y(({element:m,index:d})=>[(x(),$("div",{key:m.value,class:"ed-selected-item"},[E("div",{title:m.label},[E("span",un,[w(oe,{type:i(se).HolderOutlined},null,8,["type"])]),E("span",null,ne(m.label),1)],8,an),E("span",{onClick:_=>s(d)},[w(oe,{type:i(se).DeleteOutlined},null,8,["type"])],8,cn)]))]),_:1},8,["list"]))]))}});const fn=Q(dn,[["__scopeId","data-v-cedc580b"]]);var Re={exports:{}},mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function V(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var y=Re.exports={},L=function(n){return function(r,t){return"#".repeat(n)+" "+t(r)}},re=function e(n,r,t){var o=n;return typeof n=="string"&&(o=n.split(`
`)),t?o.length<=1?o.join(`
`):o[0]+`
`+e(o.slice(1),r,!1):o.map(function(s){return" ".repeat(r)+s}).join(`
`)},W=function(n){var r={strong:"**",italic:"*",underline:"_",strikethrough:"~~"};return n.replace(/<\/?strong\>/gi,r.strong).replace(/<\/?bold\>/gi,r.strong).replace(/<\/?em\>/gi,r.italic).replace(/<\/?italic\>/gi,r.italic).replace(/<\/?u\>/gi,r.underline).replace(/<\/?strike\>/gi,r.strikethrough)};y.h1=L(1);y.h2=L(2);y.h3=L(3);y.h4=L(4);y.h5=L(5);y.h6=L(6);y.blockquote=function(e,n){return n(e,"> ")};y.img=function(e,n){debugger;return Array.isArray(e)?n(e,"","img"):typeof e=="string"?y.img({source:e,title:"",alt:""}):(e.title=e.title||"",e.alt=e.alt||"","!["+e.alt+"]("+e.source+' "'+e.title+'")')};y.ul=function(e,n){for(var r="",t=0;t<e.length;++t){var o="",s=Object.keys(e[t])[0];s!=="ul"&&s!=="ol"&&s!=="taskLists"&&(o+=`
 - `),r+=o+W(re(n(e[t]),4,!0))}return r};y.ol=function(e,n){for(var r="",t=0,o=0;o<e.length;++o){var s="",u=Object.keys(e[o])[0];u!=="ul"&&u!=="ol"&&u!=="taskLists"?s=`
 `+(o+1-t)+". ":t++,r+=s+W(re(n(e[o]),4,!0))}return r};y.taskLists=function(e,n){for(var r="",t=0;t<e.length;++t){var o="",s=Object.keys(e[t])[0];s!=="ul"&&s!=="ol"&&s!=="taskLists"&&(o+=e[t].isDone?`
 - [x] `:`
 - [ ] `),r+=o+W(re(n(e[t].title||e[t]),4,!0))}return r};y.code=function(e,n){var r="```"+(e.language||"")+`
`;return Array.isArray(e.content)?r+=e.content.join(`
`):r+=e.content,r+="\n```",r};y.p=function(e,n){return W(n(e,`
`))};y.table=function(e,n){var r,t={CENTER:"center",RIGHT:"right",LEFT:"left",NONE:"none"},o=(r={},V(r,t.CENTER,3),V(r,t.RIGHT,2),V(r,t.LEFT,2),V(r,t.NONE,1),r);if((typeof e>"u"?"undefined":mn(e))!=="object"||!e.hasOwnProperty("headers")||!e.hasOwnProperty("rows"))return"";var s=e.headers.map(function(h,a){return e.aligns&&e.aligns[a]?e.aligns[a]:t.NONE}),u=e.headers.map(function(h,a){return Math.max(o[s[a]],h.length-2)});e.pretty===!0&&e.rows.forEach(function(h){(Array.isArray(h)?h:e.headers.map(function(a){return h[a]})).forEach(function(a,f){u[f]=Math.max(u[f],a.length-2)})});var c=function(a,f){return" ".repeat(a)+f},p=function(a,f){return f+" ".repeat(a)},m=function(a,f){return" ".repeat(Math.floor(a/2))+f+" ".repeat(Math.ceil(a/2))},d=function(a,f){var S=u[f]+2-a.length;switch(s[f]){case t.RIGHT:return c(S,a);case t.LEFT:return p(S,a);case t.CENTER:case t.NONE:default:return m(S,a)}},_=function(a,f){var S=u[f]+2-a.length;switch(s[f]){case t.RIGHT:return c(S,a);case t.NONE:case t.LEFT:return p(S,a);case t.CENTER:default:return m(S,a)}},D=e.headers.map(d),b="| "+D.join(" | ")+" |",g="| "+e.headers.map(function(h,a){var f="-".repeat(u[a]);switch(s[a]){case t.CENTER:return":"+f+":";case t.RIGHT:return"-"+f+":";case t.LEFT:return":"+f+"-";case t.NONE:default:return"-"+f+"-"}}).join(" | ")+" |",C=function(a,f){return e.pretty!==!0?a:_(a,f)},T=e.rows.map(function(h){return"| "+(Array.isArray(h)?h:e.headers.map(function(a){return h[a]})).map(function(a){return n(a)}).map(function(a){return W(a)}).map(function(a){return a.replace(/([^\\])\|/,"$1\\|")}).map(function(a){return a.trim()}).map(C).join(" | ")+" |"}).join(`
`);return[b,g,T].join(`
`)};y.link=function(e,n){return Array.isArray(e)?n(e,"","link"):typeof e=="string"?y.link({source:e,title:""}):"["+e.title+"]("+e.source+")"};y.hr=function(e,n){return"---"};function pn(e,n,r){return r=typeof r!="string"?" ":r,String(e).replace(/^/gm,r.repeat(n))}var hn=pn,X=Re.exports,O=hn;function k(e,n,r){if(n=n||"",typeof e=="string"||typeof e=="number")return O(e,1,n);var t=[];if(Array.isArray(e)){for(var o=0;o<e.length;++o)t.push(O(k(e[o],"",r),1,n));return t.join(`
`)}else if(r){var s="",u=X[r||type];if(typeof u=="function")s+=O(u(r?e:e[type],k),1,n)+`
`;else throw new Error("There is no such converter: "+type);return s}else{var c="";return Object.keys(e).forEach(function(p,m,d){var _=X[r||p];if(typeof _=="function")c+=O(_(r?e:e[p],k),1,n)+`
`;else throw new Error("There is no such converter: "+p)}),c}}k.async=function(e,n,r){return Promise.resolve().then(function(){if(n=n||"",typeof e=="string"||typeof e=="number")return O(e,1,n);var t=[];if(Array.isArray(e)){var o=e.map(function(c,p){return Promise.resolve().then(function(){return k.async(c,"",r)}).then(function(m){return O(m,1,n)}).then(function(m){t[p]=m})});return Promise.all(o).then(function(){return t.join(`
`)})}else{var s=Object.keys(e)[0],u=X[r||s];if(typeof u=="function")return Promise.resolve().then(function(){return u(r?e:e[s],k)}).then(function(c){return O(c,1,n)+`
`});throw new Error("There is no such converter: "+s)}})};k.converters=X;var _n=k;function vn(e,n){return new Promise((r,t)=>{e.getStorageData(n,Le.Type).then(o=>{let s=[];(o==null?void 0:o.value)&&!K(o)?s=he(o.value):s.push(nt()),r(s)})})}function yn(e){return vn(e,at[q.Folder])}function gn(e){const n=[];return R(e,r=>{const t=xn(r.name,r.content);n.push(...t)}),_n(n)}function xn(e,n){var u,c,p,m,d,_,D;const{remark:r,request:t,response:o}=n,s=[];if(n.request&&n.response){s.push({h2:e}),r&&s.push({blockquote:(n==null?void 0:n.remark)||""}),t.url&&(s.push({h4:l("poster.doc.request.url")}),s.push({code:{language:"text",content:t.url}}));const b=(t==null?void 0:t.method)||"";b&&(s.push({h4:l("poster.doc.request.method")}),s.push({code:{language:"text",content:tn(b)}}));const g={headers:[l("poster.doc.request.header.type"),l("poster.doc.request.header.content"),l("poster.doc.request.header.desc")],rows:[]};if(t.auth&&t.auth.type){const C=((u=t.auth)==null?void 0:u.type)||"",T=((p=(c=t.auth)==null?void 0:c.basic)==null?void 0:p.username)||"",h=((d=(m=t.auth)==null?void 0:m.basic)==null?void 0:d.password)||"",a=((D=(_=t.auth)==null?void 0:_.bearer)==null?void 0:D.token)||"";if(C===J.Bearer||C===J.Basic){let f="";C===J.Basic?f=`${l("poster.doc.request.header.auth.username")}: ${T}
${l("poster.doc.request.header.auth.password")}: ${h}`:C===J.Bearer&&(f=`${l("poster.doc.request.header.auth.token")}: ${a}`);const S=["Authorization",C,f];g.rows.push(S)}}b&&b===ae.POST&&g.rows.push(["Content-Type",ut(t.post.type,t.post.raw.type),""]),t.header&&!K(t.header)&&R(t.header,C=>{const{isUse:T,name:h,value:a,desc:f}=C;T&&g.rows.push([h,a,f])}),g.rows.length>0&&(s.push({h4:l("poster.doc.request.header.label")}),s.push({table:g})),t.query&&!K(t.query)&&(s.push({h4:l("poster.doc.request.query.label")}),s.push({table:me(t.query)})),t.method&&t.method===ae.POST&&(t.post.type===ue.FormData||t.post.type===ue.XWWWFormUrlEncode)&&(s.push({h4:l("poster.doc.request.post.label")}),s.push({table:me(t.post.form)})),s.push({h4:l("poster.doc.response.label")}),s.push({code:{language:"json",content:o.data?JSON.stringify(JSON.parse(o.data),null,4):""}})}return s}function me(e){const n={headers:[l("poster.doc.request.params.table.name"),l("poster.doc.request.params.table.type"),l("poster.doc.request.params.table.essential"),l("poster.doc.request.params.table.desc")],rows:[]};return R(e,r=>{const{isUse:t,name:o,isEssential:s,fieldType:u,desc:c}=r;t&&n.rows.push([o,u,s,c])}),n}const Ne=e=>(je("data-v-5de70391"),e=e(),qe(),e),bn={class:"document-choose"},Cn={class:"document-choose_side"},En={class:"document-choose_side_title"},wn=Ne(()=>E("div",{class:"document-choose_arrow"},null,-1)),Dn={class:"document-choose_side"},Sn={class:"document-choose_side_title"},$n=Ne(()=>E("div",null,null,-1)),In={name:"DocumentSelect"},Rn=U({...In,setup(e){const n=N("storeIDB"),r=N("contentIdentity"),t=B(()=>I.item[r.value].content),o=P([]),s=B(()=>{const d=[];return R(t.value.selected,_=>{d.push(_.contentIdentity)}),d});function u(d){const{contentIdentity:_,name:D}=d;let b=-1;R(t.value.selected,(g,C)=>{if(g.contentIdentity===_)return b=C,!1}),b>-1?t.value.selected.splice(b,1):t.value.selected.push({contentIdentity:_,contentName:D})}const c=P(!1),p=P([]);v("historyFolders",p),yn(n).then(d=>{p.value=[...d],R(d,_=>{const{identity:D}=_;o.value.push(D)}),c.value=!0});function m(d){t.value.selected=d}return(d,_)=>(x(),$("div",bn,[E("div",Cn,[E("div",En,ne(i(l)("document.select")),1),c.value?(x(),G(Ze,{key:0,from:i(ze).ExportDoc,expand:o.value,select:s.value,sortable:!1,onSelected:u},null,8,["from","expand","select"])):H("",!0)]),wn,E("div",Dn,[E("div",Sn,ne(i(l)("document.selected")),1),w(fn,{select:t.value.selected,onChange:m},null,8,["select"])]),$n]))}});const Nn=Q(Rn,[["__scopeId","data-v-5de70391"]]),kn={class:"tw-h-full tw-w-full"},Tn={name:"DocumentGenerate"},An=U({...Tn,setup(e){const n=N("contentIdentity"),r=B(()=>I.item[n.value].content),t=P(!1);return Pe(()=>{setTimeout(()=>{t.value=!0},200)}),(o,s)=>(x(),$("div",kn,[t.value?(x(),G(it,{key:0,"show-code-row-number":!1,"text-identity":r.value.identity,content:r.value.content,"onUpdate:content":s[0]||(s[0]=u=>r.value.content=u),style:{height:"100%"}},null,8,["text-identity","content"])):H("",!0)]))}}),On={class:"document-editor"},Fn={class:"document-editor-step"},Mn={key:0,class:"document-editor-content"},Un={key:1,class:"document-editor-md"},Ln={name:"DocumentEditor"},jn=U({...Ln,setup(e){N("storeIDB");const n=N("contentIdentity"),r=N("contentName"),t=N("getContent");lt(I,n,["content"],r);const o=B(()=>I.item[n.value].content),s=[{value:"select",label:l("document.step.select.label"),description:l("document.step.select.desc"),disabled:!1},{value:"edit",label:l("document.step.edit.label"),description:l("document.step.edit.desc"),disabled:!1}],u=He();function c(){var m;o.value.step===0?o.value.selected.length===0?z(Z.Warning,l("document.notice.unSelected")):p().then(d=>{d.length>0?(o.value.content=gn(d),o.value.step=1):z(Z.Warning,l("document.notice.unSelected"))}):o.value.step===1&&((m=u.params)!=null&&m.id?z(Z.Warning,l("document.notice.cantReselect")):o.value.step=0)}function p(){return new Promise(m=>{const{selected:d}=o.value,_=[];R(d,(D,b)=>{t(D.contentIdentity).then(g=>{if(g){const{value:C}=g;_.push({name:D.contentName||"unknown",content:he(C)})}d.length===b+1&&m(_)}).catch(g=>{console.log("error",g),z(Z.Error,l("document.notice.unSelected")),d.length===b+1&&m(_)})})})}return(m,d)=>(x(),$("div",On,[E("div",Fn,[w(ot,{steps:s,step:o.value.step,"onUpdate:step":c},null,8,["step"])]),o.value.step===0?(x(),$("div",Mn,[w(Nn,{style:{width:"100%","max-width":"1200px"}})])):(x(),$("div",Un,[w(An)]))]))}});const qn=Q(jn,[["__scopeId","data-v-ed0686b1"]]),Pn={class:"warp_bigger _document_area"},Hn={key:0,class:"show_area"},Bn={class:"tw-flex tw-justify-end tw-items-center"},Gn={key:0},Wn={class:"tw-ml-2"},zn={class:"tw-ml-2"},Zn={name:"ModuleCoding"},Jn=U({...Zn,setup(e){const n=N("storeIDB"),{curIsSaved:r,curContentIdentity:t,curContentName:o,curContentFolderIdentity:s,curFolders:u,curHistoryFolders:c,addFolder:p,renameFolder:m,deleteFolder:d,sortFolder:_,createContent:D,saveContent:b,showContent:g,renameContent:C,copyContent:T,deleteContent:h,autoSaveContent:a,importContent:f,getContent:S,saveFolder:ke,saveContentItem:Te}=rt(n,nn,I,rn());v("contentIsSaved",r),v("contentFolderIdentity",s),v("contentIdentity",t),v("contentName",o),v("historyFolders",c),v("folders",u),v("addFolder",p),v("renameFolder",m),v("deleteFolder",d),v("showContent",g),v("copyContent",T),v("renameContent",C),v("deleteContent",h),v("sortFolder",_),v("saveContent",b),v("autoSaveContent",a),v("getContent",S),v("saveFolder",ke),v("saveContentItem",Te);const ee=B(()=>I.item[t.value].content.step===0);function Ae(){D()}function Oe(){et(I.item[t.value].content.content||"")}return(Fe,F)=>(x(),$("div",Pn,[w(Xe,{collapse:i(A).historyDrawer.collapse,"onUpdate:collapse":F[2]||(F[2]=j=>i(A).historyDrawer.collapse=j),history:i(A).historyDrawer,suffix:i(te),"is-history-use-batch":!1},{default:Y(()=>[i(t)?(x(),$("div",Hn,[w(We,{title:`\u300C${i(l)(`module.${i(A).documentModule}`)}\u300D${i(l)("document.export")}`,contentName:i(o),"onUpdate:contentName":F[1]||(F[1]=j=>Be(o)?o.value=j:null),"is-has-name":!0},{titleRight:Y(()=>[E("div",Bn,[i(t)?(x(),$("span",Gn,[w(Je,{"store-item-data":i(I).item[i(t)]},null,8,["store-item-data"])])):H("",!0),E("span",Wn,[w(Ve,{disabled:ee.value,"support-types":["text/markdown"],accept:[i(te)],"store-item-data":i(I).item[i(t)],suffix:i(te),"is-use-export-use":!1,"is-support-import":!1,type:i(ce).MD,types:[i(ce).MD],onSelect:Ae},null,8,["disabled","accept","store-item-data","suffix","type","types"])]),E("span",zn,[w(Qe,{disabled:ee.value,type:"primary",name:i(l)("tags.copy"),onClick:Oe},null,8,["disabled","name"])]),w(Ye,Ge({disabled:ee.value,class:"tw-ml-2"},Fe.$attrs),null,16,["disabled"]),i(A).historyDrawer.collapse?(x(),G(Ke,{key:1,class:"tw-ml-2",visible:i(A).historyDrawer.visible,"onUpdate:visible":F[0]||(F[0]=j=>i(A).historyDrawer.visible=j)},null,8,["visible"])):H("",!0)])]),default:Y(()=>[w(qn)]),_:1},8,["title","contentName"])])):H("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const Vn=Q(Jn,[["__scopeId","data-v-3c69c460"]]),Tr=U({__name:"Document",setup(e){return(n,r)=>(x(),G(Vn))}});export{Tr as default};
