import{al as ze,am as Ve,d as Se,K as Ee,a4 as M,S as le,b as ae,p as qe,an as Ke,M as $e,o as H,c as R,v as k,a as P,w as A,$,a0 as F,g as w,ao as ie,R as ue,Z as Ue,ap as de,E as Ye,z as Xe,aq as ke,y as ee,ar as Ze,as as Je,ai as Qe,at as je,au as et,av as tt,aw as nt,ax as ot,s as te,ah as it,q as rt,Y as st,U as pe,t as lt,ay as at,x as Y,az as ve,aA as me,F as fe,aB as dt,G as he}from"./index.1ef6a419.js";import{b as ct,D as ut,_ as pt}from"./DSpin.85a6329a.js";import{_ as X,a as Z,s as vt,E as mt}from"./Interface.b1fb4470.js";import{r as ft,a as ht,b as ge,c as gt}from"./routeLib.860616f6.js";import{D as J}from"./DTooltip.a4eda6af.js";import{u as De}from"./ModuleCollapsetLib.c3b30c1d.js";import{t as wt}from"./hasIn.dde138d2.js";import{_ as Le}from"./_plugin-vue_export-helper.cdc0426e.js";import"./KeyCode.9e37adda.js";import"./debounce.45ebbd09.js";import"./now.f5e4f867.js";import"./_baseIsEqual.27855b1c.js";import"./findIndex.0965c33d.js";import"./memoize.891175e2.js";function yt(e,t,n){return e=ze(e),n=n==null?0:ct(wt(n),0,e.length),t=Ve(t),e.slice(n,n+t.length)==t}const Me=""+new URL("logo.c3932446.png",import.meta.url).href,_t=e=>(Ze("data-v-9351101c"),e=e(),Je(),e),xt={class:"left-collapse-icon"},bt={class:"tw-text-sm"},Ct={class:"tw-text-sm"},St={class:"tw-text-sm"},Et={class:"logo"},$t=["title"],kt={class:"font_title"},Dt=_t(()=>k("div",{class:"tw-mx-6"},[k("div",{class:"tw-border-b tw-border-neutral-2 tw-my-4"})],-1)),Lt={class:"left_menu reform_ul"},Mt=["onClick"],Pt={class:"tw-text-sm"},At={name:"Left"},Bt=Se({...At,props:{from:{}},emits:["guide"],setup(e,{emit:t}){const n=e,i=Ee("storeIDB"),{curModule:o,setModule:l,curMenuCollapse:d,setStoreCommon:f,setMenuCollapse:s,setMenuVisible:h,curMenus:r,setDocumentModule:a,curDocumentModule:c}=De(i,M);le("menus",r);const g=ae({get:()=>d.value,set:b=>{s(b),n.from===de.Drawer&&h(!1),f()}}),y=qe(),m=Ke();$e(()=>y==null?void 0:y.name,b=>{var S;if(b!=="notfound"){if(o.value!==b&&(l(b),f()),yt(String(b),"_")){const x=(S=y.params)==null?void 0:S.module;x&&Object.values(Ye).includes(String(x))?a(x):(vt(mt.Error,w("notice.errorModule")),m.back())}else a();u(b)}},{immediate:!0});function u(b){let S="";if(b){const x=w(`module.${b}`);x&&(S=x+" - ")}document.title=`${S}Useful - Developer's Toolkits`}function _(b){const S=b.name,x={...b};M.lastVisit[S]&&(x.params={id:String(M.lastVisit[S])}),ft(ht.Push,x)}function E(b){const S=window.location.href,x=Qe(S,"#");window.open(`${x[0]}#/${b}`)}function L(){t("guide")}return(b,S)=>(H(),R("div",{class:ie(["left_area",`${$(M).theme.current}MainBg`])},[k("div",xt,[k("span",{class:"tw-mr-3",onClick:L},[P(J,null,{anchor:A(()=>[P(X,{type:$(Z).ShareAltOutlined,size:"sm"},null,8,["type"])]),default:A(()=>[k("span",bt,F($(w)("menu.showGuide")),1)]),_:1})]),k("span",{class:"tw-mr-3",id:"setting-btn",onClick:S[0]||(S[0]=x=>_({name:"setting"}))},[P(J,null,{anchor:A(()=>[P(X,{type:$(Z).SettingOutlined,size:"sm"},null,8,["type"])]),default:A(()=>[k("span",Ct,F($(w)("setting.title")),1)]),_:1})]),k("span",{id:"menu-fix-btn",class:ie({"tw-text-neutral-4":g.value}),onClick:S[1]||(S[1]=x=>g.value=!g.value)},[P(J,null,{anchor:A(()=>[P(X,{type:$(Z).PushpinOutlined},null,8,["type"])]),default:A(()=>[k("span",St,F($(w)(g.value?"menu.fix":"menu.hide")),1)]),_:1})],2)]),k("div",Et,[k("img",{src:Me,title:$(w)("config.title")},null,8,$t)]),k("div",kt,F($(w)("config.title")),1),Dt,k("div",Lt,[k("ul",null,[(H(!0),R(ue,null,Ue($(r),x=>(H(),R(ue,{key:x.value},[x.isUse?(H(),R("li",{key:0,class:ie({active:$(o)===x.value||$(c)===x.value}),onClick:C=>_(x.path)},[Xe(F(x.label)+" ",1),k("span",null,[P(J,null,{anchor:A(()=>[P(X,{size:"sm",type:$(Z).DesktopOutlined,onClick:ke(C=>E(x.value),["stop"])},null,8,["type","onClick"])]),default:A(()=>[k("span",Pt,F($(w)("notice.openInNewWindow")),1)]),_:2},1024)])],10,Mt)):ee("",!0)],64))),128))])])],2))}});const we=Le(Bt,[["__scopeId","data-v-9351101c"]]);function It(e){return nt()?(ot(e),!0):!1}function T(e){return typeof e=="function"?e():$(e)}const V=typeof window<"u"&&typeof document<"u",Tt=Object.prototype.toString,Ht=e=>Tt.call(e)==="[object Object]",Nt=()=>{};function Wt(e,t={}){if(!je(e))return et(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const i in e.value)n[i]=tt(()=>({get(){return e.value[i]},set(o){var l;if((l=T(t.replaceRef))!=null?l:!0)if(Array.isArray(e.value)){const f=[...e.value];f[i]=o,e.value=f}else{const f={...e.value,[i]:o};Object.setPrototypeOf(f,Object.getPrototypeOf(e.value)),e.value=f}else e.value[i]=o}}));return n}function Ot(e){var t;const n=T(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Pe=V?window:void 0;V&&window.document;V&&window.navigator;V&&window.location;function re(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=Pe):[t,n,i,o]=e,!t)return Nt;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const l=[],d=()=>{l.forEach(r=>r()),l.length=0},f=(r,a,c,g)=>(r.addEventListener(a,c,g),()=>r.removeEventListener(a,c,g)),s=$e(()=>[Ot(t),T(o)],([r,a])=>{if(d(),!r)return;const c=Ht(a)?{...a}:a;l.push(...n.flatMap(g=>i.map(y=>f(r,g,y,c))))},{immediate:!0,flush:"post"}),h=()=>{s(),d()};return It(h),h}function Ft(e,t={}){var n,i;const{pointerTypes:o,preventDefault:l,stopPropagation:d,exact:f,onMove:s,onEnd:h,onStart:r,initialValue:a,axis:c="both",draggingElement:g=Pe,containerElement:y,handle:m=e}=t,u=te((n=T(a))!=null?n:{x:0,y:0}),_=te(),E=C=>o?o.includes(C.pointerType):!0,L=C=>{T(l)&&C.preventDefault(),T(d)&&C.stopPropagation()},b=C=>{var B;if(!E(C)||T(f)&&C.target!==T(e))return;const W=((B=T(y))!=null?B:T(e)).getBoundingClientRect(),I={x:C.clientX-W.left,y:C.clientY-W.top};(r==null?void 0:r(I,C))!==!1&&(_.value=I,L(C))},S=C=>{if(!E(C)||!_.value)return;let{x:B,y:N}=u.value;(c==="x"||c==="both")&&(B=C.clientX-_.value.x),(c==="y"||c==="both")&&(N=C.clientY-_.value.y),u.value={x:B,y:N},s==null||s(u.value,C),L(C)},x=C=>{!E(C)||!_.value||(_.value=void 0,h==null||h(u.value,C),L(C))};if(V){const C={capture:(i=t.capture)!=null?i:!0};re(m,"pointerdown",b,C),re(g,"pointermove",S,C),re(g,"pointerup",x,C)}return{...Wt(u),position:u,isDragging:ae(()=>!!_.value),style:ae(()=>`left:${u.value.x}px;top:${u.value.y}px;`)}}let ce={};function se(e={}){ce={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...e}}function p(e){return e?ce[e]:ce}function Q(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function Ae(e){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return e.flatMap(n=>{const i=n.matches(t),o=Array.from(n.querySelectorAll(t));return[...i?[n]:[],...o]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&zt(n))}function Be(e){if(!e||Gt(e))return;const t=p("smoothScroll");e.scrollIntoView({behavior:!t||Rt(e)?"auto":"smooth",inline:"center",block:"center"})}function Rt(e){if(!e||!e.parentElement)return;const t=e.parentElement;return t.scrollHeight>t.clientHeight}function Gt(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function zt(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}let ne={};function D(e,t){ne[e]=t}function v(e){return e?ne[e]:ne}function ye(){ne={}}let oe={};function j(e,t){oe[e]=t}function O(e){var t;(t=oe[e])==null||t.call(oe)}function Vt(){oe={}}function qt(e,t,n,i){let o=v("__activeStagePosition");const l=o||n.getBoundingClientRect(),d=i.getBoundingClientRect(),f=Q(e,l.x,d.x-l.x,t),s=Q(e,l.y,d.y-l.y,t),h=Q(e,l.width,d.width-l.width,t),r=Q(e,l.height,d.height-l.height,t);o={x:f,y:s,width:h,height:r},Te(o),D("__activeStagePosition",o)}function Ie(e){if(!e)return;const t=e.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height};D("__activeStagePosition",n),Te(n)}function Kt(){const e=v("__activeStagePosition"),t=v("__overlaySvg");if(!e)return;if(!t){console.warn("No stage svg found.");return}const n=window.innerWidth,i=window.innerHeight;t.setAttribute("viewBox",`0 0 ${n} ${i}`)}function Ut(e){const t=Yt(e);document.body.appendChild(t),We(t,n=>{n.target.tagName==="path"&&O("overlayClick")}),D("__overlaySvg",t)}function Te(e){const t=v("__overlaySvg");if(!t){Ut(e);return}const n=t.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",He(e))}function Yt(e){const t=window.innerWidth,n=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",He(e)),o.style.fill=p("overlayColor")||"rgb(0,0,0)",o.style.opacity=`${p("overlayOpacity")}`,o.style.pointerEvents="auto",o.style.cursor="auto",i.appendChild(o),i}function He(e){const t=window.innerWidth,n=window.innerHeight,i=p("stagePadding")||0,o=p("stageRadius")||0,l=e.width+i*2,d=e.height+i*2,f=Math.min(o,l/2,d/2),s=Math.floor(Math.max(f,0)),h=e.x-i+s,r=e.y-i,a=l-s*2,c=d-s*2;return`M${t},0L0,0L0,${n}L${t},${n}L${t},0Z
    M${h},${r} h${a} a${s},${s} 0 0 1 ${s},${s} v${c} a${s},${s} 0 0 1 -${s},${s} h-${a} a${s},${s} 0 0 1 -${s},-${s} v-${c} a${s},${s} 0 0 1 ${s},-${s} z`}function Xt(){const e=v("__overlaySvg");e&&e.remove()}function Zt(){const e=document.getElementById("driver-dummy-element");if(e)return e;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function _e(e){const{element:t}=e;let n=typeof t=="string"?document.querySelector(t):t;n||(n=Zt()),Qt(n,e)}function Jt(){const e=v("__activeElement"),t=v("__activeStep");e&&(Ie(e),Kt(),Fe(e,t))}function Qt(e,t){const n=Date.now(),i=v("__activeStep"),o=v("__activeElement")||e,l=!o||o===e,d=e.id==="driver-dummy-element",f=o.id==="driver-dummy-element",s=p("animate"),h=t.onHighlightStarted||p("onHighlightStarted"),r=(t==null?void 0:t.onHighlighted)||p("onHighlighted"),a=(i==null?void 0:i.onDeselected)||p("onDeselected"),c=p(),g=v();!l&&a&&a(f?void 0:o,i,{config:c,state:g}),h&&h(d?void 0:e,t,{config:c,state:g});const y=!l&&s;let m=!1;on(),D("previousStep",i),D("previousElement",o),D("activeStep",t),D("activeElement",e);const u=()=>{if(v("__transitionCallback")!==u)return;const _=Date.now()-n,E=400-_<=400/2;t.popover&&E&&!m&&y&&(xe(e,t),m=!0),p("animate")&&_<400?qt(_,400,o,e):(Ie(e),r&&r(d?void 0:e,t,{config:p(),state:v()}),D("__transitionCallback",void 0),D("__previousStep",i),D("__previousElement",o),D("__activeStep",t),D("__activeElement",e)),window.requestAnimationFrame(u)};D("__transitionCallback",u),window.requestAnimationFrame(u),Be(e),!y&&t.popover&&xe(e,t),o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls"),p("disableActiveInteraction")&&e.classList.add("driver-no-interaction"),e.classList.add("driver-active-element"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-controls","driver-popover-content")}function jt(){var e;(e=document.getElementById("driver-dummy-element"))==null||e.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function z(){const e=v("__resizeTimeout");e&&window.cancelAnimationFrame(e),D("__resizeTimeout",window.requestAnimationFrame(Jt))}function en(e){var t;if(!v("isInitialized")||!(e.key==="Tab"||e.keyCode===9))return;const n=v("__activeElement"),i=(t=v("popover"))==null?void 0:t.wrapper,o=Ae([...i?[i]:[],...n?[n]:[]]),l=o[0],d=o[o.length-1];if(e.preventDefault(),e.shiftKey){const f=o[o.indexOf(document.activeElement)-1]||d;f==null||f.focus()}else{const f=o[o.indexOf(document.activeElement)+1]||l;f==null||f.focus()}}function Ne(e){var t;((t=p("allowKeyboardControl"))==null||t)&&(e.key==="Escape"?O("escapePress"):e.key==="ArrowRight"?O("arrowRightPress"):e.key==="ArrowLeft"&&O("arrowLeftPress"))}function We(e,t,n){const i=(o,l)=>{const d=o.target;e.contains(d)&&((!n||n(d))&&(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation()),l==null||l(o))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",o=>{i(o,t)},!0)}function tn(){window.addEventListener("keyup",Ne,!1),window.addEventListener("keydown",en,!1),window.addEventListener("resize",z),window.addEventListener("scroll",z)}function nn(){window.removeEventListener("keyup",Ne),window.removeEventListener("resize",z),window.removeEventListener("scroll",z)}function on(){const e=v("popover");e&&(e.wrapper.style.display="none")}function xe(e,t){var n,i;let o=v("popover");o&&document.body.removeChild(o.wrapper),o=sn(),document.body.appendChild(o.wrapper);const{title:l,description:d,showButtons:f,disableButtons:s,showProgress:h,nextBtnText:r=p("nextBtnText")||"Next &rarr;",prevBtnText:a=p("prevBtnText")||"&larr; Previous",progressText:c=p("progressText")||"{current} of {total}"}=t.popover||{};o.nextButton.innerHTML=r,o.previousButton.innerHTML=a,o.progress.innerHTML=c,l?(o.title.innerHTML=l,o.title.style.display="block"):o.title.style.display="none",d?(o.description.innerHTML=d,o.description.style.display="block"):o.description.style.display="none";const g=f||p("showButtons"),y=h||p("showProgress")||!1,m=(g==null?void 0:g.includes("next"))||(g==null?void 0:g.includes("previous"))||y;o.closeButton.style.display=g.includes("close")?"block":"none",m?(o.footer.style.display="flex",o.progress.style.display=y?"block":"none",o.nextButton.style.display=g.includes("next")?"block":"none",o.previousButton.style.display=g.includes("previous")?"block":"none"):o.footer.style.display="none";const u=s||p("disableButtons")||[];u!=null&&u.includes("next")&&(o.nextButton.disabled=!0,o.nextButton.classList.add("driver-popover-btn-disabled")),u!=null&&u.includes("previous")&&(o.previousButton.disabled=!0,o.previousButton.classList.add("driver-popover-btn-disabled")),u!=null&&u.includes("close")&&(o.closeButton.disabled=!0,o.closeButton.classList.add("driver-popover-btn-disabled"));const _=o.wrapper;_.style.display="block",_.style.left="",_.style.top="",_.style.bottom="",_.style.right="",_.id="driver-popover-content",_.setAttribute("role","dialog"),_.setAttribute("aria-labelledby","driver-popover-title"),_.setAttribute("aria-describedby","driver-popover-description");const E=o.arrow;E.className="driver-popover-arrow";const L=((n=t.popover)==null?void 0:n.popoverClass)||p("popoverClass")||"";_.className=`driver-popover ${L}`.trim(),We(o.wrapper,C=>{var B,N,W;const I=C.target,q=((B=t.popover)==null?void 0:B.onNextClick)||p("onNextClick"),K=((N=t.popover)==null?void 0:N.onPrevClick)||p("onPrevClick"),U=((W=t.popover)==null?void 0:W.onCloseClick)||p("onCloseClick");if(I.classList.contains("driver-popover-next-btn"))return q?q(e,t,{config:p(),state:v()}):O("nextClick");if(I.classList.contains("driver-popover-prev-btn"))return K?K(e,t,{config:p(),state:v()}):O("prevClick");if(I.classList.contains("driver-popover-close-btn"))return U?U(e,t,{config:p(),state:v()}):O("closeClick")},C=>!(o!=null&&o.description.contains(C))&&!(o!=null&&o.title.contains(C))&&typeof C.className=="string"&&C.className.includes("driver-popover")),D("popover",o);const b=((i=t.popover)==null?void 0:i.onPopoverRender)||p("onPopoverRender");b&&b(o,{config:p(),state:v()}),Fe(e,t),Be(_);const S=e.classList.contains("driver-dummy-element"),x=Ae([_,...S?[]:[e]]);x.length>0&&x[0].focus()}function Oe(){const e=v("popover");if(!(e!=null&&e.wrapper))return;const t=e.wrapper.getBoundingClientRect(),n=p("stagePadding")||0,i=p("popoverOffset")||0;return{width:t.width+n+i,height:t.height+n+i,realWidth:t.width,realHeight:t.height}}function be(e,t){const{elementDimensions:n,popoverDimensions:i,popoverPadding:o,popoverArrowDimensions:l}=t;return e==="start"?Math.max(Math.min(n.top-o,window.innerHeight-i.realHeight-l.width),l.width):e==="end"?Math.max(Math.min(n.top-(i==null?void 0:i.realHeight)+n.height+o,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):e==="center"?Math.max(Math.min(n.top+n.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):0}function Ce(e,t){const{elementDimensions:n,popoverDimensions:i,popoverPadding:o,popoverArrowDimensions:l}=t;return e==="start"?Math.max(Math.min(n.left-o,window.innerWidth-i.realWidth-l.width),l.width):e==="end"?Math.max(Math.min(n.left-(i==null?void 0:i.realWidth)+n.width+o,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):e==="center"?Math.max(Math.min(n.left+n.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):0}function Fe(e,t){const n=v("popover");if(!n)return;const{align:i="start",side:o="left"}=(t==null?void 0:t.popover)||{},l=i,d=e.id==="driver-dummy-element"?"over":o,f=p("stagePadding")||0,s=Oe(),h=n.arrow.getBoundingClientRect(),r=e.getBoundingClientRect(),a=r.top-s.height;let c=a>=0;const g=window.innerHeight-(r.bottom+s.height);let y=g>=0;const m=r.left-s.width;let u=m>=0;const _=window.innerWidth-(r.right+s.width);let E=_>=0;const L=!c&&!y&&!u&&!E;let b=d;if(d==="top"&&c?E=u=y=!1:d==="bottom"&&y?E=u=c=!1:d==="left"&&u?E=c=y=!1:d==="right"&&E&&(u=c=y=!1),d==="over"){const S=window.innerWidth/2-s.realWidth/2,x=window.innerHeight/2-s.realHeight/2;n.wrapper.style.left=`${S}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${x}px`,n.wrapper.style.bottom="auto"}else if(L){const S=window.innerWidth/2-(s==null?void 0:s.realWidth)/2,x=10;n.wrapper.style.left=`${S}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${x}px`,n.wrapper.style.top="auto"}else if(u){const S=Math.min(m,window.innerWidth-(s==null?void 0:s.realWidth)-h.width),x=be(l,{elementDimensions:r,popoverDimensions:s,popoverPadding:f,popoverArrowDimensions:h});n.wrapper.style.left=`${S}px`,n.wrapper.style.top=`${x}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",b="left"}else if(E){const S=Math.min(_,window.innerWidth-(s==null?void 0:s.realWidth)-h.width),x=be(l,{elementDimensions:r,popoverDimensions:s,popoverPadding:f,popoverArrowDimensions:h});n.wrapper.style.right=`${S}px`,n.wrapper.style.top=`${x}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",b="right"}else if(c){const S=Math.min(a,window.innerHeight-s.realHeight-h.width);let x=Ce(l,{elementDimensions:r,popoverDimensions:s,popoverPadding:f,popoverArrowDimensions:h});n.wrapper.style.top=`${S}px`,n.wrapper.style.left=`${x}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",b="top"}else if(y){const S=Math.min(g,window.innerHeight-(s==null?void 0:s.realHeight)-h.width);let x=Ce(l,{elementDimensions:r,popoverDimensions:s,popoverPadding:f,popoverArrowDimensions:h});n.wrapper.style.left=`${x}px`,n.wrapper.style.bottom=`${S}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",b="bottom"}L?n.arrow.classList.add("driver-popover-arrow-none"):rn(l,b,e)}function rn(e,t,n){const i=v("popover");if(!i)return;const o=n.getBoundingClientRect(),l=Oe(),d=i.arrow,f=l.width,s=window.innerWidth,h=o.width,r=o.left,a=l.height,c=window.innerHeight,g=o.top,y=o.height;d.className="driver-popover-arrow";let m=t,u=e;t==="top"?(r+h<=0?(m="right",u="end"):r+h-f<=0&&(m="top",u="start"),r>=s?(m="left",u="end"):r+f>=s&&(m="top",u="end")):t==="bottom"?(r+h<=0?(m="right",u="start"):r+h-f<=0&&(m="bottom",u="start"),r>=s?(m="left",u="start"):r+f>=s&&(m="bottom",u="end")):t==="left"?(g+y<=0?(m="bottom",u="end"):g+y-a<=0&&(m="left",u="start"),g>=c?(m="top",u="end"):g+a>=c&&(m="left",u="end")):t==="right"&&(g+y<=0?(m="bottom",u="start"):g+y-a<=0&&(m="right",u="start"),g>=c?(m="top",u="start"):g+a>=c&&(m="right",u="end")),m?(d.classList.add(`driver-popover-arrow-side-${m}`),d.classList.add(`driver-popover-arrow-align-${u}`)):d.classList.add("driver-popover-arrow-none")}function sn(){const e=document.createElement("div");e.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const o=document.createElement("button");o.type="button",o.classList.add("driver-popover-close-btn"),o.setAttribute("aria-label","Close"),o.innerHTML="&times;";const l=document.createElement("footer");l.classList.add("driver-popover-footer");const d=document.createElement("span");d.classList.add("driver-popover-progress-text"),d.innerText="";const f=document.createElement("span");f.classList.add("driver-popover-navigation-btns");const s=document.createElement("button");s.type="button",s.classList.add("driver-popover-prev-btn"),s.innerHTML="&larr; Previous";const h=document.createElement("button");return h.type="button",h.classList.add("driver-popover-next-btn"),h.innerHTML="Next &rarr;",f.appendChild(s),f.appendChild(h),l.appendChild(d),l.appendChild(f),e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(l),{wrapper:e,arrow:t,title:n,description:i,footer:l,previousButton:s,nextButton:h,closeButton:o,footerButtons:f,progress:d}}function ln(){var e;const t=v("popover");t&&((e=t.wrapper.parentElement)==null||e.removeChild(t.wrapper))}function an(e={}){se(e);function t(){p("allowClose")&&h()}function n(){const r=v("activeIndex"),a=p("steps")||[];if(typeof r>"u")return;const c=r+1;a[c]?s(c):h()}function i(){const r=v("activeIndex"),a=p("steps")||[];if(typeof r>"u")return;const c=r-1;a[c]?s(c):h()}function o(r){(p("steps")||[])[r]?s(r):h()}function l(){var r;if(v("__transitionCallback"))return;const a=v("activeIndex"),c=v("__activeStep"),g=v("__activeElement");if(typeof a>"u"||typeof c>"u"||typeof v("activeIndex")>"u")return;const y=((r=c.popover)==null?void 0:r.onPrevClick)||p("onPrevClick");if(y)return y(g,c,{config:p(),state:v()});i()}function d(){var r;if(v("__transitionCallback"))return;const a=v("activeIndex"),c=v("__activeStep"),g=v("__activeElement");if(typeof a>"u"||typeof c>"u")return;const y=((r=c.popover)==null?void 0:r.onNextClick)||p("onNextClick");if(y)return y(g,c,{config:p(),state:v()});n()}function f(){v("isInitialized")||(D("isInitialized",!0),document.body.classList.add("driver-active",p("animate")?"driver-fade":"driver-simple"),tn(),j("overlayClick",t),j("escapePress",t),j("arrowLeftPress",l),j("arrowRightPress",d))}function s(r=0){var a,c,g,y,m,u,_,E;const L=p("steps");if(!L){console.error("No steps to drive through"),h();return}if(!L[r]){h();return}D("__activeOnDestroyed",document.activeElement),D("activeIndex",r);const b=L[r],S=L[r+1],x=L[r-1],C=((a=b.popover)==null?void 0:a.doneBtnText)||p("doneBtnText")||"Done",B=p("allowClose"),N=typeof((c=b.popover)==null?void 0:c.showProgress)<"u"?(g=b.popover)==null?void 0:g.showProgress:p("showProgress"),W=(((y=b.popover)==null?void 0:y.progressText)||p("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${r+1}`).replace("{{total}}",`${L.length}`),I=((m=b.popover)==null?void 0:m.showButtons)||p("showButtons"),q=["next","previous",...B?["close"]:[]].filter(Ge=>!(I!=null&&I.length)||I.includes(Ge)),K=((u=b.popover)==null?void 0:u.onNextClick)||p("onNextClick"),U=((_=b.popover)==null?void 0:_.onPrevClick)||p("onPrevClick"),Re=((E=b.popover)==null?void 0:E.onCloseClick)||p("onCloseClick");_e({...b,popover:{showButtons:q,nextBtnText:S?void 0:C,disableButtons:[...x?[]:["previous"]],showProgress:N,progressText:W,onNextClick:K||(()=>{S?s(r+1):h()}),onPrevClick:U||(()=>{s(r-1)}),onCloseClick:Re||(()=>{h()}),...(b==null?void 0:b.popover)||{}}})}function h(r=!0){const a=v("__activeElement"),c=v("__activeStep"),g=v("__activeOnDestroyed"),y=p("onDestroyStarted");if(r&&y){const _=!a||(a==null?void 0:a.id)==="driver-dummy-element";y(_?void 0:a,c,{config:p(),state:v()});return}const m=(c==null?void 0:c.onDeselected)||p("onDeselected"),u=p("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),nn(),ln(),jt(),Xt(),Vt(),ye(),a&&c){const _=a.id==="driver-dummy-element";m&&m(_?void 0:a,c,{config:p(),state:v()}),u&&u(_?void 0:a,c,{config:p(),state:v()})}g&&g.focus()}return{isActive:()=>v("isInitialized")||!1,refresh:z,drive:(r=0)=>{f(),s(r)},setConfig:se,setSteps:r=>{ye(),se({...p(),steps:r})},getConfig:p,getState:v,getActiveIndex:()=>v("activeIndex"),isFirstStep:()=>v("activeIndex")===0,isLastStep:()=>{const r=p("steps")||[],a=v("activeIndex");return a!==void 0&&a===r.length-1},getActiveStep:()=>v("activeStep"),getActiveElement:()=>v("activeElement"),getPreviousElement:()=>v("previousElement"),getPreviousStep:()=>v("previousStep"),moveNext:n,movePrevious:i,moveTo:o,hasNextStep:()=>{const r=p("steps")||[],a=v("activeIndex");return a!==void 0&&r[a+1]},hasPreviousStep:()=>{const r=p("steps")||[],a=v("activeIndex");return a!==void 0&&r[a-1]},highlight:r=>{f(),_e({...r,popover:r.popover?{showButtons:[],showProgress:!1,progressText:"",...r.popover}:void 0})},destroy:()=>{h(!1)}}}function dn(){function e(i){const o=[];return it(i,l=>{const d={...l};d.popover.side||(d.popover.side="bottom"),d.popover.align||(d.popover.align="start"),o.push(d)}),o}function t(i,o={}){return{animate:!1,showProgress:!1,allowClose:!1,showButtons:["next","previous","close"],...o,steps:e(i)}}function n(i,o={},l){const d=an({...t(i,o),onDestroyStarted:()=>{d.hasNextStep()||(l&&l(),d.destroy())}});return d}return{setDriver:n}}var G=(e=>(e.Main="main",e))(G||{});function cn(e){const{setDriver:t}=dn();function n(){const r=[{element:".left_menu",popover:{title:w("guide.leftMenu.title"),description:w("guide.leftMenu.desc")}},{element:"#setting-btn",popover:{title:w("guide.leftSetting.title"),description:w("guide.leftSetting.desc")}},{element:"#menu-fix-btn",popover:{title:w("guide.leftFix.title"),description:w("guide.leftFix.desc")}}],{menuDrawer:a}=M;return a.collapse?[{element:".left_icon",popover:{title:w("guide.leftFloatIcon.title"),description:w("guide.leftFloatIcon.desc")}}]:r}function i(){const r=[{element:".ui-history_title_work .anticon-copy",popover:{title:w("guide.rightBatch.title"),description:w("guide.rightBatch.desc")}},{element:".ui-history_title_work .anticon-folder-add",popover:{title:w("guide.rightFolder.title"),description:w("guide.rightFolder.desc")}},{element:".ui-history_title_work .anticon-pushpin",popover:{title:w("guide.rightFix.title"),description:w("guide.rightFix.desc")}},{element:".ui-history_content",popover:{title:w("guide.rightList.title"),description:w("guide.rightList.desc")}}],{historyDrawer:a}=M;return a.collapse?[{element:".history-btn",popover:{title:w("guide.mainHistory.title"),description:w("guide.mainHistory.desc")}}]:r}function o(){return[{element:".anticon-fullscreen",popover:{title:w("guide.mainFullscreen.title"),description:w("guide.mainFullscreen.desc")}},{element:".content_name",popover:{title:w("guide.mainContentName.title"),description:w("guide.mainContentName.desc")}},{element:"#auto-save",popover:{title:w("guide.mainAutoSave.title"),description:w("guide.mainAutoSave.desc")}},{element:"#create-import",popover:{title:w("guide.mainCreate.title"),description:w("guide.mainCreate.desc")}},{element:"#save-doc",popover:{title:w("guide.mainSave.title"),description:w("guide.mainSave.desc")}},{element:".ui_content",popover:{title:w("guide.mainModule.title"),description:w("guide.mainModule.desc")}}]}function l(){return[{popover:{title:w("guide.begin.title"),description:w("guide.begin.desc")}},...n(),...o(),...i(),{popover:{title:w("guide.end.title"),description:w("guide.end.desc")}}]}const d=rt({record:{}});async function f(r){st(d.record)&&await e.getStorageData(ge.Guide).then(c=>{if(c){const{value:g}=c;d.record={...d.record,...g}}});let a=!1;return d.record.hasOwnProperty(r)&&(a=d.record[r]),Promise.resolve(a)}function s(r,a=!0){d.record[r]=a;const c={key:ge.Guide,type:gt.Config,value:{...d.record}};e.saveStorage(c)}function h(r){let a=[];switch(r){case"main":a=l();break}t(a,{popoverClass:"driverjs-theme"},()=>s(r)).drive()}return{setGuided:s,getGuided:f,showGuide:h}}const un={key:0,id:"main_area"},pn={class:"main_left"},vn={name:"Frame"},mn=Se({...vn,setup(e){const t=te(!1),n=Ee("storeIDB"),{getGuided:i,showGuide:o}=cn(n);le("getGuided",i),le("showGuide",o);const{curMenuCollapse:l,curMenuVisible:d,setMenuVisible:f,getStoreCommon:s,setStoreCommon:h}=De(n,M),r=te(null),{style:a}=Ft(r,{initialValue:{x:M.menuDrawer.cooperate.x,y:M.menuDrawer.cooperate.y},preventDefault:!0,onEnd:m=>{const{menuDrawer:{cooperate:u}}=M;u.x=m.x<0?0:m.x,u.y=m.y<0?0:m.y,h()}});s().then(()=>{t.value=!0;const{menuDrawer:{cooperate:m}}=M;pe(()=>{r.value&&(r.value.style.left=`${m.x}px`,r.value.style.top=`${m.y}px`)})}).catch(()=>{t.value=!0});function c(){const{menuDrawer:{collapse:m}}=M;return m?"width: 100%":"width: calc(100% - 210px)"}lt(()=>{pe(()=>{i(G.Main).then(m=>{m||o(G.Main)})})});function g(){f(!1),o(G.Main)}function y(){o(G.Main)}return(m,u)=>{const _=at("router-view");return H(),Y(ut,{spinning:$(M).loading,"wrapper-class-name":"global-loading"},{default:A(()=>[t.value?(H(),R("div",un,[ve(k("div",{ref_key:"menuIcon",ref:r,class:"left_icon",style:fe($(a))},[k("img",{src:Me,onClick:u[0]||(u[0]=ke(E=>$(f)(!0),["stop"]))})],4),[[me,$(l)&&!$(d)]]),ve(k("div",pn,[P(we,{from:$(de).Fixed,onGuide:y},null,8,["from"])],512),[[me,!$(l)]]),k("div",{class:"main_right",style:fe(c())},[P(_,null,{default:A(({Component:E})=>[(H(),Y(dt,null,[m.$route.meta.keepAlive?(H(),Y(he(E),{key:m.$route.name})):ee("",!0)],1024)),m.$route.meta.keepAlive?ee("",!0):(H(),Y(he(E),{key:m.$route.name}))]),_:1})],4),P(pt,{"body-style":{padding:0},width:200,visible:$(d),closable:!1,placement:"left",onVisible:u[1]||(u[1]=E=>$(f)(E))},{default:A(()=>[P(we,{from:$(de).Drawer,onGuide:g},null,8,["from"])]),_:1},8,["visible"])])):ee("",!0)]),_:1},8,["spinning"])}}});const Ln=Le(mn,[["__scopeId","data-v-4cbc5814"]]);export{Ln as default};
