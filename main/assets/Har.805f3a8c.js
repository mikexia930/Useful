import{q as Fe,bh as he,aj as W,d as S,K as A,g as o,o as p,c as v,a as h,w as b,v as a,$ as l,a1 as _e,a4 as j,bg as Ie,x as M,b as L,a0 as n,y as P,ai as G,d2 as le,bq as Ce,Y as Q,d3 as Ge,E as Ue,Z as ae,R as Z,at as Qe,au as Ye,s as Y,G as Ze,aq as Ee,F as et,M as fe,t as tt,U as at,O as st,z as $,S as q,bt as ve,av as lt}from"./index.1da778f9.js";import{I as nt,_ as Pe,U as ot}from"./UIWithTitle.f8208f61.js";import{a as it,D as rt,t as ut,X as dt,b as ct,c as pt,d as _t,e as ht,U as vt}from"./UICreateImport.vue_vue_type_script_setup_true_lang.e9d5def8.js";import{_ as mt}from"./DSteps.vue_vue_type_script_setup_true_lang.6fa0d8bb.js";import{b as We,_ as ft,a as Me,u as yt}from"./PortImport.vue_vue_type_script_setup_true_lang.2fc96ef8.js";import{D as Re}from"./DCodeMirror.4be9c467.js";import{_ as je}from"./DButton.vue_vue_type_script_setup_true_lang.7d1596b6.js";import{i as bt,e as Ne}from"./fileLib.ab21b4c9.js";import{s as X,E as K,_ as N,a as ne}from"./Interface.adbaf245.js";import{g as ie}from"./randomLib.04c6c9cc.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as Le}from"./DSelect.vue_vue_type_script_setup_true_lang.5279f391.js";import{D as V}from"./DTooltip.63413dc2.js";import{d as re}from"./copyLib.da4e3454.js";import{E as ue,f as xe,e as ee,g as Se,a as ke,d as we,b as De,o as gt}from"./posterLib.d01e67e6.js";import{t as kt}from"./trim.8795fa7a.js";import{C as wt}from"./index.85745b49.js";import{f as Dt}from"./findIndex.4ace8958.js";import{_ as Ot}from"./DResult.vue_vue_type_script_setup_true_lang.65015d34.js";import{u as $t}from"./ModuleAutoSaveLib.0fb4c3e5.js";import"./ModuleCollapsetLib.78fb6d31.js";import"./routeLib.b1a3bf91.js";import"./index.5aa88714.js";import"./KeyCode.9e37adda.js";import"./pick.5cf82e83.js";import"./_baseIsEqual.74295246.js";import"./_flatRest.4c2f6287.js";import"./hasIn.49cbec25.js";import"./memoize.9cfb9d7d.js";import"./styleChecker.0a18f775.js";import"./debounce.64b6b86f.js";import"./now.5c01924d.js";import"./DSpin.61091bf0.js";import"./config.aa76b2c0.js";import"./responsiveObserve.2ab3d882.js";import"./index.b9cbb730.js";import"./codemirror.a85cc932.js";import"./stringify.15412eb9.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./___vite-browser-external_commonjs-proxy.48040041.js";const ce=Fe({folders:[],item:{}});var pe=(e=>(e.Upload="upload",e.Content="content",e))(pe||{}),ge=(e=>(e.Dropdown="dropdown",e.Icon="icon",e))(ge||{}),U=(e=>(e.One="1xx",e.Two="2xx",e.Three="3xx",e.Four="4xx",e.Five="5xx",e.Other="0",e))(U||{}),g=(e=>(e.FetchXhr="Fetch/xhr",e.WebSocket="Websocket",e.Image="Image",e.Media="Media",e.Font="Font",e.Doc="Doc",e.Js="Js",e.Css="Css",e.Wasm="Wasm",e.Manifest="Manifest",e.Other="Other",e))(g||{});const me=".hara",Ft={[he.Config]:"har_config",[he.Folder]:"har_folder",[he.Content]:"har_content",[he.Env]:"har_env"};function Ct(){return{content:{step:0,source:{type:pe.Upload,content:""},list:{search:{url:"",type:[],status:[],requests:0},selected:[],requests:[],detailIdentity:""}},isSaved:0}}function ye(e){return{log:{version:"1.2",creator:{name:"Poster",version:"2.0.0"},entries:[...e]}}}function xt(e){let s=g.Other;const{response:t,request:c}=e,i=t.content.mimeType;return i.indexOf("application/javascript")>-1?s=g.Js:i.indexOf("text/css")>-1?s=g.Css:i.indexOf("image/")>-1?s=g.Image:i.indexOf("application/manifest")>-1?s=g.Manifest:i.indexOf("application/json")>-1?s=g.FetchXhr:i.indexOf("font/")>-1?s=g.Font:i.indexOf("html")>-1||i.indexOf("pdf")>-1?s=g.Doc:i.indexOf("audio/")>-1||i.indexOf("video/")>-1?s=g.Media:St(c.headers)&&(s=g.WebSocket),s}function St(e){let s=!1;return W(e,t=>{if(t.name==="Upgrade"&&t.value==="websocket")return s=!0,!1}),s}function Ht(e){let s=U.Other;const{response:t}=e;return t.status>=100&&t.status<200?s=U.One:t.status>=200&&t.status<300?s=U.Two:t.status>=300&&t.status<400?s=U.Three:t.status>=400&&t.status<500?s=U.Four:t.status>=500&&t.status<600&&(s=U.Five),s}const Tt={class:"editor-step1"},qt={name:"HarImportStep1"},At=S({...qt,emits:["step2"],setup(e,{emit:s}){const t=A("storeItemData"),c=[{value:pe.Upload,label:o("har.import.step1.upload.label")},{value:pe.Content,label:o("har.import.step1.content.label")}];let i;function d(r){var u,f;i=((f=(u=r==null?void 0:r.target)==null?void 0:u.files)==null?void 0:f[0])||"",i&&bt(i).then(m=>{m&&(t.source.content=m,t.source.type=pe.Content)}).catch(m=>{console.log("har-import",m),X(K.Error,o("notice.importErr"))})}function _(){var r;try{if(t.source.content){const u=JSON.parse(t.source.content);if(u&&((r=u.log)==null?void 0:r.entries)&&Array.isArray(u.log.entries)&&u.log.entries.length>0){const{log:f}=u,m=[];W(f.entries,y=>{m.push({identity:ie(),type:xt(y),status:Ht(y),urlHighLight:"",http:y})}),t.list.requests=m,s("step2")}else throw new Error("content error")}else throw new Error("no content")}catch(u){console.log("err",u),X(K.Warning,o("har.import.step1.notice.contentErr"))}}return(r,u)=>{const f=nt;return p(),v("div",Tt,[h(We,{centered:!0,tabs:c,active:l(t).source.type,"onUpdate:active":u[1]||(u[1]=m=>l(t).source.type=m)},{rightExtra:b(()=>[a("div",null,[h(je,{onClick:_,type:"primary",name:l(o)("har.import.step1.confirm")},null,8,["name"])])]),upload:b(()=>[h(f,_e({class:`${l(j).theme.current}InputBg`},r.$attrs,{type:"file",accept:[".har"],onChange:d}),null,16,["class","accept"])]),content:b(()=>[h(Re,{mode:"application/json",placeholder:l(o)("har.import.step1.content.placeholder"),value:l(t).source.content,"onUpdate:value":u[0]||(u[0]=m=>l(t).source.content=m),theme:l(Ie)[l(j).theme.current]},null,8,["placeholder","value","theme"])]),_:1},8,["active"])])}}});const It=z(At,[["__scopeId","data-v-7c9bee73"]]),Ut={name:"HarFilterUrl"},Pt=S({...Ut,setup(e){const s=A("storeItemData");return(t,c)=>(p(),M(Pe,{style:{width:"150px"},value:l(s).list.search.url,"onUpdate:value":c[0]||(c[0]=i=>l(s).list.search.url=i),placeholder:l(o)("har.filter.url.placeholder"),"is-search":!0,"allow-clear":!0},null,8,["value","placeholder"]))}}),Wt={name:"HarFilterType"},Mt=S({...Wt,setup(e){const s=A("storeItemData"),t=[{label:g.FetchXhr,value:g.FetchXhr},{label:g.Js,value:g.Js},{label:g.Css,value:g.Css},{label:g.Image,value:g.Image},{label:g.Doc,value:g.Doc},{label:g.Media,value:g.Media},{label:g.Manifest,value:g.Manifest},{label:g.WebSocket,value:g.WebSocket},{label:g.Wasm,value:g.Wasm},{label:g.Other,value:g.Other}];return(c,i)=>(p(),M(Le,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.type,"onUpdate:value":i[0]||(i[0]=d=>l(s).list.search.type=d),placeholder:l(o)("har.filter.type.placeholder"),mode:"multiple",options:t,allowClear:!0},null,8,["value","placeholder"]))}}),Rt={name:"HarFilterType"},jt=S({...Rt,setup(e){const s=A("storeItemData"),t=[{label:U.Other,value:U.Other},{label:U.One,value:U.One},{label:U.Two,value:U.Two},{label:U.Three,value:U.Three},{label:U.Four,value:U.Four},{label:U.Five,value:U.Five}];return(c,i)=>(p(),M(Le,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.status,"onUpdate:value":i[0]||(i[0]=d=>l(s).list.search.status=d),placeholder:l(o)("har.filter.status.placeholder"),mode:"multiple",options:t,allowClear:!0},null,8,["value","placeholder"]))}}),Nt={class:"har-filter"},Lt={name:"HarFilter"},Bt=S({...Lt,setup(e){return(s,t)=>(p(),v("div",Nt,[a("span",null,[h(Mt)]),a("span",null,[h(jt)]),a("span",null,[h(Pt)])]))}});const Vt=z(Bt,[["__scopeId","data-v-c5f8309d"]]);var te=(e=>(e.LeftOutlined="LeftOutlined",e.RightOutlined="RightOutlined",e.DoubleRightOutlined="DoubleRightOutlined",e.DoubleLeftOutlined="DoubleLeftOutlined",e.SwapRightOutlined="SwapRightOutlined",e.CalendarOutlined="CalendarOutlined",e.UnlockOutlined="UnlockOutlined",e.LockOutlined="LockOutlined",e.ClockCircleOutlined="ClockCircleOutlined",e.SearchOutlined="SearchOutlined",e.FilterOutlined="FilterOutlined",e.InboxOutlined="InboxOutlined",e.CaretUpOutlined="CaretUpOutlined",e.CaretDownOutlined="CaretDownOutlined",e.MoreOutlined="MoreOutlined",e.FunnelPlotOutlined="FunnelPlotOutlined",e.VerticalRightOutlined="VerticalRightOutlined",e.VerticalLeftOutlined="VerticalLeftOutlined",e.PushpinOutlined="PushpinOutlined",e.VerticalAlignTopOutlined="VerticalAlignTopOutlined",e.VerticalAlignBottomOutlined="VerticalAlignBottomOutlined",e.SwapOutlined="SwapOutlined",e.RetweetOutlined="RetweetOutlined",e.DisconnectOutlined="DisconnectOutlined",e.GlobalOutlined="GlobalOutlined",e.HeartOutlined="HeartOutlined",e.CheckOutlined="CheckOutlined",e.DeleteOutlined="DeleteOutlined",e.PlusOutlined="PlusOutlined",e.LinkOutlined="LinkOutlined",e.EditOutlined="EditOutlined",e.CloseOutlined="CloseOutlined",e.CloseCircleOutlined="CloseCircleOutlined",e.ExclamationCircleOutlined="ExclamationCircleOutlined",e.DownloadOutlined="DownloadOutlined",e.UploadOutlined="UploadOutlined",e.CopyOutlined="CopyOutlined",e.FrownOutlined="FrownOutlined",e.HolderOutlined="HolderOutlined",e.DownOutlined="DownOutlined",e.FolderOutlined="FolderOutlined",e.FolderOpenOutlined="FolderOpenOutlined",e.FolderAddOutlined="FolderAddOutlined",e.SettingOutlined="SettingOutlined",e.GithubOutlined="GithubOutlined",e.LoadingOutlined="LoadingOutlined",e.DesktopOutlined="DesktopOutlined",e.UpOutlined="UpOutlined",e.FullscreenOutlined="FullscreenOutlined",e.FullscreenExitOutlined="FullscreenExitOutlined",e.SmileOutlined="SmileOutlined",e.FilePdfOutlined="FilePdfOutlined",e.ExportOutlined="ExportOutlined",e.ClearOutlined="ClearOutlined",e.ApiOutlined="ApiOutlined",e.ShareAltOutlined="ShareAltOutlined",e.UndoOutlined="UndoOutlined",e.LikeOutlined="LikeOutlined",e))(te||{});const zt={class:"har-work-popover"},Jt={name:"HarWorkDropdown"},Xt=S({...Jt,props:{isHasDownload:{type:Boolean}},emits:["detail","copyUrl","copyHar","newTab","exportHar","download","delete","saveToPoster"],setup(e,{emit:s}){const t=e,c=L(()=>{const d=[{label:o("har.work.detailRequest"),value:"detail"},{label:o("har.work.exportToUseful"),value:"saveToPoster"},{label:o("har.work.copyUrl"),value:"copyUrl"},{label:o("har.work.openInNewWindow"),value:"newTab"},{label:o("har.work.copyHar"),value:"copyHar"},{label:o("har.work.exportHar"),value:"exportHar"},{label:o("har.work.delete"),value:"delete"}];return t.isHasDownload&&d.push({label:o("har.work.downloadFile"),value:"download"}),d});function i(d){switch(d){case"detail":s("detail");break;case"copyUrl":s("copyUrl");break;case"copyHar":s("copyHar");break;case"newTab":s("newTab");break;case"exportHar":s("exportHar");break;case"download":s("download");break;case"delete":s("delete");break;case"saveToPoster":s("saveToPoster");break}}return(d,_)=>(p(),v("div",zt,[h(it,{data:c.value,onSelected:i},{anchor:b(()=>[h(N,{type:l(te).SettingOutlined},null,8,["type"])]),_:1},8,["data"])]))}}),Kt={class:"har-work-icon"},Gt={class:"tw-text-sm"},Qt={class:"tw-text-sm"},Yt={class:"tw-text-sm"},Zt={class:"tw-text-sm"},Et={class:"tw-text-sm"},ea={class:"tw-text-sm"},ta={name:"HarWorkIcon"},aa=S({...ta,props:{isHasDownload:{type:Boolean}},emits:["copyUrl","copyHar","newTab","exportHar","download","saveToPoster"],setup(e,{emit:s}){function t(){s("copyUrl")}function c(){s("copyHar")}function i(){s("newTab")}function d(){s("exportHar")}function _(){s("download")}function r(){s("saveToPoster")}return(u,f)=>(p(),v("div",Kt,[a("span",{onClick:r},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).ApiOutlined},null,8,["type"])]),default:b(()=>[a("span",Gt,n(l(o)("har.work.exportToUseful")),1)]),_:1})]),a("span",{onClick:t},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).LinkOutlined},null,8,["type"])]),default:b(()=>[a("span",Qt,n(l(o)("har.work.copyUrl")),1)]),_:1})]),a("span",{onClick:i},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).DesktopOutlined},null,8,["type"])]),default:b(()=>[a("span",Yt,n(l(o)("har.work.openInNewWindow")),1)]),_:1})]),a("span",{onClick:c},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).CopyOutlined},null,8,["type"])]),default:b(()=>[a("span",Zt,n(l(o)("har.work.copyHar")),1)]),_:1})]),a("span",{onClick:d},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).ExportOutlined},null,8,["type"])]),default:b(()=>[a("span",Et,n(l(o)("har.work.exportHar")),1)]),_:1})]),u.isHasDownload?(p(),v("span",{key:0,onClick:_},[h(V,null,{anchor:b(()=>[h(N,{type:l(te).DownloadOutlined},null,8,["type"])]),default:b(()=>[a("span",ea,n(l(o)("har.work.downloadFile")),1)]),_:1})])):P("",!0)]))}});const sa=z(aa,[["__scopeId","data-v-cbb840c6"]]);function la(e){let s=!!e;return s&&(s=!/[ :,;=]/.test(e),s&&W(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Date","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via","sec-","accept","accept-language","priority","user-agent"],i=>{if(String(G(e)).indexOf(G(i))===0)return s=!1,!1})),s}function na(e){var x,D,B;const{request:s,response:t,startedDateTime:c,time:i}=e,{method:d}=s;let _=ue.GET;W(ue,I=>{if(G(I)===G(d))return _=I,!1});let r=xe.QUERY,u=ee.FormData;const f=[];let m={type:Se.Plain,value:""};if([ue.POST,ue.PUT,ue.PATCH].includes(_))if(r=xe.POST,s.bodySize===0)u=ee.None;else{let T=(x=s.postData)==null?void 0:x.mimeType;T&&(T=G(T),T.indexOf(G(ee.XWWWFormUrlEncode))>-1||T.indexOf(G(ee.FormData))>-1?(u=T.indexOf(G(ee.XWWWFormUrlEncode))>-1?ee.XWWWFormUrlEncode:ee.FormData,(D=s.postData)!=null&&D.params&&W((B=s.postData)==null?void 0:B.params,H=>{f.push({identity:ie(),isUse:!0,name:H.name,type:we.Text,value:H.value,isEssential:!1,fieldType:De.String,desc:""})})):W(Se,H=>{var w;if(T&&T.indexOf(G(H))>-1)return u=ee.Raw,m.type=H,m.value=((w=s.postData)==null?void 0:w.text)||"",!1}))}const y={type:ke.No,basic:{username:"",password:""},bearer:{token:""}},F=[];W(s.headers,I=>{const{name:T,value:H}=I;if(la(T))if(T==="Authorization"){const w=H.split(" ");let R=[];if(w.length===2){const J=G(w[0]);switch(J){case ke.Bearer:y.type=J,y.bearer.token=w[1];break;case ke.Basic:R=w[1].split(":"),y.type=J,y.basic.username=R[0],y.basic.password=R[1]||"";break}}}else F.push({identity:ie(),isUse:!0,name:T,type:we.Text,value:H,isEssential:!1,fieldType:De.String,desc:""})});const O=[];s.queryString&&W(s.queryString,I=>{const{name:T,value:H}=I;O.push({identity:ie(),isUse:!0,name:T,type:we.Text,value:H,isEssential:!1,fieldType:De.String,desc:""})});const C={datetime:c,time:i,tab:"response",resultTab:"origin",status:{value:t.status>=200&&t.status<=300?"success":"errResponse",message:t._error||"",code:t.status},headers:{request:[],response:[]},data:t.content.text};return W(s.headers,I=>{C.headers.request.push({key:I.name,value:I.value})}),W(t.headers,I=>{C.headers.response.push({key:I.name,value:I.value})}),{isRequesting:!1,remark:"",request:{identity:ie(),envIdentity:"no",isCollapse:!1,method:_,url:s.url,paramTab:r,auth:y,header:F,query:O,post:{type:u,form:f,raw:m}},response:C}}async function oa(e,s){const t=gt;function c(u){const f={[le.Key]:t.folder,[le.Type]:t.folder,[le.Value]:Ce(u)};return e.saveStorage(f)}function i(u){return e.saveStoragePatch(u)}const d=[],_=[];W(s,u=>{const{name:f,identity:m,content:y,importIdentity:F}=u;_.push({identity:m,name:f});const O={content:y,importIdentity:F,isSaved:1};d.push({[le.Key]:m,[le.Type]:t.content,[le.Value]:Ce(O)})});let r=[];await e.getStorageData(t.folder,le.Type).then(u=>{(u==null?void 0:u.value)&&!Q(u)&&(r=Ge(u.value));const f=ia();let m=-1;Q(r)||W(r,(y,F)=>{const{identity:O}=y;if(O===Be)return m=F,!1}),m>-1?r[m].children=[...r[m].children,..._]:(f.children=_,r.push(f))}).catch(u=>{console.log("posterImportApi-get-folder-error",u),X(K.Success,o("notice.getErr"))}),await c(r).catch(u=>{console.log("posterImportApi-save-folder-error",u),X(K.Success,o("notice.saveOk"))}),await i(d).then(()=>{X(K.Success,o("notice.saveOk"))}).catch(u=>{console.log("posterImportApi-save-content-error",u),X(K.Success,o("notice.saveErr"))})}const Be="import",ia=()=>({identity:Be,name:o("history.importFolder"),children:[]});async function ra(e,s,t){switch(s){case Ue.Poster:await oa(e,t);break}}const ua=e=>(Qe("data-v-fe500f0b"),e=e(),Ye(),e),da={class:"im-block"},ca={class:"im-item"},pa={class:"tw-mb-2"},_a=ua(()=>a("div",{class:"im-name"},"\u5BFC\u5165\u540D\u79F0",-1)),ha={name:"PortModule"},va=S({...ha,props:{title:{},visible:{type:Boolean},data:{},toModule:{}},emits:["update:visible"],setup(e,{emit:s}){const t=e,c=A("storeIDB"),i=L({set:_=>s("update:visible",_),get:()=>t.visible});function d(){const _=[];let r=!0;W(t.data,u=>{const{identity:f,name:m,content:y,importIdentity:F}=u;if(kt(m))_.push({identity:f,name:m,content:y,importIdentity:F});else return r=!1,!1}),r?ra(c,t.toModule,_).then(()=>{i.value=!1}):X(K.Warning,o("notice.emptyName"))}return(_,r)=>(p(),M(ft,_e(_.$attrs,{title:_.title,visible:i.value,"onUpdate:visible":r[0]||(r[0]=u=>i.value=u),onOk:d}),{default:b(()=>[a("div",da,[(p(!0),v(Z,null,ae(_.data,u=>(p(),v("div",ca,[a("div",pa,n(u.intro),1),a("div",null,[_a,h(Pe,{value:u.name,"onUpdate:value":f=>u.name=f},null,8,["value","onUpdate:value"])])]))),256))])]),_:1},16,["title","visible"]))}});const ma=z(va,[["__scopeId","data-v-fe500f0b"]]);function fa(e){return wt.MD5(e)}const ya={name:"HarWork"},Ve=S({...ya,props:{type:{default:ge.Dropdown},identity:{default:""}},setup(e){const s=e,t=A("storeItemData"),c={dropdown:Xt,icon:sa},i=Y(-1),d=L(()=>{let k=null;return W(t.list.requests,(x,D)=>{if(x.identity===s.identity)return k=x,i.value=D,!1}),k}),_=L(()=>{let k=!1;return d.value&&(k=![g.WebSocket,g.FetchXhr].includes(d.value.type)),k});function r(){d.value&&re(JSON.stringify(ye([d.value.http])),!0)}function u(){d.value&&re(d.value.http.request.url)}function f(){d.value&&window.open(d.value.http.request.url)}function m(){d.value&&Ne(JSON.stringify(ye([d.value.http])),"poster.har")}function y(){const k=chrome;k&&d.value&&k.permissions.request({permissions:["downloads"]},x=>{var D;x?d.value&&((D=k==null?void 0:k.downloads)==null||D.download({url:d.value.http.request.url})):X(K.Warning,o("notice.noAuth"))})}function F(){var k,x;if(d.value&&i.value>-1){const D=(x=(k=t.list.requests)==null?void 0:k[i.value])==null?void 0:x.identity;D&&(D===t.list.detailIdentity&&(t.list.detailIdentity=""),t.list.requests.splice(i.value,1),X(K.Success,o("notice.delOk")))}}const O=Fe({visible:!1,data:[]});function C(){var x,D;const k=(D=(x=t.list.requests)==null?void 0:x[i.value])==null?void 0:D.http;if(k){const B=na(k);O.visible=!0,O.data=[{identity:ie(),name:o("name.unnamed"),content:B,importIdentity:fa(B.request.url),intro:B.request.url}]}}return(k,x)=>(p(),v("span",null,[(p(),M(Ze(c[k.type]),_e(k.$attrs,{"is-has-download":_.value,onCopyHar:r,onCopyUrl:u,onNewTab:f,onExportHar:m,onDownload:y,onDelete:F,onSaveToPoster:C}),null,16,["is-has-download"])),h(ma,{title:l(o)("har.work.exportToUseful"),visible:O.visible,"onUpdate:visible":x[0]||(x[0]=D=>O.visible=D),data:O.data,"to-module":l(Ue).Poster},null,8,["title","visible","data","to-module"])]))}}),ba={class:"tw-mr-2"},ga={class:"har-status"},ka={class:"har-status__label"},wa=["title"],Da=["title"],Oa=["innerHTML"],$a={class:"har-work"},Fa={name:"HarItem"},Ca=S({...Fa,props:{itemData:{},top:{}},emits:["detail","saveToUseful"],setup(e,{emit:s}){const t=e,c=A("storeItemData"),i=L({get:()=>c.list.selected.includes(t.itemData.identity),set:r=>{const u=t.itemData.identity;if(r){const f=new Set([...c.list.selected,u]);c.list.selected=Array.from(f)}else{const f=Dt(c.list.selected,m=>m===u);f>-1&&c.list.selected.splice(f,1)}}});function d(){s("detail",t.itemData.identity)}function _(){s("saveToUseful",t.itemData.identity)}return(r,u)=>{var f,m,y,F,O,C,k,x;return p(),v("div",{class:"har-list-block",style:et({top:`${r.top}px`})},[a("div",{class:Ee(["har-list-item",{"har-list-item__linked":l(c).list.detailIdentity===r.itemData.identity}])},[a("div",ba,[h(Me,{checked:i.value,"onUpdate:checked":u[0]||(u[0]=D=>i.value=D)},null,8,["checked"])]),a("div",{class:"har-list-left",onClick:d},[a("div",ga,[h(rt,{color:"green"}),a("span",ka,n(((m=(f=r.itemData.http)==null?void 0:f.response)==null?void 0:m.status)||"-"),1)]),a("div",{class:"har-type",title:((O=(F=(y=r.itemData.http)==null?void 0:y.response)==null?void 0:F.content)==null?void 0:O.mimeType)||"-"},n(((x=(k=(C=r.itemData.http)==null?void 0:C.response)==null?void 0:k.content)==null?void 0:x.mimeType)||"-"),9,wa),a("div",{class:"har-url",title:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},[a("span",{innerHTML:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},null,8,Oa)],8,Da)]),a("div",$a,[h(Ve,_e(r.$attrs,{type:l(ge).Dropdown,identity:r.itemData.identity,onDetail:d,onSaveToPoster:_}),null,16,["type","identity"])])],2)],4)}}});const xa=z(Ca,[["__scopeId","data-v-7e0014e9"]]);var Sa=typeof global=="object"&&global&&global.Object===Object&&global;const Ha=Sa;var Ta=typeof self=="object"&&self&&self.Object===Object&&self,qa=Ha||Ta||Function("return this")();const ze=qa;var Aa=ze.Symbol;const be=Aa;var Je=Object.prototype,Ia=Je.hasOwnProperty,Ua=Je.toString,de=be?be.toStringTag:void 0;function Pa(e){var s=Ia.call(e,de),t=e[de];try{e[de]=void 0;var c=!0}catch{}var i=Ua.call(e);return c&&(s?e[de]=t:delete e[de]),i}var Wa=Object.prototype,Ma=Wa.toString;function Ra(e){return Ma.call(e)}var ja="[object Null]",Na="[object Undefined]",He=be?be.toStringTag:void 0;function La(e){return e==null?e===void 0?Na:ja:He&&He in Object(e)?Pa(e):Ra(e)}function Ba(e){return e!=null&&typeof e=="object"}var Va="[object Symbol]";function za(e){return typeof e=="symbol"||Ba(e)&&La(e)==Va}var Ja=/\s/;function Xa(e){for(var s=e.length;s--&&Ja.test(e.charAt(s)););return s}var Ka=/^\s+/;function Ga(e){return e&&e.slice(0,Xa(e)+1).replace(Ka,"")}function $e(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}var Te=0/0,Qa=/^[-+]0x[0-9a-f]+$/i,Ya=/^0b[01]+$/i,Za=/^0o[0-7]+$/i,Ea=parseInt;function qe(e){if(typeof e=="number")return e;if(za(e))return Te;if($e(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=$e(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=Ga(e);var t=Ya.test(e);return t||Za.test(e)?Ea(e.slice(2),t?2:8):Qa.test(e)?Te:+e}var es=function(){return ze.Date.now()};const Oe=es;var ts="Expected a function",as=Math.max,ss=Math.min;function ls(e,s,t){var c,i,d,_,r,u,f=0,m=!1,y=!1,F=!0;if(typeof e!="function")throw new TypeError(ts);s=qe(s)||0,$e(t)&&(m=!!t.leading,y="maxWait"in t,d=y?as(qe(t.maxWait)||0,s):d,F="trailing"in t?!!t.trailing:F);function O(w){var R=c,J=i;return c=i=void 0,f=w,_=e.apply(J,R),_}function C(w){return f=w,r=setTimeout(D,s),m?O(w):_}function k(w){var R=w-u,J=w-f,oe=s-R;return y?ss(oe,d-J):oe}function x(w){var R=w-u,J=w-f;return u===void 0||R>=s||R<0||y&&J>=d}function D(){var w=Oe();if(x(w))return B(w);r=setTimeout(D,k(w))}function B(w){return r=void 0,F&&c?O(w):(c=i=void 0,_)}function I(){r!==void 0&&clearTimeout(r),f=0,c=u=i=r=void 0}function T(){return r===void 0?_:B(Oe())}function H(){var w=Oe(),R=x(w);if(c=arguments,i=this,u=w,R){if(r===void 0)return C(u);if(y)return clearTimeout(r),r=setTimeout(D,s),O(u)}return r===void 0&&(r=setTimeout(D,s)),_}return H.cancel=I,H.flush=T,H}function ns(e,s,t=1e3){const c=Y([]),i=Y(!0);fe(()=>s.value,()=>{const{rowItemAmount:m,listData:y,rowHeight:F}=s.value,O=[];for(let C=0;C<y.length;C+=1){const k=Math.floor(C/m);O.push({value:y[C],top:k*F})}c.value=O},{deep:!0,immediate:!0});let d=null;const _=Y(0),r=Y(0),u=Fe({begin:0,end:0+t}),f=ls(m=>{var y;_.value=((y=m.target)==null?void 0:y.scrollTop)||0,u.begin=_.value-t,u.end=_.value+r.value+t},200);return fe(()=>r.value,m=>{u.begin=_.value-t,u.end=_.value+m+t}),tt(()=>{at(()=>{d=document.getElementById(e),r.value=(d==null?void 0:d.clientHeight)||0,u.end=r.value+t,d.addEventListener("resize",()=>{r.value=(d==null?void 0:d.clientHeight)||0}),i&&d.addEventListener("scroll",f)})}),st(()=>{f.cancel()}),{wrapData:c,scrollTop:_,showArea:u}}const os={class:"har-work-batch"},is={class:"tw-text-sm"},rs={class:"tw-text-sm"},us={class:"tw-text-sm"},ds={class:"tw-text-sm"},cs={name:"HarBatchWork"},ps=S({...cs,setup(e){const s=A("storeItemData");function t(r=!1){const{selected:u,requests:f}=s.list,m=[];return Q(u)?X(K.Warning,o("notice.selectEmpty")):W(f,y=>{if(u.includes(y.identity)&&(r&&y.type===g.WebSocket||m.push(y.http)),u.length===m.length)return!1}),m}function c(){const r=t();Q(r)||re(JSON.stringify(ye([...r])),!0)}function i(){const r=t();Q(r)||Ne(JSON.stringify(ye([...r])),"poster.har")}function d(){const r=t(!0),u=chrome;u&&!Q(r)&&u.permissions.request({permissions:["downloads"]},f=>{f?W(r,m=>{u.downloads.download({url:m.request.url})}):X(K.Warning,o("notice.noAuth"))})}function _(){s.list.requests=[]}return(r,u)=>(p(),v("div",os,[a("span",{onClick:c},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).CopyOutlined},null,8,["type"])]),default:b(()=>[a("span",is,n(l(o)("har.batch.copyHar")),1)]),_:1})]),a("span",{onClick:i},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).ExportOutlined},null,8,["type"])]),default:b(()=>[a("span",rs,n(l(o)("har.batch.exportHar")),1)]),_:1})]),a("span",{onClick:d},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).DownloadOutlined},null,8,["type"])]),default:b(()=>[a("span",us,n(l(o)("har.batch.downloadFile")),1)]),_:1})]),a("span",{onClick:_},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).ClearOutlined},null,8,["type"])]),default:b(()=>[a("span",ds,n(l(o)("har.batch.clearHar")),1)]),_:1})])]))}});const _s=z(ps,[["__scopeId","data-v-b219182a"]]),hs={class:"editor-step2"},vs={class:"tw-mb-4 tw-flex tw-justify-between"},ms={class:"tw-flex tw-items-center tw-justify-between"},fs={class:"tw-font-bold"},ys={class:"tw-ml-4 tw-text-sm"},bs={class:"tw-mb-4 tw-flex tw-justify-between"},gs={class:"har-list",id:"har-list"},ks={name:"HarImportStep2"},ws=S({...ks,emits:["step1"],setup(e,{emit:s}){const t=A("storeItemData"),c=Y([]);let i;function d(){const F=[],{search:{status:O,url:C,type:k},requests:x}=t.list;W(x,D=>{const{status:B,type:I,http:T}=D;let H=!0;if(D.urlHighLight="",H&&!Q(O)&&!O.includes(B)&&(H=!1),H&&!Q(k)&&!k.includes(I)&&(H=!1),H&&C)if(T.request.url.indexOf(C)===-1)H=!1;else{i||(i=new dt({color:"#FFFF00",tag:"font"}));const w=i.search(T.request.url,C);w.isMatch&&(D.urlHighLight=w.highlightStr)}H&&F.push(D)}),c.value=F}const _=L(()=>({listData:c.value,rowItemAmount:1,rowHeight:44})),{wrapData:r,showArea:u}=ns("har-list",_),f=ut(d,500);fe(()=>[t.list.search,t.list.requests],()=>f(),{immediate:!0,deep:!0});function m(F){t.list.detailIdentity=F}function y(){s("step1")}return(F,O)=>(p(),v("div",hs,[a("div",vs,[a("div",ms,[a("span",fs,n(l(o)("har.import.step2.title")),1),a("span",ys,n(l(o)("har.import.step2.amount"))+": "+n(l(r).length),1),a("span",null,[h(_s)])]),a("div",null,[h(je,{onClick:y,type:"primary",name:l(o)("har.import.step2.confirm")},null,8,["name"])])]),a("div",bs,[h(Vt)]),a("div",gs,[(p(!0),v(Z,null,ae(l(r),C=>(p(),v(Z,{key:C.value.identity},[C.top>=l(u).begin&&C.top<=l(u).end?(p(),M(xa,{key:0,top:C.top,"item-data":C.value,onDetail:m},null,8,["top","item-data"])):P("",!0)],64))),128))])]))}});const Ds=z(ws,[["__scopeId","data-v-ec5d83e9"]]),Os={class:"tw-h-full"},$s={class:"har-import"},Fs={class:"tw-flex tw-justify-center tw-my-6 tw-w-full"},Cs={class:"tw-w-full tw-mx-10"},xs={name:"HarImport"},Ss=S({...xs,setup(e){const s=A("storeItemData"),t=[{value:"1",label:o("har.import.step1.name"),description:""},{value:"2",label:o("har.import.step2.name"),description:""}];return(c,i)=>(p(),v("div",Os,[a("h3",null,n(l(o)("har.import.label")),1),a("div",$s,[a("div",Fs,[a("div",Cs,[h(mt,{step:l(s).step,steps:t},null,8,["step"])])]),l(s).step===0?(p(),M(It,{key:0,onStep2:i[0]||(i[0]=()=>l(s).step=1)})):P("",!0),l(s).step===1?(p(),M(Ds,{key:1,onStep1:i[1]||(i[1]=()=>l(s).step=0)})):P("",!0)])]))}});const Hs=z(Ss,[["__scopeId","data-v-84e88375"]]),Ts={class:"har-detail-item"},qs={class:"har-detail-item_block"},As={class:"har-detail-item_kv"},Is={class:"har-detail-item_block"},Us={class:"har-detail-item_li"},Ps={class:"har-detail-item_block"},Ws={key:0,class:"har-detail-item_li"},Ms={key:1,class:"har-detail-item_empty"},Rs={class:"har-detail-item_block"},js={class:"har-detail-item_kv"},Ns={name:"HarDetailRequest"},Ls=S({...Ns,setup(e){const s=A("harDetailData"),t=L(()=>{const{request:c,startedDateTime:i,serverIPAddress:d}=s.value;return{startedDateTime:i,serverIPAddress:d,request:c}});return(c,i)=>(p(),v("div",Ts,[a("div",null,n(l(o)("har.detail.request.title"))+" "+n(t.value.startedDateTime),1),a("div",qs,[a("h4",null,n(l(o)("har.detail.request.normal"))+"\uFF1A",1),a("div",As,[a("div",null,[a("span",null,n(l(o)("har.detail.request.url"))+"\uFF1A",1),$(" "+n(t.value.request.url),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.version"))+": ",1),$(" "+n(t.value.request.httpVersion),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.method"))+": ",1),$(" "+n(t.value.request.method),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.remote"))+"\uFF1A",1),$(" "+n(t.value.serverIPAddress),1)])])]),a("div",Is,[a("h4",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),a("div",Us,[a("ul",null,[(p(!0),v(Z,null,ae(t.value.request.headers,d=>(p(),v("li",null,[a("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])]),a("div",Ps,[a("h4",null,n(l(o)("har.detail.request.queryParam"))+"\uFF1A",1),t.value.request.queryString&&t.value.request.queryString.length>0?(p(),v("div",Ws,[a("ul",null,[(p(!0),v(Z,null,ae(t.value.request.queryString,d=>(p(),v("li",null,[a("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])):(p(),v("div",Ms,n(l(o)("har.detail.request.noQueryString")),1))]),a("div",Rs,[a("h4",null,n(l(o)("har.detail.request.size"))+"\uFF1A",1),a("div",js,[a("div",null,[a("span",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),$(" "+n(t.value.request.headersSize),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.content"))+"\uFF1A",1),$(" "+n(t.value.request.bodySize),1)])])])]))}}),Bs={class:"har-detail-item"},Vs={class:"har-detail-item_block"},zs={class:"har-detail-item_kv"},Js={class:"har-detail-item_block"},Xs={class:"har-detail-item_li"},Ks={class:"har-detail-item_block"},Gs={class:"har-detail-item_kv"},Qs={name:"HarDetailResponse"},Ys=S({...Qs,setup(e){const s=A("harDetailData"),t=L(()=>{const{response:c,startedDateTime:i,serverIPAddress:d}=s.value;return{response:c}});return(c,i)=>(p(),v("div",Bs,[a("div",null,n(l(o)("har.detail.response.title")),1),a("div",Vs,[a("h4",null,n(l(o)("har.detail.response.full"))+"\uFF1A",1),a("div",zs,[a("div",null,[a("span",null,n(t.value.response.status),1),$(" "+n(t.value.response.statusText)+" "+n(t.value.response.httpVersion),1)])])]),a("div",Js,[a("h4",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),a("div",Xs,[a("ul",null,[(p(!0),v(Z,null,ae(t.value.response.headers,d=>(p(),v("li",null,[a("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])]),a("div",Ks,[a("h4",null,n(l(o)("har.detail.response.size"))+"\uFF1A",1),a("div",Gs,[a("div",null,[a("span",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),$(" "+n(t.value.response.headersSize),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.response.content"))+"\uFF1A",1),$(" "+n(t.value.response.bodySize),1)])])])]))}}),Zs={class:"har-detail-item_li"},Es={key:0},el={key:1},tl={key:2},al={key:3},sl={key:4},ll={key:5},nl={key:6},ol={name:"HarDetailCookieItem"},Ae=S({...ol,props:{cookie:{}},setup(e){return(s,t)=>(p(),v("div",null,[a("h5",null,n(s.cookie.name),1),a("div",Zs,[a("ul",null,[s.cookie.value?(p(),v("li",Es,[a("span",null,n(l(o)("har.detail.cookie.value")),1),$(" "+n(s.cookie.value),1)])):P("",!0),s.cookie.path?(p(),v("li",el,[a("span",null,n(l(o)("har.detail.cookie.path")),1),$(" "+n(s.cookie.path),1)])):P("",!0),s.cookie.domain?(p(),v("li",tl,[a("span",null,n(l(o)("har.detail.cookie.domain")),1),$(" "+n(s.cookie.domain),1)])):P("",!0),s.cookie.expires?(p(),v("li",al,[a("span",null,n(l(o)("har.detail.cookie.expires")),1),$(" "+n(s.cookie.expires),1)])):P("",!0),s.cookie.expires?(p(),v("li",sl,[a("span",null,n(l(o)("har.detail.cookie.httpOnly")),1),$(" "+n(s.cookie.httpOnly),1)])):P("",!0),s.cookie.expires?(p(),v("li",ll,[a("span",null,n(l(o)("har.detail.cookie.secure")),1),$(" "+n(s.cookie.secure),1)])):P("",!0),s.cookie.expires?(p(),v("li",nl,[a("span",null,n(l(o)("har.detail.cookie.sameSite")),1),$(" "+n(s.cookie.sameSite),1)])):P("",!0)])])]))}}),il={class:"har-detail-item"},rl={class:"har-detail-item_block"},ul={key:1,class:"har-detail-item_empty"},dl={class:"har-detail-item_block"},cl={key:1,class:"har-detail-item_empty"},pl={name:"HarDetailCookie"},_l=S({...pl,setup(e){const s=A("harDetailData"),t=L(()=>{const{request:c,response:i}=s.value;return{response:i,request:c}});return(c,i)=>(p(),v("div",il,[a("div",null,n(l(o)("har.detail.cookie.title")),1),a("div",rl,[a("h4",null,n(l(o)("har.detail.cookie.request"))+"\uFF1A",1),t.value.request.cookies&&t.value.request.cookies.length>0?(p(!0),v(Z,{key:0},ae(t.value.request.cookies,d=>(p(),v("div",null,[h(Ae,{cookie:d},null,8,["cookie"])]))),256)):(p(),v("div",ul,n(l(o)("har.detail.cookie.noCookie")),1))]),a("div",dl,[a("h4",null,n(l(o)("har.detail.cookie.response"))+"\uFF1A",1),t.value.response.cookies&&t.value.response.cookies.length>0?(p(!0),v(Z,{key:0},ae(t.value.response.cookies,d=>(p(),v("div",null,[h(Ae,{cookie:d},null,8,["cookie"])]))),256)):(p(),v("div",cl,n(l(o)("har.detail.cookie.noCookie")),1))])]))}}),hl={class:"har-detail-item"},vl={class:"har-detail-item_block"},ml={class:"har-detail-item_kv"},fl={name:"HarDetailTime"},yl=S({...fl,setup(e){const s=A("harDetailData"),t=L(()=>{const{timings:c}=s.value;return{timings:c}});return(c,i)=>(p(),v("div",hl,[a("div",null,n(l(o)("har.detail.timings.title")),1),a("div",vl,[a("div",ml,[a("div",null,[a("span",null,n(l(o)("har.detail.timings.blocked"))+"\uFF1A",1),$(" "+n(t.value.timings.blocked),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.dns"))+": ",1),$(" "+n(t.value.timings.dns),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.connect"))+": ",1),$(" "+n(t.value.timings.connect),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.send"))+"\uFF1A",1),$(" "+n(t.value.timings.send),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.wait"))+"\uFF1A",1),$(" "+n(t.value.timings.wait),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.receive"))+"\uFF1A",1),$(" "+n(t.value.timings.receive),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.ssl"))+"\uFF1A",1),$(" "+n(t.value.timings.ssl),1)])])])]))}}),bl={class:"har-detail-item"},gl={class:"har-detail-item_block"},kl={class:"har-detail-item_content"},wl={class:"har-detail-item_block"},Dl={class:"har-detail-item_content"},Ol={class:"har-detail-item_block"},$l={class:"har-detail-item_content"},Fl={class:"har-detail-item_block"},Cl={class:"har-detail-item-title_copy"},xl={key:0,class:"har-detail-item_content"},Sl={key:1,class:"har-detail-item_empty"},Hl={name:"HarDetailContent"},Tl=S({...Hl,setup(e){const s=A("harDetailData"),t=L(()=>{const{response:{content:i}}=s.value;return{content:i}});function c(){t.value.content.text&&re(t.value.content.text)}return(i,d)=>(p(),v("div",bl,[a("div",null,n(l(o)("har.detail.content.title")),1),a("div",gl,[a("h4",null,n(l(o)("har.detail.content.size"))+"\uFF1A",1),a("div",kl,n(t.value.content.size),1)]),a("div",wl,[a("h4",null,n(l(o)("har.detail.content.zip"))+"\uFF1A",1),a("div",Dl,n(t.value.content.compression),1)]),a("div",Ol,[a("h4",null,n(l(o)("har.detail.content.mime"))+"\uFF1A",1),a("div",$l,n(t.value.content.mimeType),1)]),a("div",Fl,[a("div",Cl,[a("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),t.value.content.text?(p(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:c},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).CopyOutlined},null,8,["type"])]),default:b(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t.value.content.text?(p(),v("div",xl,n(t.value.content.text),1)):(p(),v("div",Sl,n(l(o)("har.detail.content.noContent")),1))])]))}}),ql={class:"har-detail-item"},Al={class:"har-detail-item_block"},Il={class:"har-detail-item_content"},Ul={key:0,class:"har-detail-item_block"},Pl={class:"har-detail-item_li"},Wl={class:"har-detail-item_block"},Ml={class:"har-detail-item-title_copy"},Rl={key:0,class:"har-detail-item_content"},jl={key:1,class:"har-detail-item_empty"},Nl={name:"HarDetailPost"},Ll=S({...Nl,setup(e){const s=A("harDetailData"),t=L(()=>{const{request:i}=s.value;let d={mimeType:"",text:""};return i.postData&&(d=i.postData),{postData:d}});function c(){t.value.postData.text&&re(t.value.postData.text)}return(i,d)=>(p(),v("div",ql,[a("div",null,n(l(o)("har.detail.post.title")),1),a("div",Al,[a("h4",null,n(l(o)("har.detail.post.mime"))+"\uFF1A",1),a("div",Il,n(t.value.postData.mimeType),1)]),t.value.postData.params?(p(),v("div",Ul,[a("h4",null,n(l(o)("har.detail.post.params"))+"\uFF1A",1),a("div",Pl,[a("ul",null,[(p(!0),v(Z,null,ae(t.value.postData.params,_=>(p(),v("li",null,[a("span",null,n(_.name),1),$(" "+n(_.value),1)]))),256))])])])):P("",!0),a("div",Wl,[a("div",Ml,[a("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),t.value.postData.text?(p(),v("span",{key:0,class:"tw-ml-1 tw-cursor-pointer",onClick:c},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).CopyOutlined},null,8,["type"])]),default:b(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t.value.postData.text?(p(),v("div",Rl,n(t.value.postData.text),1)):(p(),v("div",jl,n(l(o)("har.detail.post.noText")),1))])]))}}),Bl={class:"har-detail-origin"},Vl={class:"har-detail-origin_title"},zl={class:"har-detail-origin_content"},Jl={name:"HarDetailOrigin"},Xl=S({...Jl,props:{origin:{}},setup(e){const s=e,t=Y(JSON.stringify(s.origin,null,4)),c=Y(!1);function i(){re(t.value,!0)}return(d,_)=>(p(),v("div",Bl,[a("div",Vl,[a("div",null,[a("span",null,n(l(o)("har.detail.source.label")),1),d.origin?(p(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:i},[h(V,null,{anchor:b(()=>[h(N,{type:l(ne).CopyOutlined},null,8,["type"])]),default:b(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a("span",null,[h(Me,{checked:c.value,"onUpdate:checked":_[0]||(_[0]=r=>c.value=r),name:l(o)("format.header.useEditor")},null,8,["checked","name"])])]),a("div",zl,[c.value?(p(),M(Re,{key:0,mode:"application/json",value:t.value,"onUpdate:value":_[1]||(_[1]=r=>t.value=r),theme:l(Ie)[l(j).theme.current]},null,8,["value","theme"])):(p(),v(Z,{key:1},[$(n(t.value),1)],64))])]))}});const Kl=z(Xl,[["__scopeId","data-v-691bf8d6"]]),Gl={class:"tw-h-full"},Ql={class:"tw-flex tw-justify-between tw-items-center"},Yl={class:"tw-h-full"},Zl={key:1,class:"tw-flex tw-items-center tw-justify-center tw-h-full tw-w-full"},El={name:"HarDetail"},en=S({...El,setup(e){const s=A("storeItemData"),t=Y({});function c(){W(s.list.requests,_=>{var f;const{identity:r,http:u}=_;if(((f=s.list)==null?void 0:f.detailIdentity)===r)return t.value=u,!1})}q("harDetailData",t),fe(()=>{var _;return(_=s.list)==null?void 0:_.detailIdentity},()=>c(),{immediate:!0});const i=L(()=>{var r;const _=[{label:o("har.detail.request.label"),value:"Request"},{label:o("har.detail.response.label"),value:"Response"},{label:o("har.detail.content.label"),value:"Content"},{label:o("har.detail.cookie.label"),value:"Cookie"},{label:o("har.detail.timings.label"),value:"Timeline"},{label:o("har.detail.source.label"),value:"Source"}];return(r=t.value.request)!=null&&r.postData&&_.splice(1,0,{label:o("har.detail.post.label"),value:"Post"}),_}),d=Y("Request");return(_,r)=>(p(),v("div",Gl,[a("div",Ql,[a("h3",null,n(l(o)("har.analysis.label")),1),l(s).list.detailIdentity&&!l(Q)(t.value)?(p(),M(Ve,{key:0,identity:l(s).list.detailIdentity,type:l(ge).Icon},null,8,["identity","type"])):P("",!0)]),a("div",Yl,[l(s).list.detailIdentity&&!l(Q)(t.value)?(p(),M(We,{key:0,tabs:i.value,active:d.value,"onUpdate:active":r[0]||(r[0]=u=>d.value=u)},{Source:b(()=>[h(Kl,{origin:t.value},null,8,["origin"])]),Post:b(()=>[h(Ll)]),Request:b(()=>[h(Ls)]),Response:b(()=>[h(Ys)]),Content:b(()=>[h(Tl)]),Cookie:b(()=>[h(_l)]),Timeline:b(()=>[h(yl)]),_:1},8,["tabs","active"])):(p(),v("div",Zl,[h(Ot,{msg:l(o)("har.analysis.notice.chooseRequest")},null,8,["msg"])]))])]))}});const tn=z(en,[["__scopeId","data-v-8bd0c376"]]),an={class:"har-editor"},sn={class:"tw-border-r tw-border-neutral-3"},ln={name:"HarEditor"},nn=S({...ln,setup(e){const s=A("contentIdentity"),t=A("contentName");return $t(ce,s,["content"],t),q("storeItemData",ce.item[s.value].content),(c,i)=>(p(),v("div",an,[a("div",sn,[h(Hs)]),a("div",null,[(p(),M(tn,{key:l(s)}))])]))}});const on=z(nn,[["__scopeId","data-v-8c019044"]]),rn={class:"warp_bigger har_area"},un={key:0,class:"show_area"},dn={class:"tw-flex tw-justify-end tw-items-center"},cn={key:0},pn={class:"tw-ml-2"},_n={name:"ModuleHar"},hn=S({..._n,setup(e){const s=A("storeIDB");L(()=>{switch(j.os){case ve.Mac:return o("coding.notice.quick.mac");case ve.Linux:case ve.Unix:case ve.Win:default:return o("coding.notice.quick.win")}});const{curIsSaved:t,curContentIdentity:c,curContentName:i,curContentFolderIdentity:d,curFolders:_,curHistoryFolders:r,addFolder:u,renameFolder:f,deleteFolder:m,sortFolder:y,createContent:F,saveContent:O,showContent:C,renameContent:k,copyContent:x,deleteContent:D,autoSaveContent:B,importContent:I,getContent:T,saveFolder:H,saveContentItem:w}=yt(s,Ft,ce,Ct());q("contentIsSaved",t),q("contentFolderIdentity",d),q("contentIdentity",c),q("contentName",i),q("historyFolders",r),q("folders",_),q("addFolder",u),q("renameFolder",f),q("deleteFolder",m),q("showContent",C),q("copyContent",x),q("renameContent",k),q("deleteContent",D),q("sortFolder",y),q("saveContent",O),q("autoSaveContent",B),q("getContent",T),q("saveFolder",H),q("saveContentItem",w);function R(){F()}function J(oe){j.loading=!0;const{name:E,content:se,isSave:Xe,folderIdentity:Ke}=oe;I(E,se,Xe,Ke,me).then(()=>{j.loading=!1}).catch(()=>{j.loading=!1})}return(oe,E)=>(p(),v("div",rn,[h(vt,{collapse:l(j).historyDrawer.collapse,"onUpdate:collapse":E[2]||(E[2]=se=>l(j).historyDrawer.collapse=se),history:l(j).historyDrawer,suffix:l(me)},{default:b(()=>[l(c)?(p(),v("div",un,[h(ot,{title:l(o)(`module.${l(j).module}`),contentName:l(i),"onUpdate:contentName":E[1]||(E[1]=se=>lt(i)?i.value=se:null),"is-has-name":!0},{titleRight:b(()=>[a("div",dn,[l(c)?(p(),v("span",cn,[h(ct,{"store-item-data":l(ce).item[l(c)]},null,8,["store-item-data"])])):P("",!0),a("span",pn,[h(pt,{"support-types":["text/plain"],accept:[l(me)],"store-item-data":l(ce).item[l(c)],suffix:l(me),onSelect:R,onContent:J},null,8,["accept","store-item-data","suffix"])]),h(_t,_e({class:"tw-ml-2"},oe.$attrs),null,16),l(j).historyDrawer.collapse?(p(),M(ht,{key:1,class:"tw-ml-2",visible:l(j).historyDrawer.visible,"onUpdate:visible":E[0]||(E[0]=se=>l(j).historyDrawer.visible=se)},null,8,["visible"])):P("",!0)])]),default:b(()=>[(p(),M(on,{key:l(c)}))]),_:1},8,["title","contentName"])])):P("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const vn=z(hn,[["__scopeId","data-v-c50fde71"]]),ao=S({__name:"Har",setup(e){return(s,t)=>(p(),M(vn))}});export{ao as default};
