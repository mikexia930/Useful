import{y as xe,d as S,a8 as q,o as d,c as v,k as _,G as y,F as t,ag as l,ai as pe,s as j,cO as Ue,H as R,m as L,ah as n,I as P,an as se,cR as Ce,cQ as Ke,E as Pe,af as te,aa as Y,au as Ye,av as Ze,z as Q,a4 as Ee,as as et,a3 as tt,W as fe,B as at,Q as st,S as lt,J as $,ab as T,cU as he,aw as nt}from"./index.286357e0.js";import{U as ot}from"./UIWithTitle.8dc65e39.js";import{g as We,a as it,D as rt,t as ut,X as ct,h as dt,u as pt,b as _t,c as ht,d as vt,e as mt,U as ft}from"./UICreateImport.vue_vue_type_script_setup_true_lang.2128243a.js";import{g as o}from"./lib.5173e56c.js";import{_ as yt}from"./DSteps.vue_vue_type_script_setup_true_lang.8536a54c.js";import{_ as Me}from"./DCodeMirror.vue_vue_type_script_setup_true_lang.6e2a297c.js";import{_ as Re}from"./DButton.vue_vue_type_script_setup_true_lang.793ae897.js";import{i as bt,b as Ne}from"./config.f197c6bf.js";import{s as X,E as G,_ as M,a as ee}from"./Interface.d7af1223.js";import{g as oe}from"./randomLib.04c6c9cc.js";import{d as ve,e as le}from"./routeLib.4927cad7.js";import{f as W}from"./forEach.78ceb588.js";import{I as kt,_ as je,a as Be,D as B}from"./DInput.vue_vue_type_script_setup_true_lang.5ea82556.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import{d as ie}from"./copyLib.d7a7b067.js";import{E as re,f as Se,e as ne,g as He,d as ge,b as De,a as Oe,n as wt}from"./posterLib.e0b2ee58.js";import{a as gt,t as Dt,_ as Le}from"./DSpin.f68cef5b.js";import{i as K}from"./isEmpty.bacb74f3.js";import{C as Ot}from"./index.51eef3bf.js";import{f as $t}from"./findIndex.8a999be9.js";import{u as Ft}from"./ModuleAutoSaveLib.f0f70820.js";import"./dayjs.min.6c47bd3a.js";import"./index.55a51bb0.js";import"./pick.e9f1a41d.js";import"./_baseIsEqual.ecb1efce.js";import"./identity.bfdea954.js";import"./hasIn.0707db01.js";import"./memoize.64cb1933.js";import"./dateLib.63528a18.js";import"./advancedFormat.16ff0fee.js";import"./responsiveObserve.f35c13b9.js";import"./codemirror.d36b399c.js";import"./stringify.15412eb9.js";import"./styleChecker.9da7f8d9.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./___vite-browser-external_commonjs-proxy.b9c2fd7c.js";const ce=xe({folders:[],item:{}});var de=(e=>(e.Upload="upload",e.Content="content",e))(de||{}),ke=(e=>(e.Dropdown="dropdown",e.Icon="icon",e))(ke||{}),U=(e=>(e.One="1xx",e.Two="2xx",e.Three="3xx",e.Four="4xx",e.Five="5xx",e.Other="0",e))(U||{}),k=(e=>(e.FetchXhr="Fetch/xhr",e.WebSocket="Websocket",e.Image="Image",e.Media="Media",e.Font="Font",e.Doc="Doc",e.Js="Js",e.Css="Css",e.Wasm="Wasm",e.Manifest="Manifest",e.Other="Other",e))(k||{});const me=".hara",xt={[ve.Config]:"har_config",[ve.Folder]:"har_folder",[ve.Content]:"har_content",[ve.Env]:"har_env"};function Ct(){return{content:{step:0,source:{type:de.Upload,content:""},list:{search:{url:"",type:[],status:[],requests:0},selected:[],requests:[],detailIdentity:""}},isSaved:0}}function ye(e){return{log:{version:"1.2",creator:{name:"Poster",version:"2.0.0"},entries:[...e]}}}function St(e){let s=k.Other;const{response:a,request:p}=e,i=a.content.mimeType;return i.indexOf("application/javascript")>-1?s=k.Js:i.indexOf("text/css")>-1?s=k.Css:i.indexOf("image/")>-1?s=k.Image:i.indexOf("application/manifest")>-1?s=k.Manifest:i.indexOf("application/json")>-1?s=k.FetchXhr:i.indexOf("font/")>-1?s=k.Font:i.indexOf("html")>-1||i.indexOf("pdf")>-1?s=k.Doc:i.indexOf("audio/")>-1||i.indexOf("video/")>-1?s=k.Media:Ht(p.headers)&&(s=k.WebSocket),s}function Ht(e){let s=!1;return W(e,a=>{if(a.name==="Upgrade"&&a.value==="websocket")return s=!0,!1}),s}function Tt(e){let s=U.Other;const{response:a}=e;return a.status>=100&&a.status<200?s=U.One:a.status>=200&&a.status<300?s=U.Two:a.status>=300&&a.status<400?s=U.Three:a.status>=400&&a.status<500?s=U.Four:a.status>=500&&a.status<600&&(s=U.Five),s}const qt={class:"editor-step1"},It={name:"HarImportStep1"},At=S({...It,emits:["step2"],setup(e,{emit:s}){const a=q("storeItemData"),p=[{value:de.Upload,label:o("har.import.step1.upload.label")},{value:de.Content,label:o("har.import.step1.content.label")}];let i;function c(r){var u,f;i=((f=(u=r==null?void 0:r.target)==null?void 0:u.files)==null?void 0:f[0])||"",i&&bt(i).then(m=>{m&&(a.source.content=m,a.source.type=de.Content)}).catch(m=>{console.log("har-import",m),X(G.Error,o("notice.importErr"))})}function h(){var r;try{if(a.source.content){const u=JSON.parse(a.source.content);if(u&&((r=u.log)==null?void 0:r.entries)&&Array.isArray(u.log.entries)&&u.log.entries.length>0){const{log:f}=u,m=[];W(f.entries,b=>{m.push({identity:oe(),type:St(b),status:Tt(b),urlHighLight:"",http:b})}),a.list.requests=m,s("step2")}else throw new Error("content error")}else throw new Error("no content")}catch(u){console.log("err",u),X(G.Warning,o("har.import.step1.notice.contentErr"))}}return(r,u)=>{const f=kt;return d(),v("div",qt,[_(We,{centered:!0,tabs:p,active:l(a).source.type,"onUpdate:active":u[1]||(u[1]=m=>l(a).source.type=m)},{rightExtra:y(()=>[t("div",null,[_(Re,{onClick:h,type:"primary",name:l(o)("har.import.step1.confirm")},null,8,["name"])])]),upload:y(()=>[_(f,pe({class:`${l(j).theme.current}InputBg`},r.$attrs,{type:"file",accept:[".har"],onChange:c}),null,16,["class","accept"])]),content:y(()=>[_(Me,{mode:"application/json",placeholder:l(o)("har.import.step1.content.placeholder"),value:l(a).source.content,"onUpdate:value":u[0]||(u[0]=m=>l(a).source.content=m),theme:l(Ue)[l(j).theme.current]},null,8,["placeholder","value","theme"])]),_:1},8,["active"])])}}});const Ut=z(At,[["__scopeId","data-v-c8ecf741"]]),Pt={name:"HarFilterUrl"},Wt=S({...Pt,setup(e){const s=q("storeItemData");return(a,p)=>(d(),R(je,{style:{width:"150px"},value:l(s).list.search.url,"onUpdate:value":p[0]||(p[0]=i=>l(s).list.search.url=i),placeholder:l(o)("har.filter.url.placeholder"),"is-search":!0,"allow-clear":!0},null,8,["value","placeholder"]))}}),Mt={name:"HarFilterType"},Rt=S({...Mt,setup(e){const s=q("storeItemData"),a=[{label:k.FetchXhr,value:k.FetchXhr},{label:k.Js,value:k.Js},{label:k.Css,value:k.Css},{label:k.Image,value:k.Image},{label:k.Doc,value:k.Doc},{label:k.Media,value:k.Media},{label:k.Manifest,value:k.Manifest},{label:k.WebSocket,value:k.WebSocket},{label:k.Wasm,value:k.Wasm},{label:k.Other,value:k.Other}];return(p,i)=>(d(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.type,"onUpdate:value":i[0]||(i[0]=c=>l(s).list.search.type=c),placeholder:l(o)("har.filter.type.placeholder"),mode:"multiple",options:a,allowClear:!0},null,8,["value","placeholder"]))}}),Nt={name:"HarFilterType"},jt=S({...Nt,setup(e){const s=q("storeItemData"),a=[{label:U.Other,value:U.Other},{label:U.One,value:U.One},{label:U.Two,value:U.Two},{label:U.Three,value:U.Three},{label:U.Four,value:U.Four},{label:U.Five,value:U.Five}];return(p,i)=>(d(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.status,"onUpdate:value":i[0]||(i[0]=c=>l(s).list.search.status=c),placeholder:l(o)("har.filter.status.placeholder"),mode:"multiple",options:a,allowClear:!0},null,8,["value","placeholder"]))}}),Bt={class:"har-filter"},Lt={name:"HarFilter"},Vt=S({...Lt,setup(e){return(s,a)=>(d(),v("div",Bt,[t("span",null,[_(Rt)]),t("span",null,[_(jt)]),t("span",null,[_(Wt)])]))}});const zt=z(Vt,[["__scopeId","data-v-c5f8309d"]]);var E=(e=>(e.LeftOutlined="LeftOutlined",e.RightOutlined="RightOutlined",e.DoubleRightOutlined="DoubleRightOutlined",e.DoubleLeftOutlined="DoubleLeftOutlined",e.SwapRightOutlined="SwapRightOutlined",e.CalendarOutlined="CalendarOutlined",e.UnlockOutlined="UnlockOutlined",e.LockOutlined="LockOutlined",e.ClockCircleOutlined="ClockCircleOutlined",e.SearchOutlined="SearchOutlined",e.FilterOutlined="FilterOutlined",e.InboxOutlined="InboxOutlined",e.CaretUpOutlined="CaretUpOutlined",e.CaretDownOutlined="CaretDownOutlined",e.MoreOutlined="MoreOutlined",e.FunnelPlotOutlined="FunnelPlotOutlined",e.VerticalRightOutlined="VerticalRightOutlined",e.VerticalLeftOutlined="VerticalLeftOutlined",e.PushpinOutlined="PushpinOutlined",e.VerticalAlignTopOutlined="VerticalAlignTopOutlined",e.VerticalAlignBottomOutlined="VerticalAlignBottomOutlined",e.SwapOutlined="SwapOutlined",e.RetweetOutlined="RetweetOutlined",e.DisconnectOutlined="DisconnectOutlined",e.GlobalOutlined="GlobalOutlined",e.HeartOutlined="HeartOutlined",e.CheckOutlined="CheckOutlined",e.DeleteOutlined="DeleteOutlined",e.PlusOutlined="PlusOutlined",e.LinkOutlined="LinkOutlined",e.EditOutlined="EditOutlined",e.CloseOutlined="CloseOutlined",e.CloseCircleOutlined="CloseCircleOutlined",e.ExclamationCircleOutlined="ExclamationCircleOutlined",e.DownloadOutlined="DownloadOutlined",e.UploadOutlined="UploadOutlined",e.CopyOutlined="CopyOutlined",e.FrownOutlined="FrownOutlined",e.HolderOutlined="HolderOutlined",e.DownOutlined="DownOutlined",e.FolderOutlined="FolderOutlined",e.FolderOpenOutlined="FolderOpenOutlined",e.FolderAddOutlined="FolderAddOutlined",e.SettingOutlined="SettingOutlined",e.GithubOutlined="GithubOutlined",e.LoadingOutlined="LoadingOutlined",e.DesktopOutlined="DesktopOutlined",e.UpOutlined="UpOutlined",e.FullscreenOutlined="FullscreenOutlined",e.FullscreenExitOutlined="FullscreenExitOutlined",e.SmileOutlined="SmileOutlined",e.FilePdfOutlined="FilePdfOutlined",e.ExportOutlined="ExportOutlined",e.ClearOutlined="ClearOutlined",e.ApiOutlined="ApiOutlined",e.ShareAltOutlined="ShareAltOutlined",e))(E||{});const Jt={class:"har-work-popover"},Xt={name:"HarWorkDropdown"},Gt=S({...Xt,props:{isHasDownload:{type:Boolean}},emits:["detail","copyUrl","copyHar","newTab","exportHar","download","delete","saveToPoster"],setup(e,{emit:s}){const a=e,p=L(()=>{const c=[{label:o("har.work.detailRequest"),value:"detail"},{label:o("har.work.exportToUseful"),value:"saveToPoster"},{label:o("har.work.copyUrl"),value:"copyUrl"},{label:o("har.work.openInNewWindow"),value:"newTab"},{label:o("har.work.copyHar"),value:"copyHar"},{label:o("har.work.exportHar"),value:"exportHar"},{label:o("har.work.delete"),value:"delete"}];return a.isHasDownload&&c.push({label:o("har.work.downloadFile"),value:"download"}),c});function i(c){switch(c){case"detail":s("detail");break;case"copyUrl":s("copyUrl");break;case"copyHar":s("copyHar");break;case"newTab":s("newTab");break;case"exportHar":s("exportHar");break;case"download":s("download");break;case"delete":s("delete");break;case"saveToPoster":s("saveToPoster");break}}return(c,h)=>(d(),v("div",Jt,[_(it,{data:p.value,onSelected:i},{anchor:y(()=>[_(M,{type:l(E).SettingOutlined},null,8,["type"])]),_:1},8,["data"])]))}}),Qt={class:"har-work-icon"},Kt={class:"tw-text-sm"},Yt={class:"tw-text-sm"},Zt={class:"tw-text-sm"},Et={class:"tw-text-sm"},ea={class:"tw-text-sm"},ta={class:"tw-text-sm"},aa={name:"HarWorkIcon"},sa=S({...aa,props:{isHasDownload:{type:Boolean}},emits:["copyUrl","copyHar","newTab","exportHar","download","saveToPoster"],setup(e,{emit:s}){function a(){s("copyUrl")}function p(){s("copyHar")}function i(){s("newTab")}function c(){s("exportHar")}function h(){s("download")}function r(){s("saveToPoster")}return(u,f)=>(d(),v("div",Qt,[t("span",{onClick:r},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).ApiOutlined},null,8,["type"])]),default:y(()=>[t("span",Kt,n(l(o)("har.work.exportToUseful")),1)]),_:1})]),t("span",{onClick:a},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).LinkOutlined},null,8,["type"])]),default:y(()=>[t("span",Yt,n(l(o)("har.work.copyUrl")),1)]),_:1})]),t("span",{onClick:i},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).DesktopOutlined},null,8,["type"])]),default:y(()=>[t("span",Zt,n(l(o)("har.work.openInNewWindow")),1)]),_:1})]),t("span",{onClick:p},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",Et,n(l(o)("har.work.copyHar")),1)]),_:1})]),t("span",{onClick:c},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).ExportOutlined},null,8,["type"])]),default:y(()=>[t("span",ea,n(l(o)("har.work.exportHar")),1)]),_:1})]),u.isHasDownload?(d(),v("span",{key:0,onClick:h},[_(B,null,{anchor:y(()=>[_(M,{type:l(E).DownloadOutlined},null,8,["type"])]),default:y(()=>[t("span",ta,n(l(o)("har.work.downloadFile")),1)]),_:1})])):P("",!0)]))}});const la=z(sa,[["__scopeId","data-v-cbb840c6"]]);function na(e){var C,D,V;const{request:s,response:a,startedDateTime:p,time:i}=e,{method:c}=s;let h=re.GET;W(re,I=>{if(se(I)===se(c))return h=I,!1});let r=Se.QUERY,u=ne.FormData;const f=[];let m={type:He.Plain,value:""};if([re.POST,re.PUT,re.PATCH].includes(h))if(r=Se.POST,s.bodySize===0)u=ne.None;else{let A=(C=s.postData)==null?void 0:C.mimeType;A&&(A=se(A),A.indexOf(se(ne.XWWWFormUrlEncode))>-1?u=ne.XWWWFormUrlEncode:A.indexOf(se(ne.FormData))>-1?(u=ne.FormData,(D=s.postData)!=null&&D.params&&W((V=s.postData)==null?void 0:V.params,H=>{f.push({identity:oe(),isUse:!0,name:H.name,type:ge.Text,value:H.value,isEssential:!1,fieldType:De.String,desc:""})})):W(He,H=>{var g;if(A&&A.indexOf(se(H))>-1)return u=ne.Raw,m.type=H,m.value=((g=s.postData)==null?void 0:g.text)||"",!1}))}const b={type:Oe.No,basic:{username:"",password:""},bearer:{token:""}},F=[];W(s.headers,I=>{const{name:A,value:H}=I;if(A==="Authorization"){const g=H.split(" ");let N=[];if(g.length===2){const J=se(g[0]);switch(J){case Oe.Bearer:b.type=J,b.bearer.token=g[1];break;case Oe.Basic:N=g[1].split(":"),b.type=J,b.basic.username=N[0],b.basic.password=N[1]||"";break}}}else F.push({identity:oe(),isUse:!0,name:A,type:ge.Text,value:H,isEssential:!1,fieldType:De.String,desc:""})});const O=[];s.queryString&&W(s.queryString,I=>{const{name:A,value:H}=I;O.push({identity:oe(),isUse:!0,name:A,type:ge.Text,value:H,isEssential:!1,fieldType:De.String,desc:""})});const x={datetime:p,time:i,tab:"response",resultTab:"origin",status:{value:a.status>=200&&a.status<=300?"success":"errResponse",message:a._error||"",code:a.status},headers:{request:[],response:[]},data:a.content.text};return W(s.headers,I=>{x.headers.request.push({key:I.name,value:I.value})}),W(a.headers,I=>{x.headers.response.push({key:I.name,value:I.value})}),{isRequesting:!1,remark:"",request:{identity:oe(),envIdentity:"no",isCollapse:!1,method:h,url:s.url,paramTab:r,auth:b,header:F,query:O,post:{type:u,form:f,raw:m}},response:x}}async function oa(e,s){const a=wt;function p(u){const f={[le.Key]:a.folder,[le.Type]:a.folder,[le.Value]:Ce(u)};return e.saveStorage(f)}function i(u){return e.saveStoragePatch(u)}const c=[],h=[];W(s,u=>{const{name:f,identity:m,content:b,importIdentity:F}=u;h.push({identity:m,name:f});const O={content:b,importIdentity:F,isSaved:1};c.push({[le.Key]:m,[le.Type]:a.content,[le.Value]:Ce(O)})});let r=[];await e.getStorageData(a.folder,le.Type).then(u=>{(u==null?void 0:u.value)&&!K(u)&&(r=Ke(u.value));const f=ia();let m=-1;K(r)||W(r,(b,F)=>{const{identity:O}=b;if(O===Ve)return m=F,!1}),m>-1?r[m].children=[...r[m].children,...h]:(f.children=h,r.push(f))}).catch(u=>{console.log("posterImportApi-get-folder-error",u),X(G.Success,o("notice.getErr"))}),await p(r).catch(u=>{console.log("posterImportApi-save-folder-error",u),X(G.Success,o("notice.saveOk"))}),await i(c).then(()=>{X(G.Success,o("notice.saveOk"))}).catch(u=>{console.log("posterImportApi-save-content-error",u),X(G.Success,o("notice.saveErr"))})}const Ve="import",ia=()=>({identity:Ve,name:o("history.importFolder"),children:[]});async function ra(e,s,a){switch(s){case Pe.Poster:await oa(e,a);break}}const ua=e=>(Ye("data-v-fe500f0b"),e=e(),Ze(),e),ca={class:"im-block"},da={class:"im-item"},pa={class:"tw-mb-2"},_a=ua(()=>t("div",{class:"im-name"},"\u5BFC\u5165\u540D\u79F0",-1)),ha={name:"PortModule"},va=S({...ha,props:{title:{},visible:{type:Boolean},data:{},toModule:{}},emits:["update:visible"],setup(e,{emit:s}){const a=e,p=q("storeIDB"),i=L({set:h=>s("update:visible",h),get:()=>a.visible});function c(){const h=[];let r=!0;W(a.data,u=>{const{identity:f,name:m,content:b,importIdentity:F}=u;if(Dt(m))h.push({identity:f,name:m,content:b,importIdentity:F});else return r=!1,!1}),r?ra(p,a.toModule,h).then(()=>{i.value=!1}):X(G.Warning,o("notice.emptyName"))}return(h,r)=>(d(),R(gt,pe(h.$attrs,{title:h.title,visible:i.value,"onUpdate:visible":r[0]||(r[0]=u=>i.value=u),onOk:c}),{default:y(()=>[t("div",ca,[(d(!0),v(Y,null,te(h.data,u=>(d(),v("div",da,[t("div",pa,n(u.intro),1),t("div",null,[_a,_(je,{value:u.name,"onUpdate:value":f=>u.name=f},null,8,["value","onUpdate:value"])])]))),256))])]),_:1},16,["title","visible"]))}});const ma=z(va,[["__scopeId","data-v-fe500f0b"]]);function fa(e){return Ot.MD5(e)}const ya={name:"HarWork"},ze=S({...ya,props:{type:{default:ke.Dropdown},identity:{default:""}},setup(e){const s=e,a=q("storeItemData"),p={dropdown:Gt,icon:la},i=Q(-1),c=L(()=>{let w=null;return W(a.list.requests,(C,D)=>{if(C.identity===s.identity)return w=C,i.value=D,!1}),w}),h=L(()=>{let w=!1;return c.value&&(w=![k.WebSocket,k.FetchXhr].includes(c.value.type)),w});function r(){c.value&&ie(JSON.stringify(ye([c.value.http])),!0)}function u(){c.value&&ie(c.value.http.request.url)}function f(){c.value&&window.open(c.value.http.request.url)}function m(){c.value&&Ne(JSON.stringify(ye([c.value.http])),"poster.har")}function b(){const w=chrome;w&&c.value&&w.permissions.request({permissions:["downloads"]},C=>{var D;C?c.value&&((D=w==null?void 0:w.downloads)==null||D.download({url:c.value.http.request.url})):X(G.Warning,o("notice.noAuth"))})}function F(){var w,C;if(c.value&&i.value>-1){const D=(C=(w=a.list.requests)==null?void 0:w[i.value])==null?void 0:C.identity;D&&(D===a.list.detailIdentity&&(a.list.detailIdentity=""),a.list.requests.splice(i.value,1),X(G.Success,o("notice.delOk")))}}const O=xe({visible:!1,data:[]});function x(){var C,D;const w=(D=(C=a.list.requests)==null?void 0:C[i.value])==null?void 0:D.http;if(w){const V=na(w);O.visible=!0,O.data=[{identity:oe(),name:o("name.unnamed"),content:V,importIdentity:fa(V.request.url),intro:V.request.url}]}}return(w,C)=>(d(),v("span",null,[(d(),R(Ee(p[w.type]),pe(w.$attrs,{"is-has-download":h.value,onCopyHar:r,onCopyUrl:u,onNewTab:f,onExportHar:m,onDownload:b,onDelete:F,onSaveToPoster:x}),null,16,["is-has-download"])),_(ma,{title:l(o)("har.work.exportToUseful"),visible:O.visible,"onUpdate:visible":C[0]||(C[0]=D=>O.visible=D),data:O.data,"to-module":l(Pe).Poster},null,8,["title","visible","data","to-module"])]))}}),ba={class:"tw-mr-2"},ka={class:"har-status"},wa={class:"har-status__label"},ga=["title"],Da=["title"],Oa=["innerHTML"],$a={class:"har-work"},Fa={name:"HarItem"},xa=S({...Fa,props:{itemData:{},top:{}},emits:["detail","saveToUseful"],setup(e,{emit:s}){const a=e,p=q("storeItemData"),i=L({get:()=>p.list.selected.includes(a.itemData.identity),set:r=>{const u=a.itemData.identity;if(r){const f=new Set([...p.list.selected,u]);p.list.selected=Array.from(f)}else{const f=$t(p.list.selected,m=>m===u);f>-1&&p.list.selected.splice(f,1)}}});function c(){s("detail",a.itemData.identity)}function h(){s("saveToUseful",a.itemData.identity)}return(r,u)=>{var f,m,b,F,O,x,w,C;return d(),v("div",{class:"har-list-block",style:tt({top:`${r.top}px`})},[t("div",{class:et(["har-list-item",{"har-list-item__linked":l(p).list.detailIdentity===r.itemData.identity}])},[t("div",ba,[_(Le,{checked:i.value,"onUpdate:checked":u[0]||(u[0]=D=>i.value=D)},null,8,["checked"])]),t("div",{class:"har-list-left",onClick:c},[t("div",ka,[_(rt,{color:"green"}),t("span",wa,n(((m=(f=r.itemData.http)==null?void 0:f.response)==null?void 0:m.status)||"-"),1)]),t("div",{class:"har-type",title:((O=(F=(b=r.itemData.http)==null?void 0:b.response)==null?void 0:F.content)==null?void 0:O.mimeType)||"-"},n(((C=(w=(x=r.itemData.http)==null?void 0:x.response)==null?void 0:w.content)==null?void 0:C.mimeType)||"-"),9,ga),t("div",{class:"har-url",title:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},[t("span",{innerHTML:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},null,8,Oa)],8,Da)]),t("div",$a,[_(ze,pe(r.$attrs,{type:l(ke).Dropdown,identity:r.itemData.identity,onDetail:c,onSaveToPoster:h}),null,16,["type","identity"])])],2)],4)}}});const Ca=z(xa,[["__scopeId","data-v-7e0014e9"]]);var Sa=typeof global=="object"&&global&&global.Object===Object&&global;const Ha=Sa;var Ta=typeof self=="object"&&self&&self.Object===Object&&self,qa=Ha||Ta||Function("return this")();const Je=qa;var Ia=Je.Symbol;const be=Ia;var Xe=Object.prototype,Aa=Xe.hasOwnProperty,Ua=Xe.toString,ue=be?be.toStringTag:void 0;function Pa(e){var s=Aa.call(e,ue),a=e[ue];try{e[ue]=void 0;var p=!0}catch{}var i=Ua.call(e);return p&&(s?e[ue]=a:delete e[ue]),i}var Wa=Object.prototype,Ma=Wa.toString;function Ra(e){return Ma.call(e)}var Na="[object Null]",ja="[object Undefined]",Te=be?be.toStringTag:void 0;function Ba(e){return e==null?e===void 0?ja:Na:Te&&Te in Object(e)?Pa(e):Ra(e)}function La(e){return e!=null&&typeof e=="object"}var Va="[object Symbol]";function za(e){return typeof e=="symbol"||La(e)&&Ba(e)==Va}var Ja=/\s/;function Xa(e){for(var s=e.length;s--&&Ja.test(e.charAt(s)););return s}var Ga=/^\s+/;function Qa(e){return e&&e.slice(0,Xa(e)+1).replace(Ga,"")}function Fe(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}var qe=0/0,Ka=/^[-+]0x[0-9a-f]+$/i,Ya=/^0b[01]+$/i,Za=/^0o[0-7]+$/i,Ea=parseInt;function Ie(e){if(typeof e=="number")return e;if(za(e))return qe;if(Fe(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=Fe(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=Qa(e);var a=Ya.test(e);return a||Za.test(e)?Ea(e.slice(2),a?2:8):Ka.test(e)?qe:+e}var es=function(){return Je.Date.now()};const $e=es;var ts="Expected a function",as=Math.max,ss=Math.min;function ls(e,s,a){var p,i,c,h,r,u,f=0,m=!1,b=!1,F=!0;if(typeof e!="function")throw new TypeError(ts);s=Ie(s)||0,Fe(a)&&(m=!!a.leading,b="maxWait"in a,c=b?as(Ie(a.maxWait)||0,s):c,F="trailing"in a?!!a.trailing:F);function O(g){var N=p,J=i;return p=i=void 0,f=g,h=e.apply(J,N),h}function x(g){return f=g,r=setTimeout(D,s),m?O(g):h}function w(g){var N=g-u,J=g-f,_e=s-N;return b?ss(_e,c-J):_e}function C(g){var N=g-u,J=g-f;return u===void 0||N>=s||N<0||b&&J>=c}function D(){var g=$e();if(C(g))return V(g);r=setTimeout(D,w(g))}function V(g){return r=void 0,F&&p?O(g):(p=i=void 0,h)}function I(){r!==void 0&&clearTimeout(r),f=0,p=u=i=r=void 0}function A(){return r===void 0?h:V($e())}function H(){var g=$e(),N=C(g);if(p=arguments,i=this,u=g,N){if(r===void 0)return x(u);if(b)return clearTimeout(r),r=setTimeout(D,s),O(u)}return r===void 0&&(r=setTimeout(D,s)),h}return H.cancel=I,H.flush=A,H}function ns(e,s,a=1e3){const p=Q([]),i=Q(!0);fe(()=>s.value,()=>{const{rowItemAmount:m,listData:b,rowHeight:F}=s.value,O=[];for(let x=0;x<b.length;x+=1){const w=Math.floor(x/m);O.push({value:b[x],top:w*F})}p.value=O},{deep:!0,immediate:!0});let c=null;const h=Q(0),r=Q(0),u=xe({begin:0,end:0+a}),f=ls(m=>{var b;h.value=((b=m.target)==null?void 0:b.scrollTop)||0,u.begin=h.value-a,u.end=h.value+r.value+a},200);return fe(()=>r.value,m=>{u.begin=h.value-a,u.end=h.value+m+a}),at(()=>{st(()=>{c=document.getElementById(e),r.value=(c==null?void 0:c.clientHeight)||0,u.end=r.value+a,c.addEventListener("resize",()=>{r.value=(c==null?void 0:c.clientHeight)||0}),i&&c.addEventListener("scroll",f)})}),lt(()=>{f.cancel()}),{wrapData:p,scrollTop:h,showArea:u}}const os={class:"har-work-batch"},is={class:"tw-text-sm"},rs={class:"tw-text-sm"},us={class:"tw-text-sm"},cs={class:"tw-text-sm"},ds={name:"HarBatchWork"},ps=S({...ds,setup(e){const s=q("storeItemData");function a(r=!1){const{selected:u,requests:f}=s.list,m=[];return K(u)?X(G.Warning,o("notice.selectEmpty")):W(f,b=>{if(u.includes(b.identity)&&(r&&b.type===k.WebSocket||m.push(b.http)),u.length===m.length)return!1}),m}function p(){const r=a();K(r)||ie(JSON.stringify(ye([...r])),!0)}function i(){const r=a();K(r)||Ne(JSON.stringify(ye([...r])),"poster.har")}function c(){const r=a(!0),u=chrome;u&&!K(r)&&u.permissions.request({permissions:["downloads"]},f=>{f?W(r,m=>{u.downloads.download({url:m.request.url})}):X(G.Warning,o("notice.noAuth"))})}function h(){s.list.requests=[]}return(r,u)=>(d(),v("div",os,[t("span",{onClick:p},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",is,n(l(o)("har.batch.copyHar")),1)]),_:1})]),t("span",{onClick:i},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).ExportOutlined},null,8,["type"])]),default:y(()=>[t("span",rs,n(l(o)("har.batch.exportHar")),1)]),_:1})]),t("span",{onClick:c},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).DownloadOutlined},null,8,["type"])]),default:y(()=>[t("span",us,n(l(o)("har.batch.downloadFile")),1)]),_:1})]),t("span",{onClick:h},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).ClearOutlined},null,8,["type"])]),default:y(()=>[t("span",cs,n(l(o)("har.batch.clearHar")),1)]),_:1})])]))}});const _s=z(ps,[["__scopeId","data-v-b219182a"]]),hs={class:"editor-step2"},vs={class:"tw-mb-4 tw-flex tw-justify-between"},ms={class:"tw-flex tw-items-center tw-justify-between"},fs={class:"tw-font-bold"},ys={class:"tw-ml-4 tw-text-sm"},bs={class:"tw-mb-4 tw-flex tw-justify-between"},ks={class:"har-list",id:"har-list"},ws={name:"HarImportStep2"},gs=S({...ws,emits:["step1"],setup(e,{emit:s}){const a=q("storeItemData"),p=Q([]);let i;function c(){const F=[],{search:{status:O,url:x,type:w},requests:C}=a.list;W(C,D=>{const{status:V,type:I,http:A}=D;let H=!0;if(D.urlHighLight="",H&&!K(O)&&!O.includes(V)&&(H=!1),H&&!K(w)&&!w.includes(I)&&(H=!1),H&&x)if(A.request.url.indexOf(x)===-1)H=!1;else{i||(i=new ct({color:"#FFFF00",tag:"font"}));const g=i.search(A.request.url,x);g.isMatch&&(D.urlHighLight=g.highlightStr)}H&&F.push(D)}),p.value=F}const h=L(()=>({listData:p.value,rowItemAmount:1,rowHeight:44})),{wrapData:r,showArea:u}=ns("har-list",h),f=ut(c,500);fe(()=>[a.list.search,a.list.requests],()=>f(),{immediate:!0,deep:!0});function m(F){a.list.detailIdentity=F}function b(){s("step1")}return(F,O)=>(d(),v("div",hs,[t("div",vs,[t("div",ms,[t("span",fs,n(l(o)("har.import.step2.title")),1),t("span",ys,n(l(o)("har.import.step2.amount"))+": "+n(l(r).length),1),t("span",null,[_(_s)])]),t("div",null,[_(Re,{onClick:b,type:"primary",name:l(o)("har.import.step2.confirm")},null,8,["name"])])]),t("div",bs,[_(zt)]),t("div",ks,[(d(!0),v(Y,null,te(l(r),x=>(d(),v(Y,{key:x.value.identity},[x.top>=l(u).begin&&x.top<=l(u).end?(d(),R(Ca,{key:0,top:x.top,"item-data":x.value,onDetail:m},null,8,["top","item-data"])):P("",!0)],64))),128))])]))}});const Ds=z(gs,[["__scopeId","data-v-ec5d83e9"]]),Os={class:"tw-h-full"},$s={class:"har-import"},Fs={class:"tw-flex tw-justify-center tw-my-6 tw-w-full"},xs={class:"tw-w-full tw-mx-10"},Cs={name:"HarImport"},Ss=S({...Cs,setup(e){const s=q("storeItemData"),a=[{value:"1",label:o("har.import.step1.name"),description:""},{value:"2",label:o("har.import.step2.name"),description:""}];return(p,i)=>(d(),v("div",Os,[t("h3",null,n(l(o)("har.import.label")),1),t("div",$s,[t("div",Fs,[t("div",xs,[_(yt,{step:l(s).step,steps:a},null,8,["step"])])]),l(s).step===0?(d(),R(Ut,{key:0,onStep2:i[0]||(i[0]=()=>l(s).step=1)})):P("",!0),l(s).step===1?(d(),R(Ds,{key:1,onStep1:i[1]||(i[1]=()=>l(s).step=0)})):P("",!0)])]))}});const Hs=z(Ss,[["__scopeId","data-v-84e88375"]]),Ts={class:"har-detail-item"},qs={class:"har-detail-item_block"},Is={class:"har-detail-item_kv"},As={class:"har-detail-item_block"},Us={class:"har-detail-item_li"},Ps={class:"har-detail-item_block"},Ws={key:0,class:"har-detail-item_li"},Ms={key:1,class:"har-detail-item_empty"},Rs={class:"har-detail-item_block"},Ns={class:"har-detail-item_kv"},js={name:"HarDetailRequest"},Bs=S({...js,setup(e){const s=q("harDetailData"),a=L(()=>{const{request:p,startedDateTime:i,serverIPAddress:c}=s.value;return{startedDateTime:i,serverIPAddress:c,request:p}});return(p,i)=>(d(),v("div",Ts,[t("div",null,n(l(o)("har.detail.request.title"))+" "+n(a.value.startedDateTime),1),t("div",qs,[t("h4",null,n(l(o)("har.detail.request.normal"))+"\uFF1A",1),t("div",Is,[t("div",null,[t("span",null,n(l(o)("har.detail.request.url"))+"\uFF1A",1),$(" "+n(a.value.request.url),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.version"))+": ",1),$(" "+n(a.value.request.httpVersion),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.method"))+": ",1),$(" "+n(a.value.request.method),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.remote"))+"\uFF1A",1),$(" "+n(a.value.serverIPAddress),1)])])]),t("div",As,[t("h4",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),t("div",Us,[t("ul",null,[(d(!0),v(Y,null,te(a.value.request.headers,c=>(d(),v("li",null,[t("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])]),t("div",Ps,[t("h4",null,n(l(o)("har.detail.request.queryParam"))+"\uFF1A",1),a.value.request.queryString&&a.value.request.queryString.length>0?(d(),v("div",Ws,[t("ul",null,[(d(!0),v(Y,null,te(a.value.request.queryString,c=>(d(),v("li",null,[t("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])):(d(),v("div",Ms,n(l(o)("har.detail.request.noQueryString")),1))]),t("div",Rs,[t("h4",null,n(l(o)("har.detail.request.size"))+"\uFF1A",1),t("div",Ns,[t("div",null,[t("span",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),$(" "+n(a.value.request.headersSize),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.content"))+"\uFF1A",1),$(" "+n(a.value.request.bodySize),1)])])])]))}}),Ls={class:"har-detail-item"},Vs={class:"har-detail-item_block"},zs={class:"har-detail-item_kv"},Js={class:"har-detail-item_block"},Xs={class:"har-detail-item_li"},Gs={class:"har-detail-item_block"},Qs={class:"har-detail-item_kv"},Ks={name:"HarDetailResponse"},Ys=S({...Ks,setup(e){const s=q("harDetailData"),a=L(()=>{const{response:p,startedDateTime:i,serverIPAddress:c}=s.value;return{response:p}});return(p,i)=>(d(),v("div",Ls,[t("div",null,n(l(o)("har.detail.response.title")),1),t("div",Vs,[t("h4",null,n(l(o)("har.detail.response.full"))+"\uFF1A",1),t("div",zs,[t("div",null,[t("span",null,n(a.value.response.status),1),$(" "+n(a.value.response.statusText)+" "+n(a.value.response.httpVersion),1)])])]),t("div",Js,[t("h4",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),t("div",Xs,[t("ul",null,[(d(!0),v(Y,null,te(a.value.response.headers,c=>(d(),v("li",null,[t("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])]),t("div",Gs,[t("h4",null,n(l(o)("har.detail.response.size"))+"\uFF1A",1),t("div",Qs,[t("div",null,[t("span",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),$(" "+n(a.value.response.headersSize),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.response.content"))+"\uFF1A",1),$(" "+n(a.value.response.bodySize),1)])])])]))}}),Zs={class:"har-detail-item_li"},Es={key:0},el={key:1},tl={key:2},al={key:3},sl={key:4},ll={key:5},nl={key:6},ol={name:"HarDetailCookieItem"},Ae=S({...ol,props:{cookie:{}},setup(e){return(s,a)=>(d(),v("div",null,[t("h5",null,n(s.cookie.name),1),t("div",Zs,[t("ul",null,[s.cookie.value?(d(),v("li",Es,[t("span",null,n(l(o)("har.detail.cookie.value")),1),$(" "+n(s.cookie.value),1)])):P("",!0),s.cookie.path?(d(),v("li",el,[t("span",null,n(l(o)("har.detail.cookie.path")),1),$(" "+n(s.cookie.path),1)])):P("",!0),s.cookie.domain?(d(),v("li",tl,[t("span",null,n(l(o)("har.detail.cookie.domain")),1),$(" "+n(s.cookie.domain),1)])):P("",!0),s.cookie.expires?(d(),v("li",al,[t("span",null,n(l(o)("har.detail.cookie.expires")),1),$(" "+n(s.cookie.expires),1)])):P("",!0),s.cookie.expires?(d(),v("li",sl,[t("span",null,n(l(o)("har.detail.cookie.httpOnly")),1),$(" "+n(s.cookie.httpOnly),1)])):P("",!0),s.cookie.expires?(d(),v("li",ll,[t("span",null,n(l(o)("har.detail.cookie.secure")),1),$(" "+n(s.cookie.secure),1)])):P("",!0),s.cookie.expires?(d(),v("li",nl,[t("span",null,n(l(o)("har.detail.cookie.sameSite")),1),$(" "+n(s.cookie.sameSite),1)])):P("",!0)])])]))}}),il={class:"har-detail-item"},rl={class:"har-detail-item_block"},ul={key:1,class:"har-detail-item_empty"},cl={class:"har-detail-item_block"},dl={key:1,class:"har-detail-item_empty"},pl={name:"HarDetailCookie"},_l=S({...pl,setup(e){const s=q("harDetailData"),a=L(()=>{const{request:p,response:i}=s.value;return{response:i,request:p}});return(p,i)=>(d(),v("div",il,[t("div",null,n(l(o)("har.detail.cookie.title")),1),t("div",rl,[t("h4",null,n(l(o)("har.detail.cookie.request"))+"\uFF1A",1),a.value.request.cookies&&a.value.request.cookies.length>0?(d(!0),v(Y,{key:0},te(a.value.request.cookies,c=>(d(),v("div",null,[_(Ae,{cookie:c},null,8,["cookie"])]))),256)):(d(),v("div",ul,n(l(o)("har.detail.cookie.noCookie")),1))]),t("div",cl,[t("h4",null,n(l(o)("har.detail.cookie.response"))+"\uFF1A",1),a.value.response.cookies&&a.value.response.cookies.length>0?(d(!0),v(Y,{key:0},te(a.value.response.cookies,c=>(d(),v("div",null,[_(Ae,{cookie:c},null,8,["cookie"])]))),256)):(d(),v("div",dl,n(l(o)("har.detail.cookie.noCookie")),1))])]))}}),hl={class:"har-detail-item"},vl={class:"har-detail-item_block"},ml={class:"har-detail-item_kv"},fl={name:"HarDetailTime"},yl=S({...fl,setup(e){const s=q("harDetailData"),a=L(()=>{const{timings:p}=s.value;return{timings:p}});return(p,i)=>(d(),v("div",hl,[t("div",null,n(l(o)("har.detail.timings.title")),1),t("div",vl,[t("div",ml,[t("div",null,[t("span",null,n(l(o)("har.detail.timings.blocked"))+"\uFF1A",1),$(" "+n(a.value.timings.blocked),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.dns"))+": ",1),$(" "+n(a.value.timings.dns),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.connect"))+": ",1),$(" "+n(a.value.timings.connect),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.send"))+"\uFF1A",1),$(" "+n(a.value.timings.send),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.wait"))+"\uFF1A",1),$(" "+n(a.value.timings.wait),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.receive"))+"\uFF1A",1),$(" "+n(a.value.timings.receive),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.ssl"))+"\uFF1A",1),$(" "+n(a.value.timings.ssl),1)])])])]))}}),bl={class:"har-detail-item"},kl={class:"har-detail-item_block"},wl={class:"har-detail-item_content"},gl={class:"har-detail-item_block"},Dl={class:"har-detail-item_content"},Ol={class:"har-detail-item_block"},$l={class:"har-detail-item_content"},Fl={class:"har-detail-item_block"},xl={class:"har-detail-item-title_copy"},Cl={key:0,class:"har-detail-item_content"},Sl={key:1,class:"har-detail-item_empty"},Hl={name:"HarDetailContent"},Tl=S({...Hl,setup(e){const s=q("harDetailData"),a=L(()=>{const{response:{content:i}}=s.value;return{content:i}});function p(){a.value.content.text&&ie(a.value.content.text)}return(i,c)=>(d(),v("div",bl,[t("div",null,n(l(o)("har.detail.content.title")),1),t("div",kl,[t("h4",null,n(l(o)("har.detail.content.size"))+"\uFF1A",1),t("div",wl,n(a.value.content.size),1)]),t("div",gl,[t("h4",null,n(l(o)("har.detail.content.zip"))+"\uFF1A",1),t("div",Dl,n(a.value.content.compression),1)]),t("div",Ol,[t("h4",null,n(l(o)("har.detail.content.mime"))+"\uFF1A",1),t("div",$l,n(a.value.content.mimeType),1)]),t("div",Fl,[t("div",xl,[t("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),a.value.content.text?(d(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:p},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a.value.content.text?(d(),v("div",Cl,n(a.value.content.text),1)):(d(),v("div",Sl,n(l(o)("har.detail.content.noContent")),1))])]))}}),ql={class:"har-detail-item"},Il={class:"har-detail-item_block"},Al={class:"har-detail-item_content"},Ul={key:0,class:"har-detail-item_block"},Pl={class:"har-detail-item_li"},Wl={class:"har-detail-item_block"},Ml={class:"har-detail-item-title_copy"},Rl={key:0,class:"har-detail-item_content"},Nl={key:1,class:"har-detail-item_empty"},jl={name:"HarDetailPost"},Bl=S({...jl,setup(e){const s=q("harDetailData"),a=L(()=>{const{request:i}=s.value;let c={mimeType:"",text:""};return i.postData&&(c=i.postData),{postData:c}});function p(){a.value.postData.text&&ie(a.value.postData.text)}return(i,c)=>(d(),v("div",ql,[t("div",null,n(l(o)("har.detail.post.title")),1),t("div",Il,[t("h4",null,n(l(o)("har.detail.post.mime"))+"\uFF1A",1),t("div",Al,n(a.value.postData.mimeType),1)]),a.value.postData.params?(d(),v("div",Ul,[t("h4",null,n(l(o)("har.detail.post.params"))+"\uFF1A",1),t("div",Pl,[t("ul",null,[(d(!0),v(Y,null,te(a.value.postData.params,h=>(d(),v("li",null,[t("span",null,n(h.name),1),$(" "+n(h.value),1)]))),256))])])])):P("",!0),t("div",Wl,[t("div",Ml,[t("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),a.value.postData.text?(d(),v("span",{key:0,class:"tw-ml-1 tw-cursor-pointer",onClick:p},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a.value.postData.text?(d(),v("div",Rl,n(a.value.postData.text),1)):(d(),v("div",Nl,n(l(o)("har.detail.post.noText")),1))])]))}}),Ll={class:"har-detail-origin"},Vl={class:"har-detail-origin_title"},zl={class:"har-detail-origin_content"},Jl={name:"HarDetailOrigin"},Xl=S({...Jl,props:{origin:{}},setup(e){const s=e,a=Q(JSON.stringify(s.origin,null,4)),p=Q(!1);function i(){ie(a.value,!0)}return(c,h)=>(d(),v("div",Ll,[t("div",Vl,[t("div",null,[t("span",null,n(l(o)("har.detail.source.label")),1),c.origin?(d(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:i},[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t("span",null,[_(Le,{checked:p.value,"onUpdate:checked":h[0]||(h[0]=r=>p.value=r),name:l(o)("format.header.useEditor")},null,8,["checked","name"])])]),t("div",zl,[p.value?(d(),R(Me,{key:0,mode:"application/json",value:a.value,"onUpdate:value":h[1]||(h[1]=r=>a.value=r),theme:l(Ue)[l(j).theme.current]},null,8,["value","theme"])):(d(),v(Y,{key:1},[$(n(a.value),1)],64))])]))}});const Gl=z(Xl,[["__scopeId","data-v-691bf8d6"]]),Ql={class:"tw-h-full"},Kl={class:"tw-flex tw-justify-between tw-items-center"},Yl={class:"tw-h-full"},Zl={key:1,class:"tw-flex tw-items-center tw-justify-center tw-h-full tw-w-full"},El={name:"HarDetail"},en=S({...El,setup(e){const s=q("storeItemData"),a=Q({});function p(){W(s.list.requests,h=>{var f;const{identity:r,http:u}=h;if(((f=s.list)==null?void 0:f.detailIdentity)===r)return a.value=u,!1})}T("harDetailData",a),fe(()=>{var h;return(h=s.list)==null?void 0:h.detailIdentity},()=>p(),{immediate:!0});const i=L(()=>{var r;const h=[{label:o("har.detail.request.label"),value:"Request"},{label:o("har.detail.response.label"),value:"Response"},{label:o("har.detail.content.label"),value:"Content"},{label:o("har.detail.cookie.label"),value:"Cookie"},{label:o("har.detail.timings.label"),value:"Timeline"},{label:o("har.detail.source.label"),value:"Source"}];return(r=a.value.request)!=null&&r.postData&&h.splice(1,0,{label:o("har.detail.post.label"),value:"Post"}),h}),c=Q("Request");return(h,r)=>(d(),v("div",Ql,[t("div",Kl,[t("h3",null,n(l(o)("har.analysis.label")),1),l(s).list.detailIdentity&&!l(K)(a.value)?(d(),R(ze,{key:0,identity:l(s).list.detailIdentity,type:l(ke).Icon},null,8,["identity","type"])):P("",!0)]),t("div",Yl,[l(s).list.detailIdentity&&!l(K)(a.value)?(d(),R(We,{key:0,tabs:i.value,active:c.value,"onUpdate:active":r[0]||(r[0]=u=>c.value=u)},{Source:y(()=>[_(Gl,{origin:a.value},null,8,["origin"])]),Post:y(()=>[_(Bl)]),Request:y(()=>[_(Bs)]),Response:y(()=>[_(Ys)]),Content:y(()=>[_(Tl)]),Cookie:y(()=>[_(_l)]),Timeline:y(()=>[_(yl)]),_:1},8,["tabs","active"])):(d(),v("div",Zl,[_(dt,{msg:l(o)("har.analysis.notice.chooseRequest")},null,8,["msg"])]))])]))}});const tn=z(en,[["__scopeId","data-v-8bd0c376"]]),an={class:"har-editor"},sn={class:"tw-border-r tw-border-neutral-3"},ln={name:"HarEditor"},nn=S({...ln,setup(e){const s=q("contentIdentity"),a=q("contentName");return Ft(ce,s,["content"],a),T("storeItemData",ce.item[s.value].content),(p,i)=>(d(),v("div",an,[t("div",sn,[_(Hs)]),t("div",null,[(d(),R(tn,{key:l(s)}))])]))}});const on=z(nn,[["__scopeId","data-v-8c019044"]]),rn={class:"warp_bigger har_area"},un={key:0,class:"show_area"},cn={class:"tw-text-sm"},dn={class:"tw-flex tw-justify-end tw-items-center"},pn={key:0},_n={class:"tw-ml-2"},hn={name:"ModuleHar"},vn=S({...hn,setup(e){const s=q("storeIDB"),a=L(()=>{switch(j.os){case he.Mac:return o("coding.notice.quick.mac");case he.Linux:case he.Unix:case he.Win:default:return o("coding.notice.quick.win")}}),{curIsSaved:p,curContentIdentity:i,curContentName:c,curContentFolderIdentity:h,curFolders:r,curHistoryFolders:u,addFolder:f,renameFolder:m,deleteFolder:b,sortFolder:F,createContent:O,saveContent:x,showContent:w,renameContent:C,copyContent:D,deleteContent:V,autoSaveContent:I,importContent:A,getContent:H,saveFolder:g,saveContentItem:N}=pt(s,xt,ce,Ct());T("contentIsSaved",p),T("contentFolderIdentity",h),T("contentIdentity",i),T("contentName",c),T("historyFolders",u),T("folders",r),T("addFolder",f),T("renameFolder",m),T("deleteFolder",b),T("showContent",w),T("copyContent",D),T("renameContent",C),T("deleteContent",V),T("sortFolder",F),T("saveContent",x),T("autoSaveContent",I),T("getContent",H),T("saveFolder",g),T("saveContentItem",N);function J(){O()}function _e(we){j.loading=!0;const{name:Z,content:ae,isSave:Ge,folderIdentity:Qe}=we;A(Z,ae,Ge,Qe,me).then(()=>{j.loading=!1}).catch(()=>{j.loading=!1})}return(we,Z)=>(d(),v("div",rn,[_(ft,{collapse:l(j).historyDrawer.collapse,"onUpdate:collapse":Z[2]||(Z[2]=ae=>l(j).historyDrawer.collapse=ae),history:l(j).historyDrawer,suffix:l(me)},{default:y(()=>[l(i)?(d(),v("div",un,[_(ot,{title:l(o)(`module.${l(j).module}`),contentName:l(c),"onUpdate:contentName":Z[1]||(Z[1]=ae=>nt(c)?c.value=ae:null),"is-has-name":!0},{titleLeft:y(()=>[_(B,null,{anchor:y(()=>[_(M,{type:l(ee).ExclamationCircleOutlined,size:"sm"},null,8,["type"])]),default:y(()=>[t("span",cn,n(a.value),1)]),_:1})]),titleRight:y(()=>[t("div",dn,[l(i)?(d(),v("span",pn,[_(_t,{"store-item-data":l(ce).item[l(i)]},null,8,["store-item-data"])])):P("",!0),t("span",_n,[_(ht,{"support-types":["text/plain"],accept:[l(me)],"store-item-data":l(ce).item[l(i)],suffix:l(me),onSelect:J,onContent:_e},null,8,["accept","store-item-data","suffix"])]),_(vt,pe({class:"tw-ml-2"},we.$attrs),null,16),l(j).historyDrawer.collapse?(d(),R(mt,{key:1,class:"tw-ml-2",visible:l(j).historyDrawer.visible,"onUpdate:visible":Z[0]||(Z[0]=ae=>l(j).historyDrawer.visible=ae)},null,8,["visible"])):P("",!0)])]),default:y(()=>[(d(),R(on,{key:l(i)}))]),_:1},8,["title","contentName"])])):P("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const mn=z(vn,[["__scopeId","data-v-7af85022"]]),En=S({__name:"Har",setup(e){return(s,a)=>(d(),R(mn))}});export{En as default};
