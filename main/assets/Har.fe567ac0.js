import{q as xe,bf as he,ah as M,d as S,K as q,g as o,o as c,c as v,a as _,w as y,v as t,$ as l,a1 as pe,a4 as N,be as Ae,x as R,b as B,a0 as n,y as P,aj as se,d2 as le,bo as Ce,Y as K,d3 as Qe,E as Pe,Z as te,R as Y,ar as Ye,as as Ze,s as Q,G as Ee,ao as et,F as tt,M as fe,t as at,U as st,O as lt,z as $,S as H,br as ve,at as nt}from"./index.ede6ea95.js";import{I as ot,_ as Me,U as it}from"./UIWithTitle.04e532be.js";import{a as rt,D as ut,t as dt,X as ct,b as pt,c as _t,d as ht,e as vt,U as mt}from"./UICreateImport.vue_vue_type_script_setup_true_lang.ee11e2f3.js";import{_ as ft}from"./DSteps.vue_vue_type_script_setup_true_lang.f25d8f5c.js";import{b as We,_ as yt,a as Re,u as bt}from"./PortImport.vue_vue_type_script_setup_true_lang.f52bc9b9.js";import{_ as je}from"./DCodeMirror.vue_vue_type_script_setup_true_lang.c00122dc.js";import{_ as Ne}from"./DButton.vue_vue_type_script_setup_true_lang.63edc007.js";import{i as kt,d as Le}from"./fileLib.20db5dfb.js";import{s as X,E as G,_ as W,a as ee}from"./Interface.93eb287a.js";import{g as oe}from"./randomLib.04c6c9cc.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as Be}from"./DSelect.vue_vue_type_script_setup_true_lang.318941f9.js";import{D as L}from"./DTooltip.a5b6a911.js";import{d as ie}from"./copyLib.0c49f6d6.js";import{E as re,f as Se,e as ne,g as Te,a as ge,d as De,b as Oe,n as wt}from"./posterLib.4c81bec8.js";import{t as gt,_ as Dt}from"./DResult.vue_vue_type_script_setup_true_lang.54d2be88.js";import{C as Ot}from"./index.f9e2aab8.js";import{f as $t}from"./findIndex.124ca927.js";import{u as Ft}from"./ModuleAutoSaveLib.c6e66903.js";import"./ModuleCollapsetLib.5f2d9d90.js";import"./routeLib.d691fd07.js";import"./index.10357c91.js";import"./KeyCode.9e37adda.js";import"./pick.015df046.js";import"./_baseIsEqual.9a5624c8.js";import"./_flatRest.4357f8e5.js";import"./hasIn.87292fbe.js";import"./memoize.4ce40db6.js";import"./styleChecker.860098ae.js";import"./debounce.388cf186.js";import"./now.7cb493d7.js";import"./DSpin.23e419cb.js";import"./config.aa76b2c0.js";import"./responsiveObserve.2d7402ee.js";import"./index.af9ac403.js";import"./codemirror.30dbdd64.js";import"./stringify.15412eb9.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./___vite-browser-external_commonjs-proxy.dbf35a2a.js";const de=xe({folders:[],item:{}});var ce=(e=>(e.Upload="upload",e.Content="content",e))(ce||{}),ke=(e=>(e.Dropdown="dropdown",e.Icon="icon",e))(ke||{}),A=(e=>(e.One="1xx",e.Two="2xx",e.Three="3xx",e.Four="4xx",e.Five="5xx",e.Other="0",e))(A||{}),k=(e=>(e.FetchXhr="Fetch/xhr",e.WebSocket="Websocket",e.Image="Image",e.Media="Media",e.Font="Font",e.Doc="Doc",e.Js="Js",e.Css="Css",e.Wasm="Wasm",e.Manifest="Manifest",e.Other="Other",e))(k||{});const me=".hara",xt={[he.Config]:"har_config",[he.Folder]:"har_folder",[he.Content]:"har_content",[he.Env]:"har_env"};function Ct(){return{content:{step:0,source:{type:ce.Upload,content:""},list:{search:{url:"",type:[],status:[],requests:0},selected:[],requests:[],detailIdentity:""}},isSaved:0}}function ye(e){return{log:{version:"1.2",creator:{name:"Poster",version:"2.0.0"},entries:[...e]}}}function St(e){let s=k.Other;const{response:a,request:p}=e,i=a.content.mimeType;return i.indexOf("application/javascript")>-1?s=k.Js:i.indexOf("text/css")>-1?s=k.Css:i.indexOf("image/")>-1?s=k.Image:i.indexOf("application/manifest")>-1?s=k.Manifest:i.indexOf("application/json")>-1?s=k.FetchXhr:i.indexOf("font/")>-1?s=k.Font:i.indexOf("html")>-1||i.indexOf("pdf")>-1?s=k.Doc:i.indexOf("audio/")>-1||i.indexOf("video/")>-1?s=k.Media:Tt(p.headers)&&(s=k.WebSocket),s}function Tt(e){let s=!1;return M(e,a=>{if(a.name==="Upgrade"&&a.value==="websocket")return s=!0,!1}),s}function Ht(e){let s=A.Other;const{response:a}=e;return a.status>=100&&a.status<200?s=A.One:a.status>=200&&a.status<300?s=A.Two:a.status>=300&&a.status<400?s=A.Three:a.status>=400&&a.status<500?s=A.Four:a.status>=500&&a.status<600&&(s=A.Five),s}const qt={class:"editor-step1"},It={name:"HarImportStep1"},Ut=S({...It,emits:["step2"],setup(e,{emit:s}){const a=q("storeItemData"),p=[{value:ce.Upload,label:o("har.import.step1.upload.label")},{value:ce.Content,label:o("har.import.step1.content.label")}];let i;function d(r){var u,f;i=((f=(u=r==null?void 0:r.target)==null?void 0:u.files)==null?void 0:f[0])||"",i&&kt(i).then(m=>{m&&(a.source.content=m,a.source.type=ce.Content)}).catch(m=>{console.log("har-import",m),X(G.Error,o("notice.importErr"))})}function h(){var r;try{if(a.source.content){const u=JSON.parse(a.source.content);if(u&&((r=u.log)==null?void 0:r.entries)&&Array.isArray(u.log.entries)&&u.log.entries.length>0){const{log:f}=u,m=[];M(f.entries,b=>{m.push({identity:oe(),type:St(b),status:Ht(b),urlHighLight:"",http:b})}),a.list.requests=m,s("step2")}else throw new Error("content error")}else throw new Error("no content")}catch(u){console.log("err",u),X(G.Warning,o("har.import.step1.notice.contentErr"))}}return(r,u)=>{const f=ot;return c(),v("div",qt,[_(We,{centered:!0,tabs:p,active:l(a).source.type,"onUpdate:active":u[1]||(u[1]=m=>l(a).source.type=m)},{rightExtra:y(()=>[t("div",null,[_(Ne,{onClick:h,type:"primary",name:l(o)("har.import.step1.confirm")},null,8,["name"])])]),upload:y(()=>[_(f,pe({class:`${l(N).theme.current}InputBg`},r.$attrs,{type:"file",accept:[".har"],onChange:d}),null,16,["class","accept"])]),content:y(()=>[_(je,{mode:"application/json",placeholder:l(o)("har.import.step1.content.placeholder"),value:l(a).source.content,"onUpdate:value":u[0]||(u[0]=m=>l(a).source.content=m),theme:l(Ae)[l(N).theme.current]},null,8,["placeholder","value","theme"])]),_:1},8,["active"])])}}});const At=z(Ut,[["__scopeId","data-v-c8ecf741"]]),Pt={name:"HarFilterUrl"},Mt=S({...Pt,setup(e){const s=q("storeItemData");return(a,p)=>(c(),R(Me,{style:{width:"150px"},value:l(s).list.search.url,"onUpdate:value":p[0]||(p[0]=i=>l(s).list.search.url=i),placeholder:l(o)("har.filter.url.placeholder"),"is-search":!0,"allow-clear":!0},null,8,["value","placeholder"]))}}),Wt={name:"HarFilterType"},Rt=S({...Wt,setup(e){const s=q("storeItemData"),a=[{label:k.FetchXhr,value:k.FetchXhr},{label:k.Js,value:k.Js},{label:k.Css,value:k.Css},{label:k.Image,value:k.Image},{label:k.Doc,value:k.Doc},{label:k.Media,value:k.Media},{label:k.Manifest,value:k.Manifest},{label:k.WebSocket,value:k.WebSocket},{label:k.Wasm,value:k.Wasm},{label:k.Other,value:k.Other}];return(p,i)=>(c(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.type,"onUpdate:value":i[0]||(i[0]=d=>l(s).list.search.type=d),placeholder:l(o)("har.filter.type.placeholder"),mode:"multiple",options:a,allowClear:!0},null,8,["value","placeholder"]))}}),jt={name:"HarFilterType"},Nt=S({...jt,setup(e){const s=q("storeItemData"),a=[{label:A.Other,value:A.Other},{label:A.One,value:A.One},{label:A.Two,value:A.Two},{label:A.Three,value:A.Three},{label:A.Four,value:A.Four},{label:A.Five,value:A.Five}];return(p,i)=>(c(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.status,"onUpdate:value":i[0]||(i[0]=d=>l(s).list.search.status=d),placeholder:l(o)("har.filter.status.placeholder"),mode:"multiple",options:a,allowClear:!0},null,8,["value","placeholder"]))}}),Lt={class:"har-filter"},Bt={name:"HarFilter"},Vt=S({...Bt,setup(e){return(s,a)=>(c(),v("div",Lt,[t("span",null,[_(Rt)]),t("span",null,[_(Nt)]),t("span",null,[_(Mt)])]))}});const zt=z(Vt,[["__scopeId","data-v-c5f8309d"]]);var E=(e=>(e.LeftOutlined="LeftOutlined",e.RightOutlined="RightOutlined",e.DoubleRightOutlined="DoubleRightOutlined",e.DoubleLeftOutlined="DoubleLeftOutlined",e.SwapRightOutlined="SwapRightOutlined",e.CalendarOutlined="CalendarOutlined",e.UnlockOutlined="UnlockOutlined",e.LockOutlined="LockOutlined",e.ClockCircleOutlined="ClockCircleOutlined",e.SearchOutlined="SearchOutlined",e.FilterOutlined="FilterOutlined",e.InboxOutlined="InboxOutlined",e.CaretUpOutlined="CaretUpOutlined",e.CaretDownOutlined="CaretDownOutlined",e.MoreOutlined="MoreOutlined",e.FunnelPlotOutlined="FunnelPlotOutlined",e.VerticalRightOutlined="VerticalRightOutlined",e.VerticalLeftOutlined="VerticalLeftOutlined",e.PushpinOutlined="PushpinOutlined",e.VerticalAlignTopOutlined="VerticalAlignTopOutlined",e.VerticalAlignBottomOutlined="VerticalAlignBottomOutlined",e.SwapOutlined="SwapOutlined",e.RetweetOutlined="RetweetOutlined",e.DisconnectOutlined="DisconnectOutlined",e.GlobalOutlined="GlobalOutlined",e.HeartOutlined="HeartOutlined",e.CheckOutlined="CheckOutlined",e.DeleteOutlined="DeleteOutlined",e.PlusOutlined="PlusOutlined",e.LinkOutlined="LinkOutlined",e.EditOutlined="EditOutlined",e.CloseOutlined="CloseOutlined",e.CloseCircleOutlined="CloseCircleOutlined",e.ExclamationCircleOutlined="ExclamationCircleOutlined",e.DownloadOutlined="DownloadOutlined",e.UploadOutlined="UploadOutlined",e.CopyOutlined="CopyOutlined",e.FrownOutlined="FrownOutlined",e.HolderOutlined="HolderOutlined",e.DownOutlined="DownOutlined",e.FolderOutlined="FolderOutlined",e.FolderOpenOutlined="FolderOpenOutlined",e.FolderAddOutlined="FolderAddOutlined",e.SettingOutlined="SettingOutlined",e.GithubOutlined="GithubOutlined",e.LoadingOutlined="LoadingOutlined",e.DesktopOutlined="DesktopOutlined",e.UpOutlined="UpOutlined",e.FullscreenOutlined="FullscreenOutlined",e.FullscreenExitOutlined="FullscreenExitOutlined",e.SmileOutlined="SmileOutlined",e.FilePdfOutlined="FilePdfOutlined",e.ExportOutlined="ExportOutlined",e.ClearOutlined="ClearOutlined",e.ApiOutlined="ApiOutlined",e.ShareAltOutlined="ShareAltOutlined",e.UndoOutlined="UndoOutlined",e.LikeOutlined="LikeOutlined",e))(E||{});const Jt={class:"har-work-popover"},Xt={name:"HarWorkDropdown"},Gt=S({...Xt,props:{isHasDownload:{type:Boolean}},emits:["detail","copyUrl","copyHar","newTab","exportHar","download","delete","saveToPoster"],setup(e,{emit:s}){const a=e,p=B(()=>{const d=[{label:o("har.work.detailRequest"),value:"detail"},{label:o("har.work.exportToUseful"),value:"saveToPoster"},{label:o("har.work.copyUrl"),value:"copyUrl"},{label:o("har.work.openInNewWindow"),value:"newTab"},{label:o("har.work.copyHar"),value:"copyHar"},{label:o("har.work.exportHar"),value:"exportHar"},{label:o("har.work.delete"),value:"delete"}];return a.isHasDownload&&d.push({label:o("har.work.downloadFile"),value:"download"}),d});function i(d){switch(d){case"detail":s("detail");break;case"copyUrl":s("copyUrl");break;case"copyHar":s("copyHar");break;case"newTab":s("newTab");break;case"exportHar":s("exportHar");break;case"download":s("download");break;case"delete":s("delete");break;case"saveToPoster":s("saveToPoster");break}}return(d,h)=>(c(),v("div",Jt,[_(rt,{data:p.value,onSelected:i},{anchor:y(()=>[_(W,{type:l(E).SettingOutlined},null,8,["type"])]),_:1},8,["data"])]))}}),Kt={class:"har-work-icon"},Qt={class:"tw-text-sm"},Yt={class:"tw-text-sm"},Zt={class:"tw-text-sm"},Et={class:"tw-text-sm"},ea={class:"tw-text-sm"},ta={class:"tw-text-sm"},aa={name:"HarWorkIcon"},sa=S({...aa,props:{isHasDownload:{type:Boolean}},emits:["copyUrl","copyHar","newTab","exportHar","download","saveToPoster"],setup(e,{emit:s}){function a(){s("copyUrl")}function p(){s("copyHar")}function i(){s("newTab")}function d(){s("exportHar")}function h(){s("download")}function r(){s("saveToPoster")}return(u,f)=>(c(),v("div",Kt,[t("span",{onClick:r},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).ApiOutlined},null,8,["type"])]),default:y(()=>[t("span",Qt,n(l(o)("har.work.exportToUseful")),1)]),_:1})]),t("span",{onClick:a},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).LinkOutlined},null,8,["type"])]),default:y(()=>[t("span",Yt,n(l(o)("har.work.copyUrl")),1)]),_:1})]),t("span",{onClick:i},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).DesktopOutlined},null,8,["type"])]),default:y(()=>[t("span",Zt,n(l(o)("har.work.openInNewWindow")),1)]),_:1})]),t("span",{onClick:p},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",Et,n(l(o)("har.work.copyHar")),1)]),_:1})]),t("span",{onClick:d},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).ExportOutlined},null,8,["type"])]),default:y(()=>[t("span",ea,n(l(o)("har.work.exportHar")),1)]),_:1})]),u.isHasDownload?(c(),v("span",{key:0,onClick:h},[_(L,null,{anchor:y(()=>[_(W,{type:l(E).DownloadOutlined},null,8,["type"])]),default:y(()=>[t("span",ta,n(l(o)("har.work.downloadFile")),1)]),_:1})])):P("",!0)]))}});const la=z(sa,[["__scopeId","data-v-cbb840c6"]]);function na(e){var C,D,V;const{request:s,response:a,startedDateTime:p,time:i}=e,{method:d}=s;let h=re.GET;M(re,I=>{if(se(I)===se(d))return h=I,!1});let r=Se.QUERY,u=ne.FormData;const f=[];let m={type:Te.Plain,value:""};if([re.POST,re.PUT,re.PATCH].includes(h))if(r=Se.POST,s.bodySize===0)u=ne.None;else{let U=(C=s.postData)==null?void 0:C.mimeType;U&&(U=se(U),U.indexOf(se(ne.XWWWFormUrlEncode))>-1?u=ne.XWWWFormUrlEncode:U.indexOf(se(ne.FormData))>-1?(u=ne.FormData,(D=s.postData)!=null&&D.params&&M((V=s.postData)==null?void 0:V.params,T=>{f.push({identity:oe(),isUse:!0,name:T.name,type:De.Text,value:T.value,isEssential:!1,fieldType:Oe.String,desc:""})})):M(Te,T=>{var g;if(U&&U.indexOf(se(T))>-1)return u=ne.Raw,m.type=T,m.value=((g=s.postData)==null?void 0:g.text)||"",!1}))}const b={type:ge.No,basic:{username:"",password:""},bearer:{token:""}},F=[];M(s.headers,I=>{const{name:U,value:T}=I;if(U==="Authorization"){const g=T.split(" ");let j=[];if(g.length===2){const J=se(g[0]);switch(J){case ge.Bearer:b.type=J,b.bearer.token=g[1];break;case ge.Basic:j=g[1].split(":"),b.type=J,b.basic.username=j[0],b.basic.password=j[1]||"";break}}}else F.push({identity:oe(),isUse:!0,name:U,type:De.Text,value:T,isEssential:!1,fieldType:Oe.String,desc:""})});const O=[];s.queryString&&M(s.queryString,I=>{const{name:U,value:T}=I;O.push({identity:oe(),isUse:!0,name:U,type:De.Text,value:T,isEssential:!1,fieldType:Oe.String,desc:""})});const x={datetime:p,time:i,tab:"response",resultTab:"origin",status:{value:a.status>=200&&a.status<=300?"success":"errResponse",message:a._error||"",code:a.status},headers:{request:[],response:[]},data:a.content.text};return M(s.headers,I=>{x.headers.request.push({key:I.name,value:I.value})}),M(a.headers,I=>{x.headers.response.push({key:I.name,value:I.value})}),{isRequesting:!1,remark:"",request:{identity:oe(),envIdentity:"no",isCollapse:!1,method:h,url:s.url,paramTab:r,auth:b,header:F,query:O,post:{type:u,form:f,raw:m}},response:x}}async function oa(e,s){const a=wt;function p(u){const f={[le.Key]:a.folder,[le.Type]:a.folder,[le.Value]:Ce(u)};return e.saveStorage(f)}function i(u){return e.saveStoragePatch(u)}const d=[],h=[];M(s,u=>{const{name:f,identity:m,content:b,importIdentity:F}=u;h.push({identity:m,name:f});const O={content:b,importIdentity:F,isSaved:1};d.push({[le.Key]:m,[le.Type]:a.content,[le.Value]:Ce(O)})});let r=[];await e.getStorageData(a.folder,le.Type).then(u=>{(u==null?void 0:u.value)&&!K(u)&&(r=Qe(u.value));const f=ia();let m=-1;K(r)||M(r,(b,F)=>{const{identity:O}=b;if(O===Ve)return m=F,!1}),m>-1?r[m].children=[...r[m].children,...h]:(f.children=h,r.push(f))}).catch(u=>{console.log("posterImportApi-get-folder-error",u),X(G.Success,o("notice.getErr"))}),await p(r).catch(u=>{console.log("posterImportApi-save-folder-error",u),X(G.Success,o("notice.saveOk"))}),await i(d).then(()=>{X(G.Success,o("notice.saveOk"))}).catch(u=>{console.log("posterImportApi-save-content-error",u),X(G.Success,o("notice.saveErr"))})}const Ve="import",ia=()=>({identity:Ve,name:o("history.importFolder"),children:[]});async function ra(e,s,a){switch(s){case Pe.Poster:await oa(e,a);break}}const ua=e=>(Ye("data-v-fe500f0b"),e=e(),Ze(),e),da={class:"im-block"},ca={class:"im-item"},pa={class:"tw-mb-2"},_a=ua(()=>t("div",{class:"im-name"},"\u5BFC\u5165\u540D\u79F0",-1)),ha={name:"PortModule"},va=S({...ha,props:{title:{},visible:{type:Boolean},data:{},toModule:{}},emits:["update:visible"],setup(e,{emit:s}){const a=e,p=q("storeIDB"),i=B({set:h=>s("update:visible",h),get:()=>a.visible});function d(){const h=[];let r=!0;M(a.data,u=>{const{identity:f,name:m,content:b,importIdentity:F}=u;if(gt(m))h.push({identity:f,name:m,content:b,importIdentity:F});else return r=!1,!1}),r?ra(p,a.toModule,h).then(()=>{i.value=!1}):X(G.Warning,o("notice.emptyName"))}return(h,r)=>(c(),R(yt,pe(h.$attrs,{title:h.title,visible:i.value,"onUpdate:visible":r[0]||(r[0]=u=>i.value=u),onOk:d}),{default:y(()=>[t("div",da,[(c(!0),v(Y,null,te(h.data,u=>(c(),v("div",ca,[t("div",pa,n(u.intro),1),t("div",null,[_a,_(Me,{value:u.name,"onUpdate:value":f=>u.name=f},null,8,["value","onUpdate:value"])])]))),256))])]),_:1},16,["title","visible"]))}});const ma=z(va,[["__scopeId","data-v-fe500f0b"]]);function fa(e){return Ot.MD5(e)}const ya={name:"HarWork"},ze=S({...ya,props:{type:{default:ke.Dropdown},identity:{default:""}},setup(e){const s=e,a=q("storeItemData"),p={dropdown:Gt,icon:la},i=Q(-1),d=B(()=>{let w=null;return M(a.list.requests,(C,D)=>{if(C.identity===s.identity)return w=C,i.value=D,!1}),w}),h=B(()=>{let w=!1;return d.value&&(w=![k.WebSocket,k.FetchXhr].includes(d.value.type)),w});function r(){d.value&&ie(JSON.stringify(ye([d.value.http])),!0)}function u(){d.value&&ie(d.value.http.request.url)}function f(){d.value&&window.open(d.value.http.request.url)}function m(){d.value&&Le(JSON.stringify(ye([d.value.http])),"poster.har")}function b(){const w=chrome;w&&d.value&&w.permissions.request({permissions:["downloads"]},C=>{var D;C?d.value&&((D=w==null?void 0:w.downloads)==null||D.download({url:d.value.http.request.url})):X(G.Warning,o("notice.noAuth"))})}function F(){var w,C;if(d.value&&i.value>-1){const D=(C=(w=a.list.requests)==null?void 0:w[i.value])==null?void 0:C.identity;D&&(D===a.list.detailIdentity&&(a.list.detailIdentity=""),a.list.requests.splice(i.value,1),X(G.Success,o("notice.delOk")))}}const O=xe({visible:!1,data:[]});function x(){var C,D;const w=(D=(C=a.list.requests)==null?void 0:C[i.value])==null?void 0:D.http;if(w){const V=na(w);O.visible=!0,O.data=[{identity:oe(),name:o("name.unnamed"),content:V,importIdentity:fa(V.request.url),intro:V.request.url}]}}return(w,C)=>(c(),v("span",null,[(c(),R(Ee(p[w.type]),pe(w.$attrs,{"is-has-download":h.value,onCopyHar:r,onCopyUrl:u,onNewTab:f,onExportHar:m,onDownload:b,onDelete:F,onSaveToPoster:x}),null,16,["is-has-download"])),_(ma,{title:l(o)("har.work.exportToUseful"),visible:O.visible,"onUpdate:visible":C[0]||(C[0]=D=>O.visible=D),data:O.data,"to-module":l(Pe).Poster},null,8,["title","visible","data","to-module"])]))}}),ba={class:"tw-mr-2"},ka={class:"har-status"},wa={class:"har-status__label"},ga=["title"],Da=["title"],Oa=["innerHTML"],$a={class:"har-work"},Fa={name:"HarItem"},xa=S({...Fa,props:{itemData:{},top:{}},emits:["detail","saveToUseful"],setup(e,{emit:s}){const a=e,p=q("storeItemData"),i=B({get:()=>p.list.selected.includes(a.itemData.identity),set:r=>{const u=a.itemData.identity;if(r){const f=new Set([...p.list.selected,u]);p.list.selected=Array.from(f)}else{const f=$t(p.list.selected,m=>m===u);f>-1&&p.list.selected.splice(f,1)}}});function d(){s("detail",a.itemData.identity)}function h(){s("saveToUseful",a.itemData.identity)}return(r,u)=>{var f,m,b,F,O,x,w,C;return c(),v("div",{class:"har-list-block",style:tt({top:`${r.top}px`})},[t("div",{class:et(["har-list-item",{"har-list-item__linked":l(p).list.detailIdentity===r.itemData.identity}])},[t("div",ba,[_(Re,{checked:i.value,"onUpdate:checked":u[0]||(u[0]=D=>i.value=D)},null,8,["checked"])]),t("div",{class:"har-list-left",onClick:d},[t("div",ka,[_(ut,{color:"green"}),t("span",wa,n(((m=(f=r.itemData.http)==null?void 0:f.response)==null?void 0:m.status)||"-"),1)]),t("div",{class:"har-type",title:((O=(F=(b=r.itemData.http)==null?void 0:b.response)==null?void 0:F.content)==null?void 0:O.mimeType)||"-"},n(((C=(w=(x=r.itemData.http)==null?void 0:x.response)==null?void 0:w.content)==null?void 0:C.mimeType)||"-"),9,ga),t("div",{class:"har-url",title:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},[t("span",{innerHTML:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},null,8,Oa)],8,Da)]),t("div",$a,[_(ze,pe(r.$attrs,{type:l(ke).Dropdown,identity:r.itemData.identity,onDetail:d,onSaveToPoster:h}),null,16,["type","identity"])])],2)],4)}}});const Ca=z(xa,[["__scopeId","data-v-7e0014e9"]]);var Sa=typeof global=="object"&&global&&global.Object===Object&&global;const Ta=Sa;var Ha=typeof self=="object"&&self&&self.Object===Object&&self,qa=Ta||Ha||Function("return this")();const Je=qa;var Ia=Je.Symbol;const be=Ia;var Xe=Object.prototype,Ua=Xe.hasOwnProperty,Aa=Xe.toString,ue=be?be.toStringTag:void 0;function Pa(e){var s=Ua.call(e,ue),a=e[ue];try{e[ue]=void 0;var p=!0}catch{}var i=Aa.call(e);return p&&(s?e[ue]=a:delete e[ue]),i}var Ma=Object.prototype,Wa=Ma.toString;function Ra(e){return Wa.call(e)}var ja="[object Null]",Na="[object Undefined]",He=be?be.toStringTag:void 0;function La(e){return e==null?e===void 0?Na:ja:He&&He in Object(e)?Pa(e):Ra(e)}function Ba(e){return e!=null&&typeof e=="object"}var Va="[object Symbol]";function za(e){return typeof e=="symbol"||Ba(e)&&La(e)==Va}var Ja=/\s/;function Xa(e){for(var s=e.length;s--&&Ja.test(e.charAt(s)););return s}var Ga=/^\s+/;function Ka(e){return e&&e.slice(0,Xa(e)+1).replace(Ga,"")}function Fe(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}var qe=0/0,Qa=/^[-+]0x[0-9a-f]+$/i,Ya=/^0b[01]+$/i,Za=/^0o[0-7]+$/i,Ea=parseInt;function Ie(e){if(typeof e=="number")return e;if(za(e))return qe;if(Fe(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=Fe(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=Ka(e);var a=Ya.test(e);return a||Za.test(e)?Ea(e.slice(2),a?2:8):Qa.test(e)?qe:+e}var es=function(){return Je.Date.now()};const $e=es;var ts="Expected a function",as=Math.max,ss=Math.min;function ls(e,s,a){var p,i,d,h,r,u,f=0,m=!1,b=!1,F=!0;if(typeof e!="function")throw new TypeError(ts);s=Ie(s)||0,Fe(a)&&(m=!!a.leading,b="maxWait"in a,d=b?as(Ie(a.maxWait)||0,s):d,F="trailing"in a?!!a.trailing:F);function O(g){var j=p,J=i;return p=i=void 0,f=g,h=e.apply(J,j),h}function x(g){return f=g,r=setTimeout(D,s),m?O(g):h}function w(g){var j=g-u,J=g-f,_e=s-j;return b?ss(_e,d-J):_e}function C(g){var j=g-u,J=g-f;return u===void 0||j>=s||j<0||b&&J>=d}function D(){var g=$e();if(C(g))return V(g);r=setTimeout(D,w(g))}function V(g){return r=void 0,F&&p?O(g):(p=i=void 0,h)}function I(){r!==void 0&&clearTimeout(r),f=0,p=u=i=r=void 0}function U(){return r===void 0?h:V($e())}function T(){var g=$e(),j=C(g);if(p=arguments,i=this,u=g,j){if(r===void 0)return x(u);if(b)return clearTimeout(r),r=setTimeout(D,s),O(u)}return r===void 0&&(r=setTimeout(D,s)),h}return T.cancel=I,T.flush=U,T}function ns(e,s,a=1e3){const p=Q([]),i=Q(!0);fe(()=>s.value,()=>{const{rowItemAmount:m,listData:b,rowHeight:F}=s.value,O=[];for(let x=0;x<b.length;x+=1){const w=Math.floor(x/m);O.push({value:b[x],top:w*F})}p.value=O},{deep:!0,immediate:!0});let d=null;const h=Q(0),r=Q(0),u=xe({begin:0,end:0+a}),f=ls(m=>{var b;h.value=((b=m.target)==null?void 0:b.scrollTop)||0,u.begin=h.value-a,u.end=h.value+r.value+a},200);return fe(()=>r.value,m=>{u.begin=h.value-a,u.end=h.value+m+a}),at(()=>{st(()=>{d=document.getElementById(e),r.value=(d==null?void 0:d.clientHeight)||0,u.end=r.value+a,d.addEventListener("resize",()=>{r.value=(d==null?void 0:d.clientHeight)||0}),i&&d.addEventListener("scroll",f)})}),lt(()=>{f.cancel()}),{wrapData:p,scrollTop:h,showArea:u}}const os={class:"har-work-batch"},is={class:"tw-text-sm"},rs={class:"tw-text-sm"},us={class:"tw-text-sm"},ds={class:"tw-text-sm"},cs={name:"HarBatchWork"},ps=S({...cs,setup(e){const s=q("storeItemData");function a(r=!1){const{selected:u,requests:f}=s.list,m=[];return K(u)?X(G.Warning,o("notice.selectEmpty")):M(f,b=>{if(u.includes(b.identity)&&(r&&b.type===k.WebSocket||m.push(b.http)),u.length===m.length)return!1}),m}function p(){const r=a();K(r)||ie(JSON.stringify(ye([...r])),!0)}function i(){const r=a();K(r)||Le(JSON.stringify(ye([...r])),"poster.har")}function d(){const r=a(!0),u=chrome;u&&!K(r)&&u.permissions.request({permissions:["downloads"]},f=>{f?M(r,m=>{u.downloads.download({url:m.request.url})}):X(G.Warning,o("notice.noAuth"))})}function h(){s.list.requests=[]}return(r,u)=>(c(),v("div",os,[t("span",{onClick:p},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",is,n(l(o)("har.batch.copyHar")),1)]),_:1})]),t("span",{onClick:i},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).ExportOutlined},null,8,["type"])]),default:y(()=>[t("span",rs,n(l(o)("har.batch.exportHar")),1)]),_:1})]),t("span",{onClick:d},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).DownloadOutlined},null,8,["type"])]),default:y(()=>[t("span",us,n(l(o)("har.batch.downloadFile")),1)]),_:1})]),t("span",{onClick:h},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).ClearOutlined},null,8,["type"])]),default:y(()=>[t("span",ds,n(l(o)("har.batch.clearHar")),1)]),_:1})])]))}});const _s=z(ps,[["__scopeId","data-v-b219182a"]]),hs={class:"editor-step2"},vs={class:"tw-mb-4 tw-flex tw-justify-between"},ms={class:"tw-flex tw-items-center tw-justify-between"},fs={class:"tw-font-bold"},ys={class:"tw-ml-4 tw-text-sm"},bs={class:"tw-mb-4 tw-flex tw-justify-between"},ks={class:"har-list",id:"har-list"},ws={name:"HarImportStep2"},gs=S({...ws,emits:["step1"],setup(e,{emit:s}){const a=q("storeItemData"),p=Q([]);let i;function d(){const F=[],{search:{status:O,url:x,type:w},requests:C}=a.list;M(C,D=>{const{status:V,type:I,http:U}=D;let T=!0;if(D.urlHighLight="",T&&!K(O)&&!O.includes(V)&&(T=!1),T&&!K(w)&&!w.includes(I)&&(T=!1),T&&x)if(U.request.url.indexOf(x)===-1)T=!1;else{i||(i=new ct({color:"#FFFF00",tag:"font"}));const g=i.search(U.request.url,x);g.isMatch&&(D.urlHighLight=g.highlightStr)}T&&F.push(D)}),p.value=F}const h=B(()=>({listData:p.value,rowItemAmount:1,rowHeight:44})),{wrapData:r,showArea:u}=ns("har-list",h),f=dt(d,500);fe(()=>[a.list.search,a.list.requests],()=>f(),{immediate:!0,deep:!0});function m(F){a.list.detailIdentity=F}function b(){s("step1")}return(F,O)=>(c(),v("div",hs,[t("div",vs,[t("div",ms,[t("span",fs,n(l(o)("har.import.step2.title")),1),t("span",ys,n(l(o)("har.import.step2.amount"))+": "+n(l(r).length),1),t("span",null,[_(_s)])]),t("div",null,[_(Ne,{onClick:b,type:"primary",name:l(o)("har.import.step2.confirm")},null,8,["name"])])]),t("div",bs,[_(zt)]),t("div",ks,[(c(!0),v(Y,null,te(l(r),x=>(c(),v(Y,{key:x.value.identity},[x.top>=l(u).begin&&x.top<=l(u).end?(c(),R(Ca,{key:0,top:x.top,"item-data":x.value,onDetail:m},null,8,["top","item-data"])):P("",!0)],64))),128))])]))}});const Ds=z(gs,[["__scopeId","data-v-ec5d83e9"]]),Os={class:"tw-h-full"},$s={class:"har-import"},Fs={class:"tw-flex tw-justify-center tw-my-6 tw-w-full"},xs={class:"tw-w-full tw-mx-10"},Cs={name:"HarImport"},Ss=S({...Cs,setup(e){const s=q("storeItemData"),a=[{value:"1",label:o("har.import.step1.name"),description:""},{value:"2",label:o("har.import.step2.name"),description:""}];return(p,i)=>(c(),v("div",Os,[t("h3",null,n(l(o)("har.import.label")),1),t("div",$s,[t("div",Fs,[t("div",xs,[_(ft,{step:l(s).step,steps:a},null,8,["step"])])]),l(s).step===0?(c(),R(At,{key:0,onStep2:i[0]||(i[0]=()=>l(s).step=1)})):P("",!0),l(s).step===1?(c(),R(Ds,{key:1,onStep1:i[1]||(i[1]=()=>l(s).step=0)})):P("",!0)])]))}});const Ts=z(Ss,[["__scopeId","data-v-84e88375"]]),Hs={class:"har-detail-item"},qs={class:"har-detail-item_block"},Is={class:"har-detail-item_kv"},Us={class:"har-detail-item_block"},As={class:"har-detail-item_li"},Ps={class:"har-detail-item_block"},Ms={key:0,class:"har-detail-item_li"},Ws={key:1,class:"har-detail-item_empty"},Rs={class:"har-detail-item_block"},js={class:"har-detail-item_kv"},Ns={name:"HarDetailRequest"},Ls=S({...Ns,setup(e){const s=q("harDetailData"),a=B(()=>{const{request:p,startedDateTime:i,serverIPAddress:d}=s.value;return{startedDateTime:i,serverIPAddress:d,request:p}});return(p,i)=>(c(),v("div",Hs,[t("div",null,n(l(o)("har.detail.request.title"))+" "+n(a.value.startedDateTime),1),t("div",qs,[t("h4",null,n(l(o)("har.detail.request.normal"))+"\uFF1A",1),t("div",Is,[t("div",null,[t("span",null,n(l(o)("har.detail.request.url"))+"\uFF1A",1),$(" "+n(a.value.request.url),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.version"))+": ",1),$(" "+n(a.value.request.httpVersion),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.method"))+": ",1),$(" "+n(a.value.request.method),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.remote"))+"\uFF1A",1),$(" "+n(a.value.serverIPAddress),1)])])]),t("div",Us,[t("h4",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),t("div",As,[t("ul",null,[(c(!0),v(Y,null,te(a.value.request.headers,d=>(c(),v("li",null,[t("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])]),t("div",Ps,[t("h4",null,n(l(o)("har.detail.request.queryParam"))+"\uFF1A",1),a.value.request.queryString&&a.value.request.queryString.length>0?(c(),v("div",Ms,[t("ul",null,[(c(!0),v(Y,null,te(a.value.request.queryString,d=>(c(),v("li",null,[t("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])):(c(),v("div",Ws,n(l(o)("har.detail.request.noQueryString")),1))]),t("div",Rs,[t("h4",null,n(l(o)("har.detail.request.size"))+"\uFF1A",1),t("div",js,[t("div",null,[t("span",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),$(" "+n(a.value.request.headersSize),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.request.content"))+"\uFF1A",1),$(" "+n(a.value.request.bodySize),1)])])])]))}}),Bs={class:"har-detail-item"},Vs={class:"har-detail-item_block"},zs={class:"har-detail-item_kv"},Js={class:"har-detail-item_block"},Xs={class:"har-detail-item_li"},Gs={class:"har-detail-item_block"},Ks={class:"har-detail-item_kv"},Qs={name:"HarDetailResponse"},Ys=S({...Qs,setup(e){const s=q("harDetailData"),a=B(()=>{const{response:p,startedDateTime:i,serverIPAddress:d}=s.value;return{response:p}});return(p,i)=>(c(),v("div",Bs,[t("div",null,n(l(o)("har.detail.response.title")),1),t("div",Vs,[t("h4",null,n(l(o)("har.detail.response.full"))+"\uFF1A",1),t("div",zs,[t("div",null,[t("span",null,n(a.value.response.status),1),$(" "+n(a.value.response.statusText)+" "+n(a.value.response.httpVersion),1)])])]),t("div",Js,[t("h4",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),t("div",Xs,[t("ul",null,[(c(!0),v(Y,null,te(a.value.response.headers,d=>(c(),v("li",null,[t("span",null,n(d.name),1),$(" "+n(d.value),1)]))),256))])])]),t("div",Gs,[t("h4",null,n(l(o)("har.detail.response.size"))+"\uFF1A",1),t("div",Ks,[t("div",null,[t("span",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),$(" "+n(a.value.response.headersSize),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.response.content"))+"\uFF1A",1),$(" "+n(a.value.response.bodySize),1)])])])]))}}),Zs={class:"har-detail-item_li"},Es={key:0},el={key:1},tl={key:2},al={key:3},sl={key:4},ll={key:5},nl={key:6},ol={name:"HarDetailCookieItem"},Ue=S({...ol,props:{cookie:{}},setup(e){return(s,a)=>(c(),v("div",null,[t("h5",null,n(s.cookie.name),1),t("div",Zs,[t("ul",null,[s.cookie.value?(c(),v("li",Es,[t("span",null,n(l(o)("har.detail.cookie.value")),1),$(" "+n(s.cookie.value),1)])):P("",!0),s.cookie.path?(c(),v("li",el,[t("span",null,n(l(o)("har.detail.cookie.path")),1),$(" "+n(s.cookie.path),1)])):P("",!0),s.cookie.domain?(c(),v("li",tl,[t("span",null,n(l(o)("har.detail.cookie.domain")),1),$(" "+n(s.cookie.domain),1)])):P("",!0),s.cookie.expires?(c(),v("li",al,[t("span",null,n(l(o)("har.detail.cookie.expires")),1),$(" "+n(s.cookie.expires),1)])):P("",!0),s.cookie.expires?(c(),v("li",sl,[t("span",null,n(l(o)("har.detail.cookie.httpOnly")),1),$(" "+n(s.cookie.httpOnly),1)])):P("",!0),s.cookie.expires?(c(),v("li",ll,[t("span",null,n(l(o)("har.detail.cookie.secure")),1),$(" "+n(s.cookie.secure),1)])):P("",!0),s.cookie.expires?(c(),v("li",nl,[t("span",null,n(l(o)("har.detail.cookie.sameSite")),1),$(" "+n(s.cookie.sameSite),1)])):P("",!0)])])]))}}),il={class:"har-detail-item"},rl={class:"har-detail-item_block"},ul={key:1,class:"har-detail-item_empty"},dl={class:"har-detail-item_block"},cl={key:1,class:"har-detail-item_empty"},pl={name:"HarDetailCookie"},_l=S({...pl,setup(e){const s=q("harDetailData"),a=B(()=>{const{request:p,response:i}=s.value;return{response:i,request:p}});return(p,i)=>(c(),v("div",il,[t("div",null,n(l(o)("har.detail.cookie.title")),1),t("div",rl,[t("h4",null,n(l(o)("har.detail.cookie.request"))+"\uFF1A",1),a.value.request.cookies&&a.value.request.cookies.length>0?(c(!0),v(Y,{key:0},te(a.value.request.cookies,d=>(c(),v("div",null,[_(Ue,{cookie:d},null,8,["cookie"])]))),256)):(c(),v("div",ul,n(l(o)("har.detail.cookie.noCookie")),1))]),t("div",dl,[t("h4",null,n(l(o)("har.detail.cookie.response"))+"\uFF1A",1),a.value.response.cookies&&a.value.response.cookies.length>0?(c(!0),v(Y,{key:0},te(a.value.response.cookies,d=>(c(),v("div",null,[_(Ue,{cookie:d},null,8,["cookie"])]))),256)):(c(),v("div",cl,n(l(o)("har.detail.cookie.noCookie")),1))])]))}}),hl={class:"har-detail-item"},vl={class:"har-detail-item_block"},ml={class:"har-detail-item_kv"},fl={name:"HarDetailTime"},yl=S({...fl,setup(e){const s=q("harDetailData"),a=B(()=>{const{timings:p}=s.value;return{timings:p}});return(p,i)=>(c(),v("div",hl,[t("div",null,n(l(o)("har.detail.timings.title")),1),t("div",vl,[t("div",ml,[t("div",null,[t("span",null,n(l(o)("har.detail.timings.blocked"))+"\uFF1A",1),$(" "+n(a.value.timings.blocked),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.dns"))+": ",1),$(" "+n(a.value.timings.dns),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.connect"))+": ",1),$(" "+n(a.value.timings.connect),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.send"))+"\uFF1A",1),$(" "+n(a.value.timings.send),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.wait"))+"\uFF1A",1),$(" "+n(a.value.timings.wait),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.receive"))+"\uFF1A",1),$(" "+n(a.value.timings.receive),1)]),t("div",null,[t("span",null,n(l(o)("har.detail.timings.ssl"))+"\uFF1A",1),$(" "+n(a.value.timings.ssl),1)])])])]))}}),bl={class:"har-detail-item"},kl={class:"har-detail-item_block"},wl={class:"har-detail-item_content"},gl={class:"har-detail-item_block"},Dl={class:"har-detail-item_content"},Ol={class:"har-detail-item_block"},$l={class:"har-detail-item_content"},Fl={class:"har-detail-item_block"},xl={class:"har-detail-item-title_copy"},Cl={key:0,class:"har-detail-item_content"},Sl={key:1,class:"har-detail-item_empty"},Tl={name:"HarDetailContent"},Hl=S({...Tl,setup(e){const s=q("harDetailData"),a=B(()=>{const{response:{content:i}}=s.value;return{content:i}});function p(){a.value.content.text&&ie(a.value.content.text)}return(i,d)=>(c(),v("div",bl,[t("div",null,n(l(o)("har.detail.content.title")),1),t("div",kl,[t("h4",null,n(l(o)("har.detail.content.size"))+"\uFF1A",1),t("div",wl,n(a.value.content.size),1)]),t("div",gl,[t("h4",null,n(l(o)("har.detail.content.zip"))+"\uFF1A",1),t("div",Dl,n(a.value.content.compression),1)]),t("div",Ol,[t("h4",null,n(l(o)("har.detail.content.mime"))+"\uFF1A",1),t("div",$l,n(a.value.content.mimeType),1)]),t("div",Fl,[t("div",xl,[t("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),a.value.content.text?(c(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:p},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a.value.content.text?(c(),v("div",Cl,n(a.value.content.text),1)):(c(),v("div",Sl,n(l(o)("har.detail.content.noContent")),1))])]))}}),ql={class:"har-detail-item"},Il={class:"har-detail-item_block"},Ul={class:"har-detail-item_content"},Al={key:0,class:"har-detail-item_block"},Pl={class:"har-detail-item_li"},Ml={class:"har-detail-item_block"},Wl={class:"har-detail-item-title_copy"},Rl={key:0,class:"har-detail-item_content"},jl={key:1,class:"har-detail-item_empty"},Nl={name:"HarDetailPost"},Ll=S({...Nl,setup(e){const s=q("harDetailData"),a=B(()=>{const{request:i}=s.value;let d={mimeType:"",text:""};return i.postData&&(d=i.postData),{postData:d}});function p(){a.value.postData.text&&ie(a.value.postData.text)}return(i,d)=>(c(),v("div",ql,[t("div",null,n(l(o)("har.detail.post.title")),1),t("div",Il,[t("h4",null,n(l(o)("har.detail.post.mime"))+"\uFF1A",1),t("div",Ul,n(a.value.postData.mimeType),1)]),a.value.postData.params?(c(),v("div",Al,[t("h4",null,n(l(o)("har.detail.post.params"))+"\uFF1A",1),t("div",Pl,[t("ul",null,[(c(!0),v(Y,null,te(a.value.postData.params,h=>(c(),v("li",null,[t("span",null,n(h.name),1),$(" "+n(h.value),1)]))),256))])])])):P("",!0),t("div",Ml,[t("div",Wl,[t("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),a.value.postData.text?(c(),v("span",{key:0,class:"tw-ml-1 tw-cursor-pointer",onClick:p},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a.value.postData.text?(c(),v("div",Rl,n(a.value.postData.text),1)):(c(),v("div",jl,n(l(o)("har.detail.post.noText")),1))])]))}}),Bl={class:"har-detail-origin"},Vl={class:"har-detail-origin_title"},zl={class:"har-detail-origin_content"},Jl={name:"HarDetailOrigin"},Xl=S({...Jl,props:{origin:{}},setup(e){const s=e,a=Q(JSON.stringify(s.origin,null,4)),p=Q(!1);function i(){ie(a.value,!0)}return(d,h)=>(c(),v("div",Bl,[t("div",Vl,[t("div",null,[t("span",null,n(l(o)("har.detail.source.label")),1),d.origin?(c(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:i},[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).CopyOutlined},null,8,["type"])]),default:y(()=>[t("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t("span",null,[_(Re,{checked:p.value,"onUpdate:checked":h[0]||(h[0]=r=>p.value=r),name:l(o)("format.header.useEditor")},null,8,["checked","name"])])]),t("div",zl,[p.value?(c(),R(je,{key:0,mode:"application/json",value:a.value,"onUpdate:value":h[1]||(h[1]=r=>a.value=r),theme:l(Ae)[l(N).theme.current]},null,8,["value","theme"])):(c(),v(Y,{key:1},[$(n(a.value),1)],64))])]))}});const Gl=z(Xl,[["__scopeId","data-v-691bf8d6"]]),Kl={class:"tw-h-full"},Ql={class:"tw-flex tw-justify-between tw-items-center"},Yl={class:"tw-h-full"},Zl={key:1,class:"tw-flex tw-items-center tw-justify-center tw-h-full tw-w-full"},El={name:"HarDetail"},en=S({...El,setup(e){const s=q("storeItemData"),a=Q({});function p(){M(s.list.requests,h=>{var f;const{identity:r,http:u}=h;if(((f=s.list)==null?void 0:f.detailIdentity)===r)return a.value=u,!1})}H("harDetailData",a),fe(()=>{var h;return(h=s.list)==null?void 0:h.detailIdentity},()=>p(),{immediate:!0});const i=B(()=>{var r;const h=[{label:o("har.detail.request.label"),value:"Request"},{label:o("har.detail.response.label"),value:"Response"},{label:o("har.detail.content.label"),value:"Content"},{label:o("har.detail.cookie.label"),value:"Cookie"},{label:o("har.detail.timings.label"),value:"Timeline"},{label:o("har.detail.source.label"),value:"Source"}];return(r=a.value.request)!=null&&r.postData&&h.splice(1,0,{label:o("har.detail.post.label"),value:"Post"}),h}),d=Q("Request");return(h,r)=>(c(),v("div",Kl,[t("div",Ql,[t("h3",null,n(l(o)("har.analysis.label")),1),l(s).list.detailIdentity&&!l(K)(a.value)?(c(),R(ze,{key:0,identity:l(s).list.detailIdentity,type:l(ke).Icon},null,8,["identity","type"])):P("",!0)]),t("div",Yl,[l(s).list.detailIdentity&&!l(K)(a.value)?(c(),R(We,{key:0,tabs:i.value,active:d.value,"onUpdate:active":r[0]||(r[0]=u=>d.value=u)},{Source:y(()=>[_(Gl,{origin:a.value},null,8,["origin"])]),Post:y(()=>[_(Ll)]),Request:y(()=>[_(Ls)]),Response:y(()=>[_(Ys)]),Content:y(()=>[_(Hl)]),Cookie:y(()=>[_(_l)]),Timeline:y(()=>[_(yl)]),_:1},8,["tabs","active"])):(c(),v("div",Zl,[_(Dt,{msg:l(o)("har.analysis.notice.chooseRequest")},null,8,["msg"])]))])]))}});const tn=z(en,[["__scopeId","data-v-8bd0c376"]]),an={class:"har-editor"},sn={class:"tw-border-r tw-border-neutral-3"},ln={name:"HarEditor"},nn=S({...ln,setup(e){const s=q("contentIdentity"),a=q("contentName");return Ft(de,s,["content"],a),H("storeItemData",de.item[s.value].content),(p,i)=>(c(),v("div",an,[t("div",sn,[_(Ts)]),t("div",null,[(c(),R(tn,{key:l(s)}))])]))}});const on=z(nn,[["__scopeId","data-v-8c019044"]]),rn={class:"warp_bigger har_area"},un={key:0,class:"show_area"},dn={class:"tw-text-sm"},cn={class:"tw-flex tw-justify-end tw-items-center"},pn={key:0},_n={class:"tw-ml-2"},hn={name:"ModuleHar"},vn=S({...hn,setup(e){const s=q("storeIDB"),a=B(()=>{switch(N.os){case ve.Mac:return o("coding.notice.quick.mac");case ve.Linux:case ve.Unix:case ve.Win:default:return o("coding.notice.quick.win")}}),{curIsSaved:p,curContentIdentity:i,curContentName:d,curContentFolderIdentity:h,curFolders:r,curHistoryFolders:u,addFolder:f,renameFolder:m,deleteFolder:b,sortFolder:F,createContent:O,saveContent:x,showContent:w,renameContent:C,copyContent:D,deleteContent:V,autoSaveContent:I,importContent:U,getContent:T,saveFolder:g,saveContentItem:j}=bt(s,xt,de,Ct());H("contentIsSaved",p),H("contentFolderIdentity",h),H("contentIdentity",i),H("contentName",d),H("historyFolders",u),H("folders",r),H("addFolder",f),H("renameFolder",m),H("deleteFolder",b),H("showContent",w),H("copyContent",D),H("renameContent",C),H("deleteContent",V),H("sortFolder",F),H("saveContent",x),H("autoSaveContent",I),H("getContent",T),H("saveFolder",g),H("saveContentItem",j);function J(){O()}function _e(we){N.loading=!0;const{name:Z,content:ae,isSave:Ge,folderIdentity:Ke}=we;U(Z,ae,Ge,Ke,me).then(()=>{N.loading=!1}).catch(()=>{N.loading=!1})}return(we,Z)=>(c(),v("div",rn,[_(mt,{collapse:l(N).historyDrawer.collapse,"onUpdate:collapse":Z[2]||(Z[2]=ae=>l(N).historyDrawer.collapse=ae),history:l(N).historyDrawer,suffix:l(me)},{default:y(()=>[l(i)?(c(),v("div",un,[_(it,{title:l(o)(`module.${l(N).module}`),contentName:l(d),"onUpdate:contentName":Z[1]||(Z[1]=ae=>nt(d)?d.value=ae:null),"is-has-name":!0},{titleLeft:y(()=>[_(L,null,{anchor:y(()=>[_(W,{type:l(ee).ExclamationCircleOutlined,size:"sm"},null,8,["type"])]),default:y(()=>[t("span",dn,n(a.value),1)]),_:1})]),titleRight:y(()=>[t("div",cn,[l(i)?(c(),v("span",pn,[_(pt,{"store-item-data":l(de).item[l(i)]},null,8,["store-item-data"])])):P("",!0),t("span",_n,[_(_t,{"support-types":["text/plain"],accept:[l(me)],"store-item-data":l(de).item[l(i)],suffix:l(me),onSelect:J,onContent:_e},null,8,["accept","store-item-data","suffix"])]),_(ht,pe({class:"tw-ml-2"},we.$attrs),null,16),l(N).historyDrawer.collapse?(c(),R(vt,{key:1,class:"tw-ml-2",visible:l(N).historyDrawer.visible,"onUpdate:visible":Z[0]||(Z[0]=ae=>l(N).historyDrawer.visible=ae)},null,8,["visible"])):P("",!0)])]),default:y(()=>[(c(),R(on,{key:l(i)}))]),_:1},8,["title","contentName"])])):P("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const mn=z(vn,[["__scopeId","data-v-7af85022"]]),ao=S({__name:"Har",setup(e){return(s,a)=>(c(),R(mn))}});export{ao as default};
