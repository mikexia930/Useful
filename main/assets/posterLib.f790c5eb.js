import{q as ae,bh as m,g as oe,Y as B,aj as v}from"./index.79304341.js";import{g as D}from"./randomLib.04c6c9cc.js";import{t as I}from"./DResult.vue_vue_type_script_setup_true_lang.8cfe68f1.js";const P=ae({envs:{},folders:[],item:{}});var f=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.COPY="COPY",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.LINK="LINK",e.UNLINK="UNLINK",e))(f||{}),T=(e=>(e.Auth="auth",e.HEADER="header",e.QUERY="query",e.POST="post",e))(T||{}),u=(e=>(e.None="none",e.FormData="form-data",e.XWWWFormUrlEncode="x-www-form-urlencoded",e.Raw="raw",e))(u||{}),N=(e=>(e.Text="Text",e.File="File",e))(N||{}),x=(e=>(e.Plain="Plain",e.XML="Xml",e.Json="Json",e.Html="Html",e))(x||{}),j=(e=>(e.String="String",e.Number="Number",e.Float="Float",e.Integer="Integer",e.Object="Object",e.Array="Array",e.File="File",e.Boolean="Boolean",e.Date="Date",e.Function="Function",e.RegExp="RegExp",e.Undefined="Undefined",e.NaN="NaN",e.Null="Null",e))(j||{}),C=(e=>(e.No="no",e.Basic="basic",e.Bearer="bearer",e))(C||{}),z=(e=>(e.Response="response",e.RequestHeader="requestHeader",e.ResponseHeader="responseHeader",e))(z||{}),K=(e=>(e.Wait="wait",e.Cancel="cancel",e.Success="success",e.ErrResponse="errResponse",e.NoResponse="noResponse",e.NoNetwork="noNetwork",e.Err="err",e))(K||{});const X="3.7.5",ne=X,se=typeof atob=="function",ie=typeof btoa=="function",h=typeof Buffer=="function",S=typeof TextDecoder=="function"?new TextDecoder:void 0,O=typeof TextEncoder=="function"?new TextEncoder:void 0,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=Array.prototype.slice.call(ce),U=(e=>{let t={};return e.forEach((r,a)=>t[r]=a),t})(g),fe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),H=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Y=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Z=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),q=e=>{let t,r,a,n,o="";const i=e.length%3;for(let c=0;c<e.length;){if((r=e.charCodeAt(c++))>255||(a=e.charCodeAt(c++))>255||(n=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=r<<16|a<<8|n,o+=g[t>>18&63]+g[t>>12&63]+g[t>>6&63]+g[t&63]}return i?o.slice(0,i-3)+"===".substring(i):o},k=ie?e=>btoa(e):h?e=>Buffer.from(e,"binary").toString("base64"):q,w=h?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let a=0,n=e.length;a<n;a+=4096)r.push(s.apply(null,e.subarray(a,a+4096)));return k(r.join(""))},y=(e,t=!1)=>t?Y(w(e)):w(e),le=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|t&63):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|t&63)}},de=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,E=e=>e.replace(de,le),L=h?e=>Buffer.from(e,"utf8").toString("base64"):O?e=>w(O.encode(e)):e=>k(E(e)),b=(e,t=!1)=>t?Y(L(e)):L(e),W=e=>b(e,!0),ue=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,xe=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return s((r>>>10)+55296)+s((r&1023)+56320);case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},G=e=>e.replace(ue,xe),$=e=>{if(e=e.replace(/\s+/g,""),!fe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",a,n;for(let o=0;o<e.length;)t=U[e.charAt(o++)]<<18|U[e.charAt(o++)]<<12|(a=U[e.charAt(o++)])<<6|(n=U[e.charAt(o++)]),r+=a===64?s(t>>16&255):n===64?s(t>>16&255,t>>8&255):s(t>>16&255,t>>8&255,t&255);return r},F=se?e=>atob(Z(e)):h?e=>Buffer.from(e,"base64").toString("binary"):$,J=h?e=>H(Buffer.from(e,"base64")):e=>H(F(e).split("").map(t=>t.charCodeAt(0))),Q=e=>J(V(e)),be=h?e=>Buffer.from(e,"base64").toString("utf8"):S?e=>S.decode(J(e)):e=>G(F(e)),V=e=>Z(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),_=e=>be(V(e)),he=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},M=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),ee=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,M(r));e("fromBase64",function(){return _(this)}),e("toBase64",function(t){return b(this,t)}),e("toBase64URI",function(){return b(this,!0)}),e("toBase64URL",function(){return b(this,!0)}),e("toUint8Array",function(){return Q(this)})},te=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,M(r));e("toBase64",function(t){return y(this,t)}),e("toBase64URI",function(){return y(this,!0)}),e("toBase64URL",function(){return y(this,!0)})},pe=()=>{ee(),te()},ge={version:X,VERSION:ne,atob:F,atobPolyfill:$,btoa:k,btoaPolyfill:q,fromBase64:_,toBase64:b,encode:b,encodeURI:W,encodeURL:W,utob:E,btou:G,decode:_,isValid:he,fromUint8Array:y,toUint8Array:Q,extendString:ee,extendUint8Array:te,extendBuiltins:pe};var re=(e=>(e.Origin="origin",e.Format="format",e))(re||{});const Pe=".poster",Ne=".posterenv",we={[m.Config]:"poster_config",[m.Env]:"poster_env",[m.Folder]:"poster_folder",[m.Content]:"poster_content"};function _e(){return{isSaved:0,content:{isRequesting:!1,remark:"",request:{identity:"",envIdentity:"no",isCollapse:!1,method:f.GET,url:"",paramTab:T.QUERY,auth:{type:C.No,basic:{username:"",password:""},bearer:{token:""}},header:[],query:[],post:{type:u.FormData,form:[],raw:{type:x.Plain,value:""}}},response:{datetime:"",time:0,tab:z.Response,resultTab:re.Origin,status:{value:K.Wait,message:oe("poster.response.notice.waitConnect"),code:0},headers:{request:[],response:[]},data:""}}}}function A(e,t){var o;let r=t;const a=/\{\{.*\}\}/gi,{envs:n}=P;if(e!=="no"&&((o=n==null?void 0:n[e])==null?void 0:o.params)){const i={};v(n[e].params,l=>{const{value:p,key:d}=l;i[`{{${d}}}`]=p});const c=t.match(a);c&&!B(c)&&v(c,l=>{r=r.replace(l,i[l])})}return r}function De(e){const{method:t,url:r,header:a,envIdentity:n}=P.item[e].content.request,o={headers:{},method:t,url:A(n,I(r)),identity:D()};switch(Ae(e,o),t){case f.GET:case f.HEAD:case f.OPTIONS:case f.COPY:o.params={};break;case f.POST:case f.PUT:case f.DELETE:case f.PATCH:case f.LINK:case f.UNLINK:Ue(e,o);break}return B(a)||(o.headers=ye(n,a)),o}function Ae(e,t){const{auth:r,envIdentity:a}=P.item[e].content.request,{type:n,basic:o,bearer:i}=r;switch(n){case C.Basic:o.username&&(t.headers={Authorization:"Basic "+ge.encode(`${o.username}:${A(a,o.password)}`)});break;case C.Bearer:i.token&&(t.headers={Authorization:"Bearer "+A(a,i.token)});break}}function me(e,t=void 0){let r="";switch(e){case u.None:r="text/plain";break;case u.FormData:r="multipart/form-data";break;case u.XWWWFormUrlEncode:r="application/x-www-form-urlencoded";break;case u.Raw:switch(t){case x.Plain:r="text/plain";break;case x.Html:r="text/html";break;case x.XML:r="text/xml";break;case x.Json:r="application/json";break}break}return r}function Ue(e,t){const{post:r,envIdentity:a}=P.item[e].content.request,{type:n,form:o,raw:i}=r;switch(t.headers["content-type"]=me(n,i.type),n){case u.FormData:t.data=R(a,o,!0);break;case u.XWWWFormUrlEncode:t.data=R(a,o);break;case u.Raw:t.data=i.value;break}}function ye(e,t,r=!1){const a={};return t&&!B(t)&&v(t,n=>{const{isUse:o,name:i,type:c,value:l,file:p}=n,d=I(i);o&&d&&(r&&c===N.File?a[d]=p||"":a[d]=l?A(e,l):"")}),a}function R(e,t,r=!1){const a=new FormData;return t&&!B(t)&&v(t,n=>{const{isUse:o,name:i,type:c,value:l,file:p}=n,d=I(i);o&&d&&(r&&c===N.File?a.append(d,p||""):a.append(d,l?A(e,l):""))}),a}function Ie(){return{identity:D(),isUse:!0,name:"",type:N.Text,value:"",isEssential:!1,fieldType:j.String,desc:""}}function ke(){return{identity:D(),key:"",value:""}}export{f as E,C as a,j as b,Ie as c,N as d,u as e,T as f,x as g,re as h,K as i,z as j,De as k,Ne as l,ke as m,_e as n,we as o,Pe as p,me as q,P as s};
