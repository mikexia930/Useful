import{f as h}from"./forEach.78ceb588.js";import{am as p,an as F}from"./index.286357e0.js";function m(t,e){return new Promise((n,o)=>{try{const i=document.createElement("a");if(i.setAttribute("href","data:text/plain;charset=UTF-8,"+encodeURIComponent(t)),i.setAttribute("download",e),i.style.display="none",document.createEvent){const a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),i.dispatchEvent(a)}else i.click();n("")}catch(i){o(i)}})}function $(t,e,n=""){return m(t,`${e}${n}`)}function b(t,e,n=""){const o=`<!DOCTYPE html><head><meta charset="UTF-8"><title>${e}</title></head><body>${t}</body></html>`;return m(o,`${e}${n}`)}function P(t,e){window.open(`#/preview/${t}/${e}`)}function g(t){return new Promise((e,n)=>{const o=new FileReader;o.readAsText(t,"utf-8"),o.onload=()=>{e(o.result)},o.onerror=i=>{n(i)}})}function C(t){let e="";const n=p(t,".");return n.length>1&&(e=`.${F(n[n.length-1])}`),e}function S(t,e){return new Promise((n,o)=>{var i;if(!((i=t==null?void 0:t.clipboardData)!=null&&i.items))o("");else{const a=t.clipboardData.items.length;for(let s=0;s<a;s++){const c=t.clipboardData.items[s],{kind:d,type:f}=c;if(d==="file"){let u=!1;if(h(e,l=>{if(!f||f.indexOf(l)>-1)return u=!0,!1}),u){const l=c.getAsFile();t.preventDefault(),g(l).then(r=>{n(r)}).catch(r=>{o(r),console.log("importFile-err",r)})}}}}})}var v=(t=>(t.MD="md",t.TXT="txt",t.HTML="html",t.PDF="pdf",t.CUSTOM="custom",t))(v||{});const T="PDFStorage";export{T as C,v as E,b as a,m as b,C as g,g as i,S as p,P as r,$ as s};
