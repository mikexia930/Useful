import{aF as U,aG as j,d as F,t as z,aY as w,s as x,b as p,M as A,u as D,N as H,U as L,_ as i,a as h,ad as g,L as W,aH as B,P as c,o as E,x as G}from"./index.1da778f9.js";import{K as S}from"./KeyCode.9e37adda.js";import{W as R}from"./DButton.vue_vue_type_script_setup_true_lang.7d1596b6.js";import{u as Y}from"./UIWithTitle.f8208f61.js";import{o as q}from"./DTooltip.63413dc2.js";var J=j("small","default"),Q=function(){return{id:String,prefixCls:String,size:c.oneOf(J),disabled:{type:Boolean,default:void 0},checkedChildren:c.any,unCheckedChildren:c.any,tabindex:c.oneOfType([c.string,c.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:c.oneOfType([c.string,c.number,c.looseBool]),checkedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!0),unCheckedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},X=F({name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:Q(),slots:["checkedChildren","unCheckedChildren"],setup:function(e,d){var u=d.attrs,s=d.slots,f=d.expose,o=d.emit,v=Y();z(function(){w(!("defaultChecked"in u),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),w(!("value"in u),"Switch","`value` is not validate prop, do you mean `checked`?")});var C=x(e.checked!==void 0?e.checked:u.defaultChecked),m=p(function(){return C.value===e.checkedValue});A(function(){return e.checked},function(){C.value=e.checked});var y=D("switch",e),t=y.prefixCls,T=y.direction,V=y.size,r=x(),b=function(){var n;(n=r.value)===null||n===void 0||n.focus()},I=function(){var n;(n=r.value)===null||n===void 0||n.blur()};f({focus:b,blur:I}),H(function(){L(function(){e.autofocus&&!e.disabled&&r.value.focus()})});var _=function(n,l){e.disabled||(o("update:checked",n),o("change",n,l),v.onFieldChange())},M=function(n){o("blur",n)},K=function(n){b();var l=m.value?e.unCheckedValue:e.checkedValue;_(l,n),o("click",l,n)},N=function(n){n.keyCode===S.LEFT?_(e.unCheckedValue,n):n.keyCode===S.RIGHT&&_(e.checkedValue,n),o("keydown",n)},O=function(n){var l;(l=r.value)===null||l===void 0||l.blur(),o("mouseup",n)},P=p(function(){var a;return a={},i(a,"".concat(t.value,"-small"),V.value==="small"),i(a,"".concat(t.value,"-loading"),e.loading),i(a,"".concat(t.value,"-checked"),m.value),i(a,"".concat(t.value,"-disabled"),e.disabled),i(a,t.value,!0),i(a,"".concat(t.value,"-rtl"),T.value==="rtl"),a});return function(){var a;return h(R,{insertExtraNode:!0},{default:function(){return[h("button",g(g(g({},q(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),u),{},{id:(a=e.id)!==null&&a!==void 0?a:v.id.value,onKeydown:N,onClick:K,onBlur:M,onMouseup:O,type:"button",role:"switch","aria-checked":C.value,disabled:e.disabled||e.loading,class:[u.class,P.value],ref:r}),[h("div",{class:"".concat(t.value,"-handle")},[e.loading?h(W,{class:"".concat(t.value,"-loading-icon")},null):null]),h("span",{class:"".concat(t.value,"-inner")},[m.value?B(s,e,"checkedChildren"):B(s,e,"unCheckedChildren")])])]}})}}});const Z=U(X),$={name:"DSwitch"},ue=F({...$,props:{checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(k,{emit:e}){const d=k,u=p({get:()=>d.checked,set:s=>e("update:checked",s)});return(s,f)=>{const o=Z;return E(),G(o,{checked:u.value,"onUpdate:checked":f[0]||(f[0]=v=>u.value=v)},null,8,["checked"])}}});export{ue as _};
