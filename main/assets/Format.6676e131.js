import{a as A,_ as X,d as pt}from"./Interface.adbaf245.js";import{_ as Y,a as ft,b as _t,c as vt,d as yt,e as bt,U as ht}from"./UICreateImport.vue_vue_type_script_setup_true_lang.e9d5def8.js";import{q as P,d as C,o as l,c as h,a as r,$ as t,g as d,M as kt,v as i,a0 as I,a1 as Z,x as F,bg as tt,a4 as g,K as O,R as N,s as $t,aq as q,w as B,y as x,z as wt,Z as W,bh as z,S as f,av as gt}from"./index.1da778f9.js";import{_ as J}from"./DButton.vue_vue_type_script_setup_true_lang.7d1596b6.js";import{D as et}from"./DCodeMirror.4be9c467.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";import{d as Ft,C as Ct,a as Ut,c as It,E as _,o as Dt,b as St,e as Bt}from"./operate.574c2277.js";import{d as H}from"./copyLib.da4e3454.js";import{u as Et}from"./ModuleAutoSaveLib.0fb4c3e5.js";import{_ as G,u as Ot,a as xt}from"./PortImport.vue_vue_type_script_setup_true_lang.2fc96ef8.js";import{_ as nt,U as Kt}from"./UIWithTitle.f8208f61.js";import{_ as ot}from"./DSelect.vue_vue_type_script_setup_true_lang.5279f391.js";import{_ as Rt}from"./DInputNumber.vue_vue_type_script_setup_true_lang.108db867.js";import"./DTooltip.63413dc2.js";import"./_baseIsEqual.74295246.js";import"./ModuleCollapsetLib.78fb6d31.js";import"./routeLib.b1a3bf91.js";import"./findIndex.4ace8958.js";import"./hasIn.49cbec25.js";import"./memoize.9cfb9d7d.js";import"./index.5aa88714.js";import"./KeyCode.9e37adda.js";import"./pick.5cf82e83.js";import"./_flatRest.4c2f6287.js";import"./styleChecker.0a18f775.js";import"./debounce.64b6b86f.js";import"./now.5c01924d.js";import"./trim.8795fa7a.js";import"./fileLib.ab21b4c9.js";import"./DSpin.61091bf0.js";import"./DResult.vue_vue_type_script_setup_true_lang.65015d34.js";import"./config.aa76b2c0.js";import"./codemirror.a85cc932.js";import"./index.85745b49.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./___vite-browser-external_commonjs-proxy.48040041.js";import"./randomLib.04c6c9cc.js";import"./stringify.15412eb9.js";const o=P({isUseEditor:!0,folders:[],item:{}});var R=(u=>(u.Origin="origin",u.Format="format",u))(R||{}),V=(u=>(u.Copy="copy",u.Reset="reset",u.Save="save",u))(V||{});const Vt={class:"format_btn"},zt={name:"FormatBtn"},st=C({...zt,props:{from:{}},emits:["btn"],setup(u,{emit:a}){const e=u;function n(c){a("btn",{from:e.from,work:c})}return(c,s)=>(l(),h("span",Vt,[r(J,{size:"small",type:"primary",name:t(d)("tags.copy"),onClick:s[0]||(s[0]=m=>n(t(V).Copy))},null,8,["name"]),r(J,{class:"tw-ml-1",size:"small",name:t(d)("tags.reset"),onClick:s[1]||(s[1]=m=>n(t(V).Reset))},null,8,["name"])]))}}),Mt={class:"content_side"},Pt={class:"data_title"},Nt={class:"data_content tw-h-full"},Jt={key:1,class:"tw-border tw-border-neutral-3 tw-h-full tw-relative"},Lt={name:"FormatLeft"},jt=C({...Lt,props:{contentIdentity:{}},setup(u){const a=u;return kt(()=>{var e,n,c;return(c=(n=(e=o.item)==null?void 0:e[a.contentIdentity])==null?void 0:n.content)==null?void 0:c.content},e=>{if(o.item[a.contentIdentity]){const{content:n}=o.item[a.contentIdentity];n.isJson=!1,n.format=e}}),(e,n)=>(l(),h("div",Mt,[i("div",Pt,[i("span",null,I(t(d)("format.originValue")),1),i("span",null,[r(st,Z(e.$attrs,{from:t(R).Origin}),null,16,["from"])])]),i("div",Nt,[t(o).isUseEditor?(l(),h("div",Jt,[r(et,{mode:"application/json","textarea-key":"format-left","is-use-format":!0,placeholder:t(d)("format.originValue"),value:t(o).item[e.contentIdentity].content.content,"onUpdate:value":n[1]||(n[1]=c=>t(o).item[e.contentIdentity].content.content=c),theme:t(tt)[t(g).theme.current]},null,8,["placeholder","value","theme"])])):(l(),F(Y,{key:0,name:"formatLeft",placeholder:t(d)("format.originValue"),value:t(o).item[e.contentIdentity].content.content,"onUpdate:value":n[0]||(n[0]=c=>t(o).item[e.contentIdentity].content.content=c)},null,8,["placeholder","value"]))])]))}});const Tt=K(jt,[["__scopeId","data-v-eacf9697"]]),Ht={class:"data_json"},At={name:"FormatJson"},qt=C({...At,props:{contentIdentity:{}},setup(u){return(a,e)=>(l(),h("div",Ht,[r(t(Ft),{"wrap-class":"x-json-view","show-depth":20,"json-data":t(o).item[a.contentIdentity].content.format,"is-show-err-notice":!0},null,8,["json-data"])]))}});const Zt=K(qt,[["__scopeId","data-v-8c83ebb4"]]),Gt={class:"content_side"},Qt={class:"data_title"},Wt={class:"data_content tw-h-full"},Xt={key:1,class:"tw-border tw-border-neutral-3 tw-h-full tw-relative"},Yt={name:"FormatRight"},te=C({...Yt,setup(u){const a=O("contentIdentity");return(e,n)=>(l(),h("div",Gt,[i("div",Qt,[i("span",null,I(t(d)("format.formatValue")),1),i("span",null,[r(st,Z(e.$attrs,{from:t(R).Format}),null,16,["from"])])]),i("div",Wt,[t(o).item[t(a)].content.isJson?(l(),F(Zt,{key:0,"content-identity":t(a)},null,8,["content-identity"])):(l(),h(N,{key:1},[t(o).isUseEditor?(l(),h("div",Xt,[r(et,{mode:"application/json","textarea-key":"format-right","is-use-format":!0,placeholder:t(d)("format.formatValue"),value:t(o).item[t(a)].content.format,"onUpdate:value":n[1]||(n[1]=c=>t(o).item[t(a)].content.format=c),theme:t(tt)[t(g).theme.current]},null,8,["placeholder","value","theme"])])):(l(),F(Y,{key:0,name:"formatRight",placeholder:t(d)("format.formatValue"),value:t(o).item[t(a)].content.format,"onUpdate:value":n[0]||(n[0]=c=>t(o).item[t(a)].content.format=c)},null,8,["placeholder","value"]))],64))])]))}});const ee=K(te,[["__scopeId","data-v-3a9c499d"]]),ne={class:"content_show"},oe={class:"content_split"},se={name:"Formatter"},ae=C({...se,setup(u){const a=O("contentIdentity"),e=O("contentName");Et(o,a,["content"],e);const n=$t(!1);function c(){n.value=!n.value}function s(y){const{from:w,work:E}=y;switch(E){case V.Copy:m(w);break;case V.Reset:k(w);break}}function m(y){const{isJson:w,format:E,content:D}=o.item[a.value].content;y===R.Format?w?H(E||"",!0):H(E||""):H(D||"")}function k(y){const w=o.item[a.value].content;y===R.Format?w.format=w.content:w.content="",w.isJson=!1}return(y,w)=>(l(),h("div",ne,[r(Tt,{"content-identity":t(a),class:q({content_shrink:!!n.value}),onBtn:s},null,8,["content-identity","class"]),i("div",oe,[r(X,{type:n.value?t(A).VerticalLeftOutlined:t(A).VerticalRightOutlined,onClick:c},null,8,["type"])]),r(ee,{class:q({content_expand:!!n.value}),onBtn:s},null,8,["class"])]))}});const ie=K(ae,[["__scopeId","data-v-fe551aff"]]),le={class:"tw-h-24"},re={class:"tw-mb-4"},ce={name:"FormatOperatePasswordModal"},de=C({...ce,props:{isUseful:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},title:{default:""}},emits:["update:visible","ok"],setup(u,{emit:a}){const e=O("contentIdentity");function n(s){a("update:visible",s)}function c(){a("ok",o.item[e.value].content.password)}return(s,m)=>s.isUseful?(l(),F(G,{key:0,title:s.title,visible:s.visible,"onUpdate:visible":n,onOk:c},{default:B(()=>[i("div",le,[i("div",re,I(t(d)("format.password.name")),1),i("div",null,[r(nt,{value:t(o).item[t(e)].content.password,"onUpdate:value":m[0]||(m[0]=k=>t(o).item[t(e)].content.password=k),placeholder:t(d)("format.password.placeholder")},null,8,["value","placeholder"])])])]),_:1},8,["title","visible"])):x("",!0)}}),ue={class:"tw-h-72"},me={class:"tw-mb-4"},pe={class:"tw-mb-6"},fe={class:"tw-mb-4"},_e={class:"tw-mb-6"},ve={class:"tw-mb-4"},ye={name:"FormatOperatePBKDF2Modal"},be=C({...ye,props:{isUseful:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},emits:["update:visible","ok"],setup(u,{emit:a}){const e=O("contentIdentity");function n(s){a("update:visible",s)}function c(){a("ok",{...o.item[e.value].content.pbkdf2})}return(s,m)=>s.isUseful?(l(),F(G,{key:0,title:t(d)("format.pbkdf2.name"),visible:s.visible,"onUpdate:visible":n,onOk:c},{default:B(()=>[i("div",ue,[i("div",me,I(t(d)("format.pbkdf2.salt")),1),i("div",pe,[r(nt,{value:t(o).item[t(e)].content.pbkdf2.salt,"onUpdate:value":m[0]||(m[0]=k=>t(o).item[t(e)].content.pbkdf2.salt=k),placeholder:t(d)("format.pbkdf2.placeholder")},null,8,["value","placeholder"])]),i("div",fe,I(t(d)("format.pbkdf2.keySize")),1),i("div",_e,[r(ot,{select:t(o).item[t(e)].content.pbkdf2.keySize,"onUpdate:select":m[1]||(m[1]=k=>t(o).item[t(e)].content.pbkdf2.keySize=k),options:t(Ct)},null,8,["select","options"])]),i("div",ve,I(t(d)("format.pbkdf2.iterations")),1),i("div",null,[r(Rt,{value:t(o).item[t(e)].content.pbkdf2.iterations,"onUpdate:value":m[2]||(m[2]=k=>t(o).item[t(e)].content.pbkdf2.iterations=k),min:0,precise:0},{addonAfter:B(()=>[wt(I(t(d)("format.pbkdf2.iterationUnit")),1)]),_:1},8,["value"])])])]),_:1},8,["title","visible"])):x("",!0)}}),he={class:"tw-h-24"},ke={class:"tw-mb-4"},$e={name:"FormatOperateKeccakModal"},we=C({...$e,props:{isUseful:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},emits:["update:visible","ok"],setup(u,{emit:a}){const e=O("contentIdentity");function n(s){a("update:visible",s)}function c(){a("ok",{...o.item[e.value].content.keccak})}return(s,m)=>s.isUseful?(l(),F(G,{key:0,title:t(d)("format.keccak.name"),visible:s.visible,"onUpdate:visible":n,onOk:c},{default:B(()=>[i("div",he,[i("div",ke,I(t(d)("format.keccak.outputLength")),1),i("div",null,[r(ot,{select:t(o).item[t(e)].content.keccak.outputLength,"onUpdate:select":m[0]||(m[0]=k=>t(o).item[t(e)].content.keccak.outputLength=k),options:t(Ut)},null,8,["select","options"])])])]),_:1},8,["title","visible"])):x("",!0)}}),ge={class:"operate_area"},Fe={class:"bottom_work"},Ce={class:"work_group_title"},Ue={class:"tw-flex tw-items-center"},Ie={class:"tw-mr-1"},De={name:"FormatOperate"},Se=C({...De,setup(u){const a=O("contentIdentity");function e(p){switch(p){case _.AESEncrypt:case _.AESDecrypt:case _.DESEncrypt:case _.DESDecrypt:case _.TripleDESEncrypt:case _.TripleDESDecrypt:case _.RC4Encrypt:case _.RC4Decrypt:case _.RabbitEncrypt:case _.RabbitDecrypt:case _.HmacMD5:case _.HmacSHA1:case _.HmacSHA256:case _.HmacSHA512:m(p,d(`format.operate.${p}`));break;case _.PBKDF2:w();break;case _.Keccak:L();break;default:n(p);break}}function n(p,b="",$=""){const{content:v}=o.item[a.value];switch(p){case _.JsonBeauty:v.isJson=!0;break;default:v.isJson=!1,v.format=Dt(p,v.format||"",b,$);break}}function c(p){e(p)}const s=P({visible:!1,isUseful:!1,operate:"",title:""});function m(p,b=""){s.isUseful=!0,s.visible=!0,s.operate=p,s.title=b}function k(p){s.visible=!1,n(s.operate,p)}const y=P({visible:!1,isUseful:!1});function w(){y.isUseful=!0,y.visible=!0}function E(p){y.visible=!1;const{salt:b,keySize:$,iterations:v}=p;n(_.PBKDF2,b,{keySize:$,iterations:v})}const D=P({visible:!1,isUseful:!1});function L(){D.isUseful=!0,D.visible=!0}function j(p){y.visible=!1;const{outputLength:b}=p;n(_.Keccak,b)}return(p,b)=>(l(),h("div",ge,[i("div",{class:q(["content_area",`${t(g).theme.current}MainBg`])},[i("div",Fe,[(l(!0),h(N,null,W(t(It),$=>(l(),h("div",{class:"work_group",key:$.value},[i("div",Ce,I($.label),1),(l(!0),h(N,null,W($.operate,v=>(l(),h(N,{key:v.value},[v.children?(l(),F(ft,{key:0,"is-lang-label":!0,data:v.children,trigger:[t(pt).Click],onSelected:c},{anchor:B(()=>[r(J,{type:v.isPrimary?"primary":"default"},{default:B(()=>[i("div",Ue,[i("span",Ie,I(t(d)(v.label)),1),r(X,{type:t(A).DownOutlined,size:"xs"},null,8,["type"])])]),_:2},1032,["type"])]),_:2},1032,["data","trigger"])):(l(),F(J,{key:1,name:t(d)(v.label),type:v.isPrimary?"primary":"default",onClick:Q=>e(v.value)},null,8,["name","type","onClick"]))],64))),128))]))),128))])],2),r(de,{"is-useful":s.isUseful,title:s.title,visible:s.visible,"onUpdate:visible":b[0]||(b[0]=$=>s.visible=$),onOk:k},null,8,["is-useful","title","visible"]),r(be,{"is-useful":y.isUseful,visible:y.visible,"onUpdate:visible":b[1]||(b[1]=$=>y.visible=$),onOk:E},null,8,["is-useful","visible"]),r(we,{"is-useful":D.isUseful,visible:D.visible,"onUpdate:visible":b[2]||(b[2]=$=>D.visible=$),onOk:j},null,8,["is-useful","visible"])]))}});const Be=K(Se,[["__scopeId","data-v-86369d67"]]),M=".formatter",Ee={[z.Config]:"format_config",[z.Folder]:"format_folder",[z.Content]:"format_content",[z.Env]:"format_env"};function Oe(){return{content:{password:"",pbkdf2:{salt:"",keySize:St.Three,iterations:10},keccak:{outputLength:Bt.Four},content:"",format:"",isJson:!1},isSaved:0}}const xe={class:"warp_bigger format_area"},Ke={key:0,class:"show_area"},Re={class:"tw-flex tw-justify-end tw-items-center"},Ve={key:0},ze={class:"tw-ml-4"},Me={class:"tw-ml-4"},Pe={name:"ModuleFormat"},Ne=C({...Pe,setup(u){const a=O("storeIDB"),{curContentIdentity:e,curContentName:n,curContentFolderIdentity:c,curFolders:s,curHistoryFolders:m,curIsSaved:k,saveFolder:y,addFolder:w,renameFolder:E,deleteFolder:D,sortFolder:L,createContent:j,saveContent:p,showContent:b,getContent:$,renameContent:v,copyContent:Q,deleteContent:at,autoSaveContent:it,importContent:lt,saveContentItem:rt}=Ot(a,Ee,o,Oe());f("contentIsSaved",k),f("contentFolderIdentity",c),f("contentIdentity",e),f("contentName",n),f("historyFolders",m),f("folders",s),f("addFolder",w),f("renameFolder",E),f("deleteFolder",D),f("showContent",b),f("copyContent",Q),f("renameContent",v),f("deleteContent",at),f("sortFolder",L),f("saveContent",p),f("autoSaveContent",it),f("getContent",$),f("saveFolder",y),f("saveContentItem",rt);function ct(){j()}function dt(T){g.loading=!0;const{name:U,content:S,isSave:ut,folderIdentity:mt}=T;lt(U,S,ut,mt,M).then(()=>{g.loading=!1}).catch(()=>{g.loading=!1})}return(T,U)=>(l(),h("div",xe,[r(ht,{collapse:t(g).historyDrawer.collapse,"onUpdate:collapse":U[3]||(U[3]=S=>t(g).historyDrawer.collapse=S),history:t(g).historyDrawer,suffix:t(M)},{default:B(()=>[t(e)?(l(),h("div",Ke,[r(Kt,{title:t(d)(`module.${t(g).module}`),contentName:t(n),"onUpdate:contentName":U[2]||(U[2]=S=>gt(n)?n.value=S:null),"is-has-name":!0},{titleRight:B(()=>[i("div",Re,[t(e)?(l(),h("span",Ve,[r(_t,{"store-item-data":t(o).item[t(e)]},null,8,["store-item-data"])])):x("",!0),i("span",ze,[r(xt,{checked:t(o).isUseEditor,"onUpdate:checked":U[0]||(U[0]=S=>t(o).isUseEditor=S),name:t(d)("format.header.useEditor")},null,8,["checked","name"])]),i("span",Me,[r(vt,{"support-types":["text/plain"],accept:[t(M)],"store-item-data":t(o).item[t(e)],suffix:t(M),onSelect:ct,onContent:dt},null,8,["accept","store-item-data","suffix"])]),r(yt,Z({class:"tw-ml-2"},T.$attrs),null,16),t(g).historyDrawer.collapse?(l(),F(bt,{key:1,class:"tw-ml-2",visible:t(g).historyDrawer.visible,"onUpdate:visible":U[1]||(U[1]=S=>t(g).historyDrawer.visible=S)},null,8,["visible"])):x("",!0)])]),default:B(()=>[(l(),F(ie,{key:t(e)})),r(Be)]),_:1},8,["title","contentName"])])):x("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const Je=K(Ne,[["__scopeId","data-v-f0e631c9"]]),In=C({__name:"Format",setup(u){return(a,e)=>(l(),F(Je))}});export{In as default};
