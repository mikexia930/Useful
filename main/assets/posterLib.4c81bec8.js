import{q as ae,bf as p,g as oe,Y as _,ah as B}from"./index.ede6ea95.js";import{g as D}from"./randomLib.04c6c9cc.js";import{t as R}from"./DResult.vue_vue_type_script_setup_true_lang.54d2be88.js";const C=ae({envs:{},folders:[],item:{}});var c=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE",e.COPY="COPY",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.LINK="LINK",e.UNLINK="UNLINK",e))(c||{}),T=(e=>(e.Auth="auth",e.HEADER="header",e.QUERY="query",e.POST="post",e))(T||{}),l=(e=>(e.None="none",e.FormData="form-data",e.XWWWFormUrlEncode="x-www-form-urlencoded",e.Raw="raw",e))(l||{}),k=(e=>(e.Text="Text",e.File="File",e))(k||{}),u=(e=>(e.Plain="Plain",e.XML="Xml",e.Json="Json",e.Html="Html",e))(u||{}),z=(e=>(e.String="String",e.Number="Number",e.Float="Float",e.Integer="Integer",e.Object="Object",e.Array="Array",e.File="File",e.Boolean="Boolean",e.Date="Date",e.Function="Function",e.RegExp="RegExp",e.Undefined="Undefined",e.NaN="NaN",e.Null="Null",e))(z||{}),U=(e=>(e.No="no",e.Basic="basic",e.Bearer="bearer",e))(U||{}),j=(e=>(e.Response="response",e.RequestHeader="requestHeader",e.ResponseHeader="responseHeader",e))(j||{}),K=(e=>(e.Wait="wait",e.Cancel="cancel",e.Success="success",e.ErrResponse="errResponse",e.NoResponse="noResponse",e.NoNetwork="noNetwork",e.Err="err",e))(K||{});const X="3.7.5",ne=X,se=typeof atob=="function",ie=typeof btoa=="function",b=typeof Buffer=="function",S=typeof TextDecoder=="function"?new TextDecoder:void 0,O=typeof TextEncoder=="function"?new TextEncoder:void 0,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=Array.prototype.slice.call(ce),A=(e=>{let t={};return e.forEach((r,a)=>t[r]=a),t})(g),fe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,s=String.fromCharCode.bind(String),H=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Y=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Z=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),q=e=>{let t,r,a,n,o="";const i=e.length%3;for(let f=0;f<e.length;){if((r=e.charCodeAt(f++))>255||(a=e.charCodeAt(f++))>255||(n=e.charCodeAt(f++))>255)throw new TypeError("invalid character found");t=r<<16|a<<8|n,o+=g[t>>18&63]+g[t>>12&63]+g[t>>6&63]+g[t&63]}return i?o.slice(0,i-3)+"===".substring(i):o},I=ie?e=>btoa(e):b?e=>Buffer.from(e,"binary").toString("base64"):q,N=b?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let a=0,n=e.length;a<n;a+=4096)r.push(s.apply(null,e.subarray(a,a+4096)));return I(r.join(""))},m=(e,t=!1)=>t?Y(N(e)):N(e),le=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|t&63):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|t&63)}},de=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,G=e=>e.replace(de,le),L=b?e=>Buffer.from(e,"utf8").toString("base64"):O?e=>N(O.encode(e)):e=>I(G(e)),x=(e,t=!1)=>t?Y(L(e)):L(e),W=e=>x(e,!0),ue=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,xe=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return s((r>>>10)+55296)+s((r&1023)+56320);case 3:return s((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return s((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},$=e=>e.replace(ue,xe),E=e=>{if(e=e.replace(/\s+/g,""),!fe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",a,n;for(let o=0;o<e.length;)t=A[e.charAt(o++)]<<18|A[e.charAt(o++)]<<12|(a=A[e.charAt(o++)])<<6|(n=A[e.charAt(o++)]),r+=a===64?s(t>>16&255):n===64?s(t>>16&255,t>>8&255):s(t>>16&255,t>>8&255,t&255);return r},F=se?e=>atob(Z(e)):b?e=>Buffer.from(e,"base64").toString("binary"):E,J=b?e=>H(Buffer.from(e,"base64")):e=>H(F(e).split("").map(t=>t.charCodeAt(0))),Q=e=>J(V(e)),be=b?e=>Buffer.from(e,"base64").toString("utf8"):S?e=>S.decode(J(e)):e=>$(F(e)),V=e=>Z(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),P=e=>be(V(e)),he=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},M=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),ee=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,M(r));e("fromBase64",function(){return P(this)}),e("toBase64",function(t){return x(this,t)}),e("toBase64URI",function(){return x(this,!0)}),e("toBase64URL",function(){return x(this,!0)}),e("toUint8Array",function(){return Q(this)})},te=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,M(r));e("toBase64",function(t){return m(this,t)}),e("toBase64URI",function(){return m(this,!0)}),e("toBase64URL",function(){return m(this,!0)})},ge=()=>{ee(),te()},pe={version:X,VERSION:ne,atob:F,atobPolyfill:E,btoa:I,btoaPolyfill:q,fromBase64:P,toBase64:x,encode:x,encodeURI:W,encodeURL:W,utob:G,btou:$,decode:P,isValid:he,fromUint8Array:m,toUint8Array:Q,extendString:ee,extendUint8Array:te,extendBuiltins:ge};var re=(e=>(e.Origin="origin",e.Format="format",e))(re||{});const Be=".poster",Ne={[p.Config]:"poster_config",[p.Env]:"poster_env",[p.Folder]:"poster_folder",[p.Content]:"poster_content"};function Pe(){return{isSaved:0,content:{isRequesting:!1,remark:"",request:{identity:"",envIdentity:"no",isCollapse:!1,method:c.GET,url:"",paramTab:T.QUERY,auth:{type:U.No,basic:{username:"",password:""},bearer:{token:""}},header:[],query:[],post:{type:l.FormData,form:[],raw:{type:u.Plain,value:""}}},response:{datetime:"",time:0,tab:j.Response,resultTab:re.Origin,status:{value:K.Wait,message:oe("poster.response.notice.waitConnect"),code:0},headers:{request:[],response:[]},data:""}}}}function y(e,t){var o;let r=t;const a=/\{\{.*\}\}/gi,{envs:n}=C;if(e!=="no"&&((o=n==null?void 0:n[e])==null?void 0:o.params)){const i={};B(n[e].params,d=>{const{value:v,key:h}=d;i[`{{${h}}}`]=v});const f=t.match(a);f&&!_(f)&&B(f,d=>{r=r.replace(d,i[d])})}return r}function we(e){const{method:t,url:r,header:a,envIdentity:n}=C.item[e].content.request,o={headers:{},method:t,url:y(n,R(r)),identity:D()};switch(Ae(e,o),t){case c.GET:case c.HEAD:case c.OPTIONS:case c.COPY:o.params={};break;case c.POST:case c.PUT:case c.DELETE:case c.PATCH:case c.LINK:case c.UNLINK:Ue(e,o);break}return _(a)||(o.headers=w(n,a)),o}function Ae(e,t){const{auth:r,envIdentity:a}=C.item[e].content.request,{type:n,basic:o,bearer:i}=r;switch(n){case U.Basic:o.username&&(t.headers={Authorization:"Basic "+pe.encode(`${o.username}:${y(a,o.password)}`)});break;case U.Bearer:i.token&&(t.headers={Authorization:"Bearer "+y(a,i.token)});break}}function me(e,t=void 0){let r="";switch(e){case l.None:r="text/plain";break;case l.FormData:r="multipart/form-data";break;case l.XWWWFormUrlEncode:r="application/x-www-form-urlencoded";break;case l.Raw:switch(t){case u.Plain:r="text/plain";break;case u.Html:r="text/html";break;case u.XML:r="text/xml";break;case u.Json:r="application/json";break}break}return r}function Ue(e,t){const{post:r,envIdentity:a}=C.item[e].content.request,{type:n,form:o,raw:i}=r;switch(t.headers["content-type"]=me(n,i.type),n){case l.FormData:t.data=w(a,o,!0);break;case l.XWWWFormUrlEncode:t.data=w(a,o);break;case l.Raw:t.data=i.value;break}}function w(e,t,r=!1){const a=new FormData;return t&&!_(t)&&B(t,n=>{const{isUse:o,name:i,type:f,value:d,file:v}=n,h=R(i);o&&h&&(r&&f===k.File?a.append(h,v||""):a.append(h,d?y(e,d):""))}),a}function _e(){return{identity:D(),isUse:!0,name:"",type:k.Text,value:"",isEssential:!1,fieldType:z.String,desc:""}}function De(){return{identity:D(),key:"",value:""}}export{c as E,U as a,z as b,_e as c,k as d,l as e,T as f,u as g,re as h,K as i,j,we as k,De as l,Pe as m,Ne as n,Be as o,me as p,C as s};
