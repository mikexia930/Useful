import{ck as z,cl as N,d as F,B as j,cf as w,z as B,m as b,W,u as A,O as D,Q as H,_ as i,k as h,$ as g,U as E,cm as S,P as c,o as L,H as G}from"./index.3deece30.js";import{u as Q,o as R,K as x}from"./DInput.vue_vue_type_script_setup_true_lang.8d83bae6.js";import{W as $}from"./Interface.8f0a6e0f.js";var q=N("small","default"),J=function(){return{id:String,prefixCls:String,size:c.oneOf(q),disabled:{type:Boolean,default:void 0},checkedChildren:c.any,unCheckedChildren:c.any,tabindex:c.oneOfType([c.string,c.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:c.oneOfType([c.string,c.number,c.looseBool]),checkedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!0),unCheckedValue:c.oneOfType([c.string,c.number,c.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},X=F({name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:J(),slots:["checkedChildren","unCheckedChildren"],setup:function(e,d){var u=d.attrs,s=d.slots,f=d.expose,o=d.emit,v=Q();j(function(){w(!("defaultChecked"in u),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),w(!("value"in u),"Switch","`value` is not validate prop, do you mean `checked`?")});var C=B(e.checked!==void 0?e.checked:u.defaultChecked),m=b(function(){return C.value===e.checkedValue});W(function(){return e.checked},function(){C.value=e.checked});var y=A("switch",e),t=y.prefixCls,T=y.direction,V=y.size,r=B(),p=function(){var n;(n=r.value)===null||n===void 0||n.focus()},I=function(){var n;(n=r.value)===null||n===void 0||n.blur()};f({focus:p,blur:I}),D(function(){H(function(){e.autofocus&&!e.disabled&&r.value.focus()})});var _=function(n,l){e.disabled||(o("update:checked",n),o("change",n,l),v.onFieldChange())},O=function(n){o("blur",n)},K=function(n){p();var l=m.value?e.unCheckedValue:e.checkedValue;_(l,n),o("click",l,n)},M=function(n){n.keyCode===x.LEFT?_(e.unCheckedValue,n):n.keyCode===x.RIGHT&&_(e.checkedValue,n),o("keydown",n)},P=function(n){var l;(l=r.value)===null||l===void 0||l.blur(),o("mouseup",n)},U=b(function(){var a;return a={},i(a,"".concat(t.value,"-small"),V.value==="small"),i(a,"".concat(t.value,"-loading"),e.loading),i(a,"".concat(t.value,"-checked"),m.value),i(a,"".concat(t.value,"-disabled"),e.disabled),i(a,t.value,!0),i(a,"".concat(t.value,"-rtl"),T.value==="rtl"),a});return function(){var a;return h($,{insertExtraNode:!0},{default:function(){return[h("button",g(g(g({},R(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),u),{},{id:(a=e.id)!==null&&a!==void 0?a:v.id.value,onKeydown:M,onClick:K,onBlur:O,onMouseup:P,type:"button",role:"switch","aria-checked":C.value,disabled:e.disabled||e.loading,class:[u.class,U.value],ref:r}),[h("div",{class:"".concat(t.value,"-handle")},[e.loading?h(E,{class:"".concat(t.value,"-loading-icon")},null):null]),h("span",{class:"".concat(t.value,"-inner")},[m.value?S(s,e,"checkedChildren"):S(s,e,"unCheckedChildren")])])]}})}}});const Y=z(X),Z={name:"DSwitch"},ce=F({...Z,props:{checked:{type:Boolean,default:!1}},emits:["update:checked"],setup(k,{emit:e}){const d=k,u=b({get:()=>d.checked,set:s=>e("update:checked",s)});return(s,f)=>{const o=Y;return L(),G(o,{checked:u.value,"onUpdate:checked":f[0]||(f[0]=v=>u.value=v)},null,8,["checked"])}}});export{ce as _};
