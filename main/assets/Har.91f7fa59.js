import{q as Ce,bh as he,aj as W,d as S,K as A,g as o,o as d,c as v,a as _,w as y,v as a,$ as l,a1 as pe,a4 as N,bg as Ue,x as R,b as B,a0 as n,y as P,ai as G,d2 as ne,bq as xe,Y as Q,d3 as Qe,E as Pe,Z as se,R as Z,at as Ye,au as Ze,s as Y,G as Ee,aq as et,F as tt,M as fe,t as at,U as st,O as lt,z as $,S as q,bt as ve,av as nt}from"./index.9266fe7f.js";import{I as ot,_ as We,U as it}from"./UIWithTitle.0ba888b9.js";import{a as rt,D as ut,t as ct,X as dt,b as pt,c as _t,d as ht,e as vt,U as mt}from"./UICreateImport.vue_vue_type_script_setup_true_lang.c1480d91.js";import{_ as ft}from"./DSteps.vue_vue_type_script_setup_true_lang.921a507b.js";import{b as Me,_ as yt,a as Re,u as bt}from"./PortImport.vue_vue_type_script_setup_true_lang.05f6995c.js";import{_ as je}from"./DCodeMirror.vue_vue_type_script_setup_true_lang.0241cd65.js";import{_ as Ne}from"./DButton.vue_vue_type_script_setup_true_lang.f01b73c3.js";import{i as gt,e as Le}from"./fileLib.095e2999.js";import{s as X,E as K,_ as M,a as ae}from"./Interface.5d379190.js";import{g as oe}from"./randomLib.04c6c9cc.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as Be}from"./DSelect.vue_vue_type_script_setup_true_lang.acb30ba2.js";import{D as L}from"./DTooltip.a164b95f.js";import{d as ie}from"./copyLib.a293d052.js";import{E as re,f as Se,e as ee,g as He,a as we,d as De,b as Oe,o as kt}from"./posterLib.ea38ccb8.js";import{t as wt,_ as Dt}from"./DResult.vue_vue_type_script_setup_true_lang.8793c2b7.js";import{C as Ot}from"./index.3756764d.js";import{f as $t}from"./findIndex.1cce42a8.js";import{u as Ft}from"./ModuleAutoSaveLib.8d42a064.js";import"./ModuleCollapsetLib.5ec92ace.js";import"./routeLib.6e6566a2.js";import"./index.e869f91d.js";import"./KeyCode.9e37adda.js";import"./pick.c38772a2.js";import"./_baseIsEqual.c6682faf.js";import"./_flatRest.c6189477.js";import"./hasIn.738d762b.js";import"./memoize.e560e7a2.js";import"./styleChecker.0f858936.js";import"./debounce.74925b94.js";import"./now.ac1a2184.js";import"./DSpin.c481c300.js";import"./config.aa76b2c0.js";import"./responsiveObserve.f80115de.js";import"./index.74788e27.js";import"./codemirror.35621072.js";import"./stringify.15412eb9.js";import"./_commonjs-dynamic-modules.30ae7933.js";import"./___vite-browser-external_commonjs-proxy.819ac576.js";const ce=Ce({folders:[],item:{}});var de=(e=>(e.Upload="upload",e.Content="content",e))(de||{}),ge=(e=>(e.Dropdown="dropdown",e.Icon="icon",e))(ge||{}),U=(e=>(e.One="1xx",e.Two="2xx",e.Three="3xx",e.Four="4xx",e.Five="5xx",e.Other="0",e))(U||{}),g=(e=>(e.FetchXhr="Fetch/xhr",e.WebSocket="Websocket",e.Image="Image",e.Media="Media",e.Font="Font",e.Doc="Doc",e.Js="Js",e.Css="Css",e.Wasm="Wasm",e.Manifest="Manifest",e.Other="Other",e))(g||{});const me=".hara",Ct={[he.Config]:"har_config",[he.Folder]:"har_folder",[he.Content]:"har_content",[he.Env]:"har_env"};function xt(){return{content:{step:0,source:{type:de.Upload,content:""},list:{search:{url:"",type:[],status:[],requests:0},selected:[],requests:[],detailIdentity:""}},isSaved:0}}function ye(e){return{log:{version:"1.2",creator:{name:"Poster",version:"2.0.0"},entries:[...e]}}}function St(e){let s=g.Other;const{response:t,request:p}=e,i=t.content.mimeType;return i.indexOf("application/javascript")>-1?s=g.Js:i.indexOf("text/css")>-1?s=g.Css:i.indexOf("image/")>-1?s=g.Image:i.indexOf("application/manifest")>-1?s=g.Manifest:i.indexOf("application/json")>-1?s=g.FetchXhr:i.indexOf("font/")>-1?s=g.Font:i.indexOf("html")>-1||i.indexOf("pdf")>-1?s=g.Doc:i.indexOf("audio/")>-1||i.indexOf("video/")>-1?s=g.Media:Ht(p.headers)&&(s=g.WebSocket),s}function Ht(e){let s=!1;return W(e,t=>{if(t.name==="Upgrade"&&t.value==="websocket")return s=!0,!1}),s}function Tt(e){let s=U.Other;const{response:t}=e;return t.status>=100&&t.status<200?s=U.One:t.status>=200&&t.status<300?s=U.Two:t.status>=300&&t.status<400?s=U.Three:t.status>=400&&t.status<500?s=U.Four:t.status>=500&&t.status<600&&(s=U.Five),s}const qt={class:"editor-step1"},At={name:"HarImportStep1"},It=S({...At,emits:["step2"],setup(e,{emit:s}){const t=A("storeItemData"),p=[{value:de.Upload,label:o("har.import.step1.upload.label")},{value:de.Content,label:o("har.import.step1.content.label")}];let i;function c(r){var u,f;i=((f=(u=r==null?void 0:r.target)==null?void 0:u.files)==null?void 0:f[0])||"",i&&gt(i).then(m=>{m&&(t.source.content=m,t.source.type=de.Content)}).catch(m=>{console.log("har-import",m),X(K.Error,o("notice.importErr"))})}function h(){var r;try{if(t.source.content){const u=JSON.parse(t.source.content);if(u&&((r=u.log)==null?void 0:r.entries)&&Array.isArray(u.log.entries)&&u.log.entries.length>0){const{log:f}=u,m=[];W(f.entries,b=>{m.push({identity:oe(),type:St(b),status:Tt(b),urlHighLight:"",http:b})}),t.list.requests=m,s("step2")}else throw new Error("content error")}else throw new Error("no content")}catch(u){console.log("err",u),X(K.Warning,o("har.import.step1.notice.contentErr"))}}return(r,u)=>{const f=ot;return d(),v("div",qt,[_(Me,{centered:!0,tabs:p,active:l(t).source.type,"onUpdate:active":u[1]||(u[1]=m=>l(t).source.type=m)},{rightExtra:y(()=>[a("div",null,[_(Ne,{onClick:h,type:"primary",name:l(o)("har.import.step1.confirm")},null,8,["name"])])]),upload:y(()=>[_(f,pe({class:`${l(N).theme.current}InputBg`},r.$attrs,{type:"file",accept:[".har"],onChange:c}),null,16,["class","accept"])]),content:y(()=>[_(je,{mode:"application/json",placeholder:l(o)("har.import.step1.content.placeholder"),value:l(t).source.content,"onUpdate:value":u[0]||(u[0]=m=>l(t).source.content=m),theme:l(Ue)[l(N).theme.current]},null,8,["placeholder","value","theme"])]),_:1},8,["active"])])}}});const Ut=z(It,[["__scopeId","data-v-c8ecf741"]]),Pt={name:"HarFilterUrl"},Wt=S({...Pt,setup(e){const s=A("storeItemData");return(t,p)=>(d(),R(We,{style:{width:"150px"},value:l(s).list.search.url,"onUpdate:value":p[0]||(p[0]=i=>l(s).list.search.url=i),placeholder:l(o)("har.filter.url.placeholder"),"is-search":!0,"allow-clear":!0},null,8,["value","placeholder"]))}}),Mt={name:"HarFilterType"},Rt=S({...Mt,setup(e){const s=A("storeItemData"),t=[{label:g.FetchXhr,value:g.FetchXhr},{label:g.Js,value:g.Js},{label:g.Css,value:g.Css},{label:g.Image,value:g.Image},{label:g.Doc,value:g.Doc},{label:g.Media,value:g.Media},{label:g.Manifest,value:g.Manifest},{label:g.WebSocket,value:g.WebSocket},{label:g.Wasm,value:g.Wasm},{label:g.Other,value:g.Other}];return(p,i)=>(d(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.type,"onUpdate:value":i[0]||(i[0]=c=>l(s).list.search.type=c),placeholder:l(o)("har.filter.type.placeholder"),mode:"multiple",options:t,allowClear:!0},null,8,["value","placeholder"]))}}),jt={name:"HarFilterType"},Nt=S({...jt,setup(e){const s=A("storeItemData"),t=[{label:U.Other,value:U.Other},{label:U.One,value:U.One},{label:U.Two,value:U.Two},{label:U.Three,value:U.Three},{label:U.Four,value:U.Four},{label:U.Five,value:U.Five}];return(p,i)=>(d(),R(Be,{style:{"min-width":"150px"},"max-tag-count":2,value:l(s).list.search.status,"onUpdate:value":i[0]||(i[0]=c=>l(s).list.search.status=c),placeholder:l(o)("har.filter.status.placeholder"),mode:"multiple",options:t,allowClear:!0},null,8,["value","placeholder"]))}}),Lt={class:"har-filter"},Bt={name:"HarFilter"},Vt=S({...Bt,setup(e){return(s,t)=>(d(),v("div",Lt,[a("span",null,[_(Rt)]),a("span",null,[_(Nt)]),a("span",null,[_(Wt)])]))}});const zt=z(Vt,[["__scopeId","data-v-c5f8309d"]]);var te=(e=>(e.LeftOutlined="LeftOutlined",e.RightOutlined="RightOutlined",e.DoubleRightOutlined="DoubleRightOutlined",e.DoubleLeftOutlined="DoubleLeftOutlined",e.SwapRightOutlined="SwapRightOutlined",e.CalendarOutlined="CalendarOutlined",e.UnlockOutlined="UnlockOutlined",e.LockOutlined="LockOutlined",e.ClockCircleOutlined="ClockCircleOutlined",e.SearchOutlined="SearchOutlined",e.FilterOutlined="FilterOutlined",e.InboxOutlined="InboxOutlined",e.CaretUpOutlined="CaretUpOutlined",e.CaretDownOutlined="CaretDownOutlined",e.MoreOutlined="MoreOutlined",e.FunnelPlotOutlined="FunnelPlotOutlined",e.VerticalRightOutlined="VerticalRightOutlined",e.VerticalLeftOutlined="VerticalLeftOutlined",e.PushpinOutlined="PushpinOutlined",e.VerticalAlignTopOutlined="VerticalAlignTopOutlined",e.VerticalAlignBottomOutlined="VerticalAlignBottomOutlined",e.SwapOutlined="SwapOutlined",e.RetweetOutlined="RetweetOutlined",e.DisconnectOutlined="DisconnectOutlined",e.GlobalOutlined="GlobalOutlined",e.HeartOutlined="HeartOutlined",e.CheckOutlined="CheckOutlined",e.DeleteOutlined="DeleteOutlined",e.PlusOutlined="PlusOutlined",e.LinkOutlined="LinkOutlined",e.EditOutlined="EditOutlined",e.CloseOutlined="CloseOutlined",e.CloseCircleOutlined="CloseCircleOutlined",e.ExclamationCircleOutlined="ExclamationCircleOutlined",e.DownloadOutlined="DownloadOutlined",e.UploadOutlined="UploadOutlined",e.CopyOutlined="CopyOutlined",e.FrownOutlined="FrownOutlined",e.HolderOutlined="HolderOutlined",e.DownOutlined="DownOutlined",e.FolderOutlined="FolderOutlined",e.FolderOpenOutlined="FolderOpenOutlined",e.FolderAddOutlined="FolderAddOutlined",e.SettingOutlined="SettingOutlined",e.GithubOutlined="GithubOutlined",e.LoadingOutlined="LoadingOutlined",e.DesktopOutlined="DesktopOutlined",e.UpOutlined="UpOutlined",e.FullscreenOutlined="FullscreenOutlined",e.FullscreenExitOutlined="FullscreenExitOutlined",e.SmileOutlined="SmileOutlined",e.FilePdfOutlined="FilePdfOutlined",e.ExportOutlined="ExportOutlined",e.ClearOutlined="ClearOutlined",e.ApiOutlined="ApiOutlined",e.ShareAltOutlined="ShareAltOutlined",e.UndoOutlined="UndoOutlined",e.LikeOutlined="LikeOutlined",e))(te||{});const Jt={class:"har-work-popover"},Xt={name:"HarWorkDropdown"},Kt=S({...Xt,props:{isHasDownload:{type:Boolean}},emits:["detail","copyUrl","copyHar","newTab","exportHar","download","delete","saveToPoster"],setup(e,{emit:s}){const t=e,p=B(()=>{const c=[{label:o("har.work.detailRequest"),value:"detail"},{label:o("har.work.exportToUseful"),value:"saveToPoster"},{label:o("har.work.copyUrl"),value:"copyUrl"},{label:o("har.work.openInNewWindow"),value:"newTab"},{label:o("har.work.copyHar"),value:"copyHar"},{label:o("har.work.exportHar"),value:"exportHar"},{label:o("har.work.delete"),value:"delete"}];return t.isHasDownload&&c.push({label:o("har.work.downloadFile"),value:"download"}),c});function i(c){switch(c){case"detail":s("detail");break;case"copyUrl":s("copyUrl");break;case"copyHar":s("copyHar");break;case"newTab":s("newTab");break;case"exportHar":s("exportHar");break;case"download":s("download");break;case"delete":s("delete");break;case"saveToPoster":s("saveToPoster");break}}return(c,h)=>(d(),v("div",Jt,[_(rt,{data:p.value,onSelected:i},{anchor:y(()=>[_(M,{type:l(te).SettingOutlined},null,8,["type"])]),_:1},8,["data"])]))}}),Gt={class:"har-work-icon"},Qt={class:"tw-text-sm"},Yt={class:"tw-text-sm"},Zt={class:"tw-text-sm"},Et={class:"tw-text-sm"},ea={class:"tw-text-sm"},ta={class:"tw-text-sm"},aa={name:"HarWorkIcon"},sa=S({...aa,props:{isHasDownload:{type:Boolean}},emits:["copyUrl","copyHar","newTab","exportHar","download","saveToPoster"],setup(e,{emit:s}){function t(){s("copyUrl")}function p(){s("copyHar")}function i(){s("newTab")}function c(){s("exportHar")}function h(){s("download")}function r(){s("saveToPoster")}return(u,f)=>(d(),v("div",Gt,[a("span",{onClick:r},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).ApiOutlined},null,8,["type"])]),default:y(()=>[a("span",Qt,n(l(o)("har.work.exportToUseful")),1)]),_:1})]),a("span",{onClick:t},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).LinkOutlined},null,8,["type"])]),default:y(()=>[a("span",Yt,n(l(o)("har.work.copyUrl")),1)]),_:1})]),a("span",{onClick:i},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).DesktopOutlined},null,8,["type"])]),default:y(()=>[a("span",Zt,n(l(o)("har.work.openInNewWindow")),1)]),_:1})]),a("span",{onClick:p},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).CopyOutlined},null,8,["type"])]),default:y(()=>[a("span",Et,n(l(o)("har.work.copyHar")),1)]),_:1})]),a("span",{onClick:c},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).ExportOutlined},null,8,["type"])]),default:y(()=>[a("span",ea,n(l(o)("har.work.exportHar")),1)]),_:1})]),u.isHasDownload?(d(),v("span",{key:0,onClick:h},[_(L,null,{anchor:y(()=>[_(M,{type:l(te).DownloadOutlined},null,8,["type"])]),default:y(()=>[a("span",ta,n(l(o)("har.work.downloadFile")),1)]),_:1})])):P("",!0)]))}});const la=z(sa,[["__scopeId","data-v-cbb840c6"]]);function na(e){let s=!!e;return s&&(s=!/[ :,;=]/.test(e),s&&W(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Date","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via","sec-","accept","accept-language","priority","user-agent"],i=>{if(String(G(e)).indexOf(G(i))===0)return s=!1,!1})),s}function oa(e){var x,D,V;const{request:s,response:t,startedDateTime:p,time:i}=e,{method:c}=s;let h=re.GET;W(re,I=>{if(G(I)===G(c))return h=I,!1});let r=Se.QUERY,u=ee.FormData;const f=[];let m={type:He.Plain,value:""};if([re.POST,re.PUT,re.PATCH].includes(h))if(r=Se.POST,s.bodySize===0)u=ee.None;else{let T=(x=s.postData)==null?void 0:x.mimeType;T&&(T=G(T),T.indexOf(G(ee.XWWWFormUrlEncode))>-1||T.indexOf(G(ee.FormData))>-1?(u=T.indexOf(G(ee.XWWWFormUrlEncode))>-1?ee.XWWWFormUrlEncode:ee.FormData,(D=s.postData)!=null&&D.params&&W((V=s.postData)==null?void 0:V.params,H=>{f.push({identity:oe(),isUse:!0,name:H.name,type:De.Text,value:H.value,isEssential:!1,fieldType:Oe.String,desc:""})})):W(He,H=>{var w;if(T&&T.indexOf(G(H))>-1)return u=ee.Raw,m.type=H,m.value=((w=s.postData)==null?void 0:w.text)||"",!1}))}const b={type:we.No,basic:{username:"",password:""},bearer:{token:""}},F=[];W(s.headers,I=>{const{name:T,value:H}=I;if(na(T))if(T==="Authorization"){const w=H.split(" ");let j=[];if(w.length===2){const J=G(w[0]);switch(J){case we.Bearer:b.type=J,b.bearer.token=w[1];break;case we.Basic:j=w[1].split(":"),b.type=J,b.basic.username=j[0],b.basic.password=j[1]||"";break}}}else F.push({identity:oe(),isUse:!0,name:T,type:De.Text,value:H,isEssential:!1,fieldType:Oe.String,desc:""})});const O=[];s.queryString&&W(s.queryString,I=>{const{name:T,value:H}=I;O.push({identity:oe(),isUse:!0,name:T,type:De.Text,value:H,isEssential:!1,fieldType:Oe.String,desc:""})});const C={datetime:p,time:i,tab:"response",resultTab:"origin",status:{value:t.status>=200&&t.status<=300?"success":"errResponse",message:t._error||"",code:t.status},headers:{request:[],response:[]},data:t.content.text};return W(s.headers,I=>{C.headers.request.push({key:I.name,value:I.value})}),W(t.headers,I=>{C.headers.response.push({key:I.name,value:I.value})}),{isRequesting:!1,remark:"",request:{identity:oe(),envIdentity:"no",isCollapse:!1,method:h,url:s.url,paramTab:r,auth:b,header:F,query:O,post:{type:u,form:f,raw:m}},response:C}}async function ia(e,s){const t=kt;function p(u){const f={[ne.Key]:t.folder,[ne.Type]:t.folder,[ne.Value]:xe(u)};return e.saveStorage(f)}function i(u){return e.saveStoragePatch(u)}const c=[],h=[];W(s,u=>{const{name:f,identity:m,content:b,importIdentity:F}=u;h.push({identity:m,name:f});const O={content:b,importIdentity:F,isSaved:1};c.push({[ne.Key]:m,[ne.Type]:t.content,[ne.Value]:xe(O)})});let r=[];await e.getStorageData(t.folder,ne.Type).then(u=>{(u==null?void 0:u.value)&&!Q(u)&&(r=Qe(u.value));const f=ra();let m=-1;Q(r)||W(r,(b,F)=>{const{identity:O}=b;if(O===Ve)return m=F,!1}),m>-1?r[m].children=[...r[m].children,...h]:(f.children=h,r.push(f))}).catch(u=>{console.log("posterImportApi-get-folder-error",u),X(K.Success,o("notice.getErr"))}),await p(r).catch(u=>{console.log("posterImportApi-save-folder-error",u),X(K.Success,o("notice.saveOk"))}),await i(c).then(()=>{X(K.Success,o("notice.saveOk"))}).catch(u=>{console.log("posterImportApi-save-content-error",u),X(K.Success,o("notice.saveErr"))})}const Ve="import",ra=()=>({identity:Ve,name:o("history.importFolder"),children:[]});async function ua(e,s,t){switch(s){case Pe.Poster:await ia(e,t);break}}const ca=e=>(Ye("data-v-fe500f0b"),e=e(),Ze(),e),da={class:"im-block"},pa={class:"im-item"},_a={class:"tw-mb-2"},ha=ca(()=>a("div",{class:"im-name"},"\u5BFC\u5165\u540D\u79F0",-1)),va={name:"PortModule"},ma=S({...va,props:{title:{},visible:{type:Boolean},data:{},toModule:{}},emits:["update:visible"],setup(e,{emit:s}){const t=e,p=A("storeIDB"),i=B({set:h=>s("update:visible",h),get:()=>t.visible});function c(){const h=[];let r=!0;W(t.data,u=>{const{identity:f,name:m,content:b,importIdentity:F}=u;if(wt(m))h.push({identity:f,name:m,content:b,importIdentity:F});else return r=!1,!1}),r?ua(p,t.toModule,h).then(()=>{i.value=!1}):X(K.Warning,o("notice.emptyName"))}return(h,r)=>(d(),R(yt,pe(h.$attrs,{title:h.title,visible:i.value,"onUpdate:visible":r[0]||(r[0]=u=>i.value=u),onOk:c}),{default:y(()=>[a("div",da,[(d(!0),v(Z,null,se(h.data,u=>(d(),v("div",pa,[a("div",_a,n(u.intro),1),a("div",null,[ha,_(We,{value:u.name,"onUpdate:value":f=>u.name=f},null,8,["value","onUpdate:value"])])]))),256))])]),_:1},16,["title","visible"]))}});const fa=z(ma,[["__scopeId","data-v-fe500f0b"]]);function ya(e){return Ot.MD5(e)}const ba={name:"HarWork"},ze=S({...ba,props:{type:{default:ge.Dropdown},identity:{default:""}},setup(e){const s=e,t=A("storeItemData"),p={dropdown:Kt,icon:la},i=Y(-1),c=B(()=>{let k=null;return W(t.list.requests,(x,D)=>{if(x.identity===s.identity)return k=x,i.value=D,!1}),k}),h=B(()=>{let k=!1;return c.value&&(k=![g.WebSocket,g.FetchXhr].includes(c.value.type)),k});function r(){c.value&&ie(JSON.stringify(ye([c.value.http])),!0)}function u(){c.value&&ie(c.value.http.request.url)}function f(){c.value&&window.open(c.value.http.request.url)}function m(){c.value&&Le(JSON.stringify(ye([c.value.http])),"poster.har")}function b(){const k=chrome;k&&c.value&&k.permissions.request({permissions:["downloads"]},x=>{var D;x?c.value&&((D=k==null?void 0:k.downloads)==null||D.download({url:c.value.http.request.url})):X(K.Warning,o("notice.noAuth"))})}function F(){var k,x;if(c.value&&i.value>-1){const D=(x=(k=t.list.requests)==null?void 0:k[i.value])==null?void 0:x.identity;D&&(D===t.list.detailIdentity&&(t.list.detailIdentity=""),t.list.requests.splice(i.value,1),X(K.Success,o("notice.delOk")))}}const O=Ce({visible:!1,data:[]});function C(){var x,D;const k=(D=(x=t.list.requests)==null?void 0:x[i.value])==null?void 0:D.http;if(k){const V=oa(k);O.visible=!0,O.data=[{identity:oe(),name:o("name.unnamed"),content:V,importIdentity:ya(V.request.url),intro:V.request.url}]}}return(k,x)=>(d(),v("span",null,[(d(),R(Ee(p[k.type]),pe(k.$attrs,{"is-has-download":h.value,onCopyHar:r,onCopyUrl:u,onNewTab:f,onExportHar:m,onDownload:b,onDelete:F,onSaveToPoster:C}),null,16,["is-has-download"])),_(fa,{title:l(o)("har.work.exportToUseful"),visible:O.visible,"onUpdate:visible":x[0]||(x[0]=D=>O.visible=D),data:O.data,"to-module":l(Pe).Poster},null,8,["title","visible","data","to-module"])]))}}),ga={class:"tw-mr-2"},ka={class:"har-status"},wa={class:"har-status__label"},Da=["title"],Oa=["title"],$a=["innerHTML"],Fa={class:"har-work"},Ca={name:"HarItem"},xa=S({...Ca,props:{itemData:{},top:{}},emits:["detail","saveToUseful"],setup(e,{emit:s}){const t=e,p=A("storeItemData"),i=B({get:()=>p.list.selected.includes(t.itemData.identity),set:r=>{const u=t.itemData.identity;if(r){const f=new Set([...p.list.selected,u]);p.list.selected=Array.from(f)}else{const f=$t(p.list.selected,m=>m===u);f>-1&&p.list.selected.splice(f,1)}}});function c(){s("detail",t.itemData.identity)}function h(){s("saveToUseful",t.itemData.identity)}return(r,u)=>{var f,m,b,F,O,C,k,x;return d(),v("div",{class:"har-list-block",style:tt({top:`${r.top}px`})},[a("div",{class:et(["har-list-item",{"har-list-item__linked":l(p).list.detailIdentity===r.itemData.identity}])},[a("div",ga,[_(Re,{checked:i.value,"onUpdate:checked":u[0]||(u[0]=D=>i.value=D)},null,8,["checked"])]),a("div",{class:"har-list-left",onClick:c},[a("div",ka,[_(ut,{color:"green"}),a("span",wa,n(((m=(f=r.itemData.http)==null?void 0:f.response)==null?void 0:m.status)||"-"),1)]),a("div",{class:"har-type",title:((O=(F=(b=r.itemData.http)==null?void 0:b.response)==null?void 0:F.content)==null?void 0:O.mimeType)||"-"},n(((x=(k=(C=r.itemData.http)==null?void 0:C.response)==null?void 0:k.content)==null?void 0:x.mimeType)||"-"),9,Da),a("div",{class:"har-url",title:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},[a("span",{innerHTML:r.itemData.urlHighLight||r.itemData.http.request.url||"-"},null,8,$a)],8,Oa)]),a("div",Fa,[_(ze,pe(r.$attrs,{type:l(ge).Dropdown,identity:r.itemData.identity,onDetail:c,onSaveToPoster:h}),null,16,["type","identity"])])],2)],4)}}});const Sa=z(xa,[["__scopeId","data-v-7e0014e9"]]);var Ha=typeof global=="object"&&global&&global.Object===Object&&global;const Ta=Ha;var qa=typeof self=="object"&&self&&self.Object===Object&&self,Aa=Ta||qa||Function("return this")();const Je=Aa;var Ia=Je.Symbol;const be=Ia;var Xe=Object.prototype,Ua=Xe.hasOwnProperty,Pa=Xe.toString,ue=be?be.toStringTag:void 0;function Wa(e){var s=Ua.call(e,ue),t=e[ue];try{e[ue]=void 0;var p=!0}catch{}var i=Pa.call(e);return p&&(s?e[ue]=t:delete e[ue]),i}var Ma=Object.prototype,Ra=Ma.toString;function ja(e){return Ra.call(e)}var Na="[object Null]",La="[object Undefined]",Te=be?be.toStringTag:void 0;function Ba(e){return e==null?e===void 0?La:Na:Te&&Te in Object(e)?Wa(e):ja(e)}function Va(e){return e!=null&&typeof e=="object"}var za="[object Symbol]";function Ja(e){return typeof e=="symbol"||Va(e)&&Ba(e)==za}var Xa=/\s/;function Ka(e){for(var s=e.length;s--&&Xa.test(e.charAt(s)););return s}var Ga=/^\s+/;function Qa(e){return e&&e.slice(0,Ka(e)+1).replace(Ga,"")}function Fe(e){var s=typeof e;return e!=null&&(s=="object"||s=="function")}var qe=0/0,Ya=/^[-+]0x[0-9a-f]+$/i,Za=/^0b[01]+$/i,Ea=/^0o[0-7]+$/i,es=parseInt;function Ae(e){if(typeof e=="number")return e;if(Ja(e))return qe;if(Fe(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=Fe(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=Qa(e);var t=Za.test(e);return t||Ea.test(e)?es(e.slice(2),t?2:8):Ya.test(e)?qe:+e}var ts=function(){return Je.Date.now()};const $e=ts;var as="Expected a function",ss=Math.max,ls=Math.min;function ns(e,s,t){var p,i,c,h,r,u,f=0,m=!1,b=!1,F=!0;if(typeof e!="function")throw new TypeError(as);s=Ae(s)||0,Fe(t)&&(m=!!t.leading,b="maxWait"in t,c=b?ss(Ae(t.maxWait)||0,s):c,F="trailing"in t?!!t.trailing:F);function O(w){var j=p,J=i;return p=i=void 0,f=w,h=e.apply(J,j),h}function C(w){return f=w,r=setTimeout(D,s),m?O(w):h}function k(w){var j=w-u,J=w-f,_e=s-j;return b?ls(_e,c-J):_e}function x(w){var j=w-u,J=w-f;return u===void 0||j>=s||j<0||b&&J>=c}function D(){var w=$e();if(x(w))return V(w);r=setTimeout(D,k(w))}function V(w){return r=void 0,F&&p?O(w):(p=i=void 0,h)}function I(){r!==void 0&&clearTimeout(r),f=0,p=u=i=r=void 0}function T(){return r===void 0?h:V($e())}function H(){var w=$e(),j=x(w);if(p=arguments,i=this,u=w,j){if(r===void 0)return C(u);if(b)return clearTimeout(r),r=setTimeout(D,s),O(u)}return r===void 0&&(r=setTimeout(D,s)),h}return H.cancel=I,H.flush=T,H}function os(e,s,t=1e3){const p=Y([]),i=Y(!0);fe(()=>s.value,()=>{const{rowItemAmount:m,listData:b,rowHeight:F}=s.value,O=[];for(let C=0;C<b.length;C+=1){const k=Math.floor(C/m);O.push({value:b[C],top:k*F})}p.value=O},{deep:!0,immediate:!0});let c=null;const h=Y(0),r=Y(0),u=Ce({begin:0,end:0+t}),f=ns(m=>{var b;h.value=((b=m.target)==null?void 0:b.scrollTop)||0,u.begin=h.value-t,u.end=h.value+r.value+t},200);return fe(()=>r.value,m=>{u.begin=h.value-t,u.end=h.value+m+t}),at(()=>{st(()=>{c=document.getElementById(e),r.value=(c==null?void 0:c.clientHeight)||0,u.end=r.value+t,c.addEventListener("resize",()=>{r.value=(c==null?void 0:c.clientHeight)||0}),i&&c.addEventListener("scroll",f)})}),lt(()=>{f.cancel()}),{wrapData:p,scrollTop:h,showArea:u}}const is={class:"har-work-batch"},rs={class:"tw-text-sm"},us={class:"tw-text-sm"},cs={class:"tw-text-sm"},ds={class:"tw-text-sm"},ps={name:"HarBatchWork"},_s=S({...ps,setup(e){const s=A("storeItemData");function t(r=!1){const{selected:u,requests:f}=s.list,m=[];return Q(u)?X(K.Warning,o("notice.selectEmpty")):W(f,b=>{if(u.includes(b.identity)&&(r&&b.type===g.WebSocket||m.push(b.http)),u.length===m.length)return!1}),m}function p(){const r=t();Q(r)||ie(JSON.stringify(ye([...r])),!0)}function i(){const r=t();Q(r)||Le(JSON.stringify(ye([...r])),"poster.har")}function c(){const r=t(!0),u=chrome;u&&!Q(r)&&u.permissions.request({permissions:["downloads"]},f=>{f?W(r,m=>{u.downloads.download({url:m.request.url})}):X(K.Warning,o("notice.noAuth"))})}function h(){s.list.requests=[]}return(r,u)=>(d(),v("div",is,[a("span",{onClick:p},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).CopyOutlined},null,8,["type"])]),default:y(()=>[a("span",rs,n(l(o)("har.batch.copyHar")),1)]),_:1})]),a("span",{onClick:i},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).ExportOutlined},null,8,["type"])]),default:y(()=>[a("span",us,n(l(o)("har.batch.exportHar")),1)]),_:1})]),a("span",{onClick:c},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).DownloadOutlined},null,8,["type"])]),default:y(()=>[a("span",cs,n(l(o)("har.batch.downloadFile")),1)]),_:1})]),a("span",{onClick:h},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).ClearOutlined},null,8,["type"])]),default:y(()=>[a("span",ds,n(l(o)("har.batch.clearHar")),1)]),_:1})])]))}});const hs=z(_s,[["__scopeId","data-v-b219182a"]]),vs={class:"editor-step2"},ms={class:"tw-mb-4 tw-flex tw-justify-between"},fs={class:"tw-flex tw-items-center tw-justify-between"},ys={class:"tw-font-bold"},bs={class:"tw-ml-4 tw-text-sm"},gs={class:"tw-mb-4 tw-flex tw-justify-between"},ks={class:"har-list",id:"har-list"},ws={name:"HarImportStep2"},Ds=S({...ws,emits:["step1"],setup(e,{emit:s}){const t=A("storeItemData"),p=Y([]);let i;function c(){const F=[],{search:{status:O,url:C,type:k},requests:x}=t.list;W(x,D=>{const{status:V,type:I,http:T}=D;let H=!0;if(D.urlHighLight="",H&&!Q(O)&&!O.includes(V)&&(H=!1),H&&!Q(k)&&!k.includes(I)&&(H=!1),H&&C)if(T.request.url.indexOf(C)===-1)H=!1;else{i||(i=new dt({color:"#FFFF00",tag:"font"}));const w=i.search(T.request.url,C);w.isMatch&&(D.urlHighLight=w.highlightStr)}H&&F.push(D)}),p.value=F}const h=B(()=>({listData:p.value,rowItemAmount:1,rowHeight:44})),{wrapData:r,showArea:u}=os("har-list",h),f=ct(c,500);fe(()=>[t.list.search,t.list.requests],()=>f(),{immediate:!0,deep:!0});function m(F){t.list.detailIdentity=F}function b(){s("step1")}return(F,O)=>(d(),v("div",vs,[a("div",ms,[a("div",fs,[a("span",ys,n(l(o)("har.import.step2.title")),1),a("span",bs,n(l(o)("har.import.step2.amount"))+": "+n(l(r).length),1),a("span",null,[_(hs)])]),a("div",null,[_(Ne,{onClick:b,type:"primary",name:l(o)("har.import.step2.confirm")},null,8,["name"])])]),a("div",gs,[_(zt)]),a("div",ks,[(d(!0),v(Z,null,se(l(r),C=>(d(),v(Z,{key:C.value.identity},[C.top>=l(u).begin&&C.top<=l(u).end?(d(),R(Sa,{key:0,top:C.top,"item-data":C.value,onDetail:m},null,8,["top","item-data"])):P("",!0)],64))),128))])]))}});const Os=z(Ds,[["__scopeId","data-v-ec5d83e9"]]),$s={class:"tw-h-full"},Fs={class:"har-import"},Cs={class:"tw-flex tw-justify-center tw-my-6 tw-w-full"},xs={class:"tw-w-full tw-mx-10"},Ss={name:"HarImport"},Hs=S({...Ss,setup(e){const s=A("storeItemData"),t=[{value:"1",label:o("har.import.step1.name"),description:""},{value:"2",label:o("har.import.step2.name"),description:""}];return(p,i)=>(d(),v("div",$s,[a("h3",null,n(l(o)("har.import.label")),1),a("div",Fs,[a("div",Cs,[a("div",xs,[_(ft,{step:l(s).step,steps:t},null,8,["step"])])]),l(s).step===0?(d(),R(Ut,{key:0,onStep2:i[0]||(i[0]=()=>l(s).step=1)})):P("",!0),l(s).step===1?(d(),R(Os,{key:1,onStep1:i[1]||(i[1]=()=>l(s).step=0)})):P("",!0)])]))}});const Ts=z(Hs,[["__scopeId","data-v-84e88375"]]),qs={class:"har-detail-item"},As={class:"har-detail-item_block"},Is={class:"har-detail-item_kv"},Us={class:"har-detail-item_block"},Ps={class:"har-detail-item_li"},Ws={class:"har-detail-item_block"},Ms={key:0,class:"har-detail-item_li"},Rs={key:1,class:"har-detail-item_empty"},js={class:"har-detail-item_block"},Ns={class:"har-detail-item_kv"},Ls={name:"HarDetailRequest"},Bs=S({...Ls,setup(e){const s=A("harDetailData"),t=B(()=>{const{request:p,startedDateTime:i,serverIPAddress:c}=s.value;return{startedDateTime:i,serverIPAddress:c,request:p}});return(p,i)=>(d(),v("div",qs,[a("div",null,n(l(o)("har.detail.request.title"))+" "+n(t.value.startedDateTime),1),a("div",As,[a("h4",null,n(l(o)("har.detail.request.normal"))+"\uFF1A",1),a("div",Is,[a("div",null,[a("span",null,n(l(o)("har.detail.request.url"))+"\uFF1A",1),$(" "+n(t.value.request.url),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.version"))+": ",1),$(" "+n(t.value.request.httpVersion),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.method"))+": ",1),$(" "+n(t.value.request.method),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.remote"))+"\uFF1A",1),$(" "+n(t.value.serverIPAddress),1)])])]),a("div",Us,[a("h4",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),a("div",Ps,[a("ul",null,[(d(!0),v(Z,null,se(t.value.request.headers,c=>(d(),v("li",null,[a("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])]),a("div",Ws,[a("h4",null,n(l(o)("har.detail.request.queryParam"))+"\uFF1A",1),t.value.request.queryString&&t.value.request.queryString.length>0?(d(),v("div",Ms,[a("ul",null,[(d(!0),v(Z,null,se(t.value.request.queryString,c=>(d(),v("li",null,[a("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])):(d(),v("div",Rs,n(l(o)("har.detail.request.noQueryString")),1))]),a("div",js,[a("h4",null,n(l(o)("har.detail.request.size"))+"\uFF1A",1),a("div",Ns,[a("div",null,[a("span",null,n(l(o)("har.detail.request.header"))+"\uFF1A",1),$(" "+n(t.value.request.headersSize),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.request.content"))+"\uFF1A",1),$(" "+n(t.value.request.bodySize),1)])])])]))}}),Vs={class:"har-detail-item"},zs={class:"har-detail-item_block"},Js={class:"har-detail-item_kv"},Xs={class:"har-detail-item_block"},Ks={class:"har-detail-item_li"},Gs={class:"har-detail-item_block"},Qs={class:"har-detail-item_kv"},Ys={name:"HarDetailResponse"},Zs=S({...Ys,setup(e){const s=A("harDetailData"),t=B(()=>{const{response:p,startedDateTime:i,serverIPAddress:c}=s.value;return{response:p}});return(p,i)=>(d(),v("div",Vs,[a("div",null,n(l(o)("har.detail.response.title")),1),a("div",zs,[a("h4",null,n(l(o)("har.detail.response.full"))+"\uFF1A",1),a("div",Js,[a("div",null,[a("span",null,n(t.value.response.status),1),$(" "+n(t.value.response.statusText)+" "+n(t.value.response.httpVersion),1)])])]),a("div",Xs,[a("h4",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),a("div",Ks,[a("ul",null,[(d(!0),v(Z,null,se(t.value.response.headers,c=>(d(),v("li",null,[a("span",null,n(c.name),1),$(" "+n(c.value),1)]))),256))])])]),a("div",Gs,[a("h4",null,n(l(o)("har.detail.response.size"))+"\uFF1A",1),a("div",Qs,[a("div",null,[a("span",null,n(l(o)("har.detail.response.header"))+"\uFF1A",1),$(" "+n(t.value.response.headersSize),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.response.content"))+"\uFF1A",1),$(" "+n(t.value.response.bodySize),1)])])])]))}}),Es={class:"har-detail-item_li"},el={key:0},tl={key:1},al={key:2},sl={key:3},ll={key:4},nl={key:5},ol={key:6},il={name:"HarDetailCookieItem"},Ie=S({...il,props:{cookie:{}},setup(e){return(s,t)=>(d(),v("div",null,[a("h5",null,n(s.cookie.name),1),a("div",Es,[a("ul",null,[s.cookie.value?(d(),v("li",el,[a("span",null,n(l(o)("har.detail.cookie.value")),1),$(" "+n(s.cookie.value),1)])):P("",!0),s.cookie.path?(d(),v("li",tl,[a("span",null,n(l(o)("har.detail.cookie.path")),1),$(" "+n(s.cookie.path),1)])):P("",!0),s.cookie.domain?(d(),v("li",al,[a("span",null,n(l(o)("har.detail.cookie.domain")),1),$(" "+n(s.cookie.domain),1)])):P("",!0),s.cookie.expires?(d(),v("li",sl,[a("span",null,n(l(o)("har.detail.cookie.expires")),1),$(" "+n(s.cookie.expires),1)])):P("",!0),s.cookie.expires?(d(),v("li",ll,[a("span",null,n(l(o)("har.detail.cookie.httpOnly")),1),$(" "+n(s.cookie.httpOnly),1)])):P("",!0),s.cookie.expires?(d(),v("li",nl,[a("span",null,n(l(o)("har.detail.cookie.secure")),1),$(" "+n(s.cookie.secure),1)])):P("",!0),s.cookie.expires?(d(),v("li",ol,[a("span",null,n(l(o)("har.detail.cookie.sameSite")),1),$(" "+n(s.cookie.sameSite),1)])):P("",!0)])])]))}}),rl={class:"har-detail-item"},ul={class:"har-detail-item_block"},cl={key:1,class:"har-detail-item_empty"},dl={class:"har-detail-item_block"},pl={key:1,class:"har-detail-item_empty"},_l={name:"HarDetailCookie"},hl=S({..._l,setup(e){const s=A("harDetailData"),t=B(()=>{const{request:p,response:i}=s.value;return{response:i,request:p}});return(p,i)=>(d(),v("div",rl,[a("div",null,n(l(o)("har.detail.cookie.title")),1),a("div",ul,[a("h4",null,n(l(o)("har.detail.cookie.request"))+"\uFF1A",1),t.value.request.cookies&&t.value.request.cookies.length>0?(d(!0),v(Z,{key:0},se(t.value.request.cookies,c=>(d(),v("div",null,[_(Ie,{cookie:c},null,8,["cookie"])]))),256)):(d(),v("div",cl,n(l(o)("har.detail.cookie.noCookie")),1))]),a("div",dl,[a("h4",null,n(l(o)("har.detail.cookie.response"))+"\uFF1A",1),t.value.response.cookies&&t.value.response.cookies.length>0?(d(!0),v(Z,{key:0},se(t.value.response.cookies,c=>(d(),v("div",null,[_(Ie,{cookie:c},null,8,["cookie"])]))),256)):(d(),v("div",pl,n(l(o)("har.detail.cookie.noCookie")),1))])]))}}),vl={class:"har-detail-item"},ml={class:"har-detail-item_block"},fl={class:"har-detail-item_kv"},yl={name:"HarDetailTime"},bl=S({...yl,setup(e){const s=A("harDetailData"),t=B(()=>{const{timings:p}=s.value;return{timings:p}});return(p,i)=>(d(),v("div",vl,[a("div",null,n(l(o)("har.detail.timings.title")),1),a("div",ml,[a("div",fl,[a("div",null,[a("span",null,n(l(o)("har.detail.timings.blocked"))+"\uFF1A",1),$(" "+n(t.value.timings.blocked),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.dns"))+": ",1),$(" "+n(t.value.timings.dns),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.connect"))+": ",1),$(" "+n(t.value.timings.connect),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.send"))+"\uFF1A",1),$(" "+n(t.value.timings.send),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.wait"))+"\uFF1A",1),$(" "+n(t.value.timings.wait),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.receive"))+"\uFF1A",1),$(" "+n(t.value.timings.receive),1)]),a("div",null,[a("span",null,n(l(o)("har.detail.timings.ssl"))+"\uFF1A",1),$(" "+n(t.value.timings.ssl),1)])])])]))}}),gl={class:"har-detail-item"},kl={class:"har-detail-item_block"},wl={class:"har-detail-item_content"},Dl={class:"har-detail-item_block"},Ol={class:"har-detail-item_content"},$l={class:"har-detail-item_block"},Fl={class:"har-detail-item_content"},Cl={class:"har-detail-item_block"},xl={class:"har-detail-item-title_copy"},Sl={key:0,class:"har-detail-item_content"},Hl={key:1,class:"har-detail-item_empty"},Tl={name:"HarDetailContent"},ql=S({...Tl,setup(e){const s=A("harDetailData"),t=B(()=>{const{response:{content:i}}=s.value;return{content:i}});function p(){t.value.content.text&&ie(t.value.content.text)}return(i,c)=>(d(),v("div",gl,[a("div",null,n(l(o)("har.detail.content.title")),1),a("div",kl,[a("h4",null,n(l(o)("har.detail.content.size"))+"\uFF1A",1),a("div",wl,n(t.value.content.size),1)]),a("div",Dl,[a("h4",null,n(l(o)("har.detail.content.zip"))+"\uFF1A",1),a("div",Ol,n(t.value.content.compression),1)]),a("div",$l,[a("h4",null,n(l(o)("har.detail.content.mime"))+"\uFF1A",1),a("div",Fl,n(t.value.content.mimeType),1)]),a("div",Cl,[a("div",xl,[a("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),t.value.content.text?(d(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:p},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).CopyOutlined},null,8,["type"])]),default:y(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t.value.content.text?(d(),v("div",Sl,n(t.value.content.text),1)):(d(),v("div",Hl,n(l(o)("har.detail.content.noContent")),1))])]))}}),Al={class:"har-detail-item"},Il={class:"har-detail-item_block"},Ul={class:"har-detail-item_content"},Pl={key:0,class:"har-detail-item_block"},Wl={class:"har-detail-item_li"},Ml={class:"har-detail-item_block"},Rl={class:"har-detail-item-title_copy"},jl={key:0,class:"har-detail-item_content"},Nl={key:1,class:"har-detail-item_empty"},Ll={name:"HarDetailPost"},Bl=S({...Ll,setup(e){const s=A("harDetailData"),t=B(()=>{const{request:i}=s.value;let c={mimeType:"",text:""};return i.postData&&(c=i.postData),{postData:c}});function p(){t.value.postData.text&&ie(t.value.postData.text)}return(i,c)=>(d(),v("div",Al,[a("div",null,n(l(o)("har.detail.post.title")),1),a("div",Il,[a("h4",null,n(l(o)("har.detail.post.mime"))+"\uFF1A",1),a("div",Ul,n(t.value.postData.mimeType),1)]),t.value.postData.params?(d(),v("div",Pl,[a("h4",null,n(l(o)("har.detail.post.params"))+"\uFF1A",1),a("div",Wl,[a("ul",null,[(d(!0),v(Z,null,se(t.value.postData.params,h=>(d(),v("li",null,[a("span",null,n(h.name),1),$(" "+n(h.value),1)]))),256))])])])):P("",!0),a("div",Ml,[a("div",Rl,[a("h4",null,n(l(o)("har.detail.post.source"))+"\uFF1A",1),t.value.postData.text?(d(),v("span",{key:0,class:"tw-ml-1 tw-cursor-pointer",onClick:p},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).CopyOutlined},null,8,["type"])]),default:y(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),t.value.postData.text?(d(),v("div",jl,n(t.value.postData.text),1)):(d(),v("div",Nl,n(l(o)("har.detail.post.noText")),1))])]))}}),Vl={class:"har-detail-origin"},zl={class:"har-detail-origin_title"},Jl={class:"har-detail-origin_content"},Xl={name:"HarDetailOrigin"},Kl=S({...Xl,props:{origin:{}},setup(e){const s=e,t=Y(JSON.stringify(s.origin,null,4)),p=Y(!1);function i(){ie(t.value,!0)}return(c,h)=>(d(),v("div",Vl,[a("div",zl,[a("div",null,[a("span",null,n(l(o)("har.detail.source.label")),1),c.origin?(d(),v("span",{key:0,class:"tw-ml-2 tw-cursor-pointer",onClick:i},[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).CopyOutlined},null,8,["type"])]),default:y(()=>[a("span",null,n(l(o)("tags.copy")),1)]),_:1})])):P("",!0)]),a("span",null,[_(Re,{checked:p.value,"onUpdate:checked":h[0]||(h[0]=r=>p.value=r),name:l(o)("format.header.useEditor")},null,8,["checked","name"])])]),a("div",Jl,[p.value?(d(),R(je,{key:0,mode:"application/json",value:t.value,"onUpdate:value":h[1]||(h[1]=r=>t.value=r),theme:l(Ue)[l(N).theme.current]},null,8,["value","theme"])):(d(),v(Z,{key:1},[$(n(t.value),1)],64))])]))}});const Gl=z(Kl,[["__scopeId","data-v-691bf8d6"]]),Ql={class:"tw-h-full"},Yl={class:"tw-flex tw-justify-between tw-items-center"},Zl={class:"tw-h-full"},El={key:1,class:"tw-flex tw-items-center tw-justify-center tw-h-full tw-w-full"},en={name:"HarDetail"},tn=S({...en,setup(e){const s=A("storeItemData"),t=Y({});function p(){W(s.list.requests,h=>{var f;const{identity:r,http:u}=h;if(((f=s.list)==null?void 0:f.detailIdentity)===r)return t.value=u,!1})}q("harDetailData",t),fe(()=>{var h;return(h=s.list)==null?void 0:h.detailIdentity},()=>p(),{immediate:!0});const i=B(()=>{var r;const h=[{label:o("har.detail.request.label"),value:"Request"},{label:o("har.detail.response.label"),value:"Response"},{label:o("har.detail.content.label"),value:"Content"},{label:o("har.detail.cookie.label"),value:"Cookie"},{label:o("har.detail.timings.label"),value:"Timeline"},{label:o("har.detail.source.label"),value:"Source"}];return(r=t.value.request)!=null&&r.postData&&h.splice(1,0,{label:o("har.detail.post.label"),value:"Post"}),h}),c=Y("Request");return(h,r)=>(d(),v("div",Ql,[a("div",Yl,[a("h3",null,n(l(o)("har.analysis.label")),1),l(s).list.detailIdentity&&!l(Q)(t.value)?(d(),R(ze,{key:0,identity:l(s).list.detailIdentity,type:l(ge).Icon},null,8,["identity","type"])):P("",!0)]),a("div",Zl,[l(s).list.detailIdentity&&!l(Q)(t.value)?(d(),R(Me,{key:0,tabs:i.value,active:c.value,"onUpdate:active":r[0]||(r[0]=u=>c.value=u)},{Source:y(()=>[_(Gl,{origin:t.value},null,8,["origin"])]),Post:y(()=>[_(Bl)]),Request:y(()=>[_(Bs)]),Response:y(()=>[_(Zs)]),Content:y(()=>[_(ql)]),Cookie:y(()=>[_(hl)]),Timeline:y(()=>[_(bl)]),_:1},8,["tabs","active"])):(d(),v("div",El,[_(Dt,{msg:l(o)("har.analysis.notice.chooseRequest")},null,8,["msg"])]))])]))}});const an=z(tn,[["__scopeId","data-v-8bd0c376"]]),sn={class:"har-editor"},ln={class:"tw-border-r tw-border-neutral-3"},nn={name:"HarEditor"},on=S({...nn,setup(e){const s=A("contentIdentity"),t=A("contentName");return Ft(ce,s,["content"],t),q("storeItemData",ce.item[s.value].content),(p,i)=>(d(),v("div",sn,[a("div",ln,[_(Ts)]),a("div",null,[(d(),R(an,{key:l(s)}))])]))}});const rn=z(on,[["__scopeId","data-v-8c019044"]]),un={class:"warp_bigger har_area"},cn={key:0,class:"show_area"},dn={class:"tw-text-sm"},pn={class:"tw-flex tw-justify-end tw-items-center"},_n={key:0},hn={class:"tw-ml-2"},vn={name:"ModuleHar"},mn=S({...vn,setup(e){const s=A("storeIDB"),t=B(()=>{switch(N.os){case ve.Mac:return o("coding.notice.quick.mac");case ve.Linux:case ve.Unix:case ve.Win:default:return o("coding.notice.quick.win")}}),{curIsSaved:p,curContentIdentity:i,curContentName:c,curContentFolderIdentity:h,curFolders:r,curHistoryFolders:u,addFolder:f,renameFolder:m,deleteFolder:b,sortFolder:F,createContent:O,saveContent:C,showContent:k,renameContent:x,copyContent:D,deleteContent:V,autoSaveContent:I,importContent:T,getContent:H,saveFolder:w,saveContentItem:j}=bt(s,Ct,ce,xt());q("contentIsSaved",p),q("contentFolderIdentity",h),q("contentIdentity",i),q("contentName",c),q("historyFolders",u),q("folders",r),q("addFolder",f),q("renameFolder",m),q("deleteFolder",b),q("showContent",k),q("copyContent",D),q("renameContent",x),q("deleteContent",V),q("sortFolder",F),q("saveContent",C),q("autoSaveContent",I),q("getContent",H),q("saveFolder",w),q("saveContentItem",j);function J(){O()}function _e(ke){N.loading=!0;const{name:E,content:le,isSave:Ke,folderIdentity:Ge}=ke;T(E,le,Ke,Ge,me).then(()=>{N.loading=!1}).catch(()=>{N.loading=!1})}return(ke,E)=>(d(),v("div",un,[_(mt,{collapse:l(N).historyDrawer.collapse,"onUpdate:collapse":E[2]||(E[2]=le=>l(N).historyDrawer.collapse=le),history:l(N).historyDrawer,suffix:l(me)},{default:y(()=>[l(i)?(d(),v("div",cn,[_(it,{title:l(o)(`module.${l(N).module}`),contentName:l(c),"onUpdate:contentName":E[1]||(E[1]=le=>nt(c)?c.value=le:null),"is-has-name":!0},{titleLeft:y(()=>[_(L,null,{anchor:y(()=>[_(M,{type:l(ae).ExclamationCircleOutlined,size:"sm"},null,8,["type"])]),default:y(()=>[a("span",dn,n(t.value),1)]),_:1})]),titleRight:y(()=>[a("div",pn,[l(i)?(d(),v("span",_n,[_(pt,{"store-item-data":l(ce).item[l(i)]},null,8,["store-item-data"])])):P("",!0),a("span",hn,[_(_t,{"support-types":["text/plain"],accept:[l(me)],"store-item-data":l(ce).item[l(i)],suffix:l(me),onSelect:J,onContent:_e},null,8,["accept","store-item-data","suffix"])]),_(ht,pe({class:"tw-ml-2"},ke.$attrs),null,16),l(N).historyDrawer.collapse?(d(),R(vt,{key:1,class:"tw-ml-2",visible:l(N).historyDrawer.visible,"onUpdate:visible":E[0]||(E[0]=le=>l(N).historyDrawer.visible=le)},null,8,["visible"])):P("",!0)])]),default:y(()=>[(d(),R(rn,{key:l(i)}))]),_:1},8,["title","contentName"])])):P("",!0)]),_:1},8,["collapse","history","suffix"])]))}});const fn=z(mn,[["__scopeId","data-v-7af85022"]]),so=S({__name:"Har",setup(e){return(s,t)=>(d(),R(fn))}});export{so as default};
